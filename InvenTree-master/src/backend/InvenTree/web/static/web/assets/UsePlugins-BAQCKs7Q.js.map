{"version":3,"file":"UsePlugins-BAQCKs7Q.js","sources":["../../../../../../frontend/src/hooks/UsePlugins.tsx"],"sourcesContent":["import { ApiEndpoints } from '@lib/enums/ApiEndpoints';\nimport { useCallback } from 'react';\nimport type { PluginInterface } from '../components/plugins/PluginInterface';\nimport { useInstance } from './UseInstance';\n\nexport interface UsePluginResult {\n  plugins: PluginInterface[];\n  withMixin: (mixin: string) => PluginInterface[];\n}\n\n/**\n * Hook for storing information on active plugins\n */\nexport const usePlugins = (): UsePluginResult => {\n  const pluginQuery = useInstance({\n    endpoint: ApiEndpoints.plugin_list,\n    defaultValue: [],\n    hasPrimaryKey: false,\n    refetchOnMount: true,\n    refetchOnWindowFocus: false,\n    params: {\n      active: true\n    }\n  });\n\n  const pluginsWithMixin = useCallback(\n    (mixin: string) => {\n      return pluginQuery.instance.filter((plugin: PluginInterface) => {\n        return !!plugin.mixins[mixin];\n      });\n    },\n    [pluginQuery.instance]\n  );\n\n  return {\n    plugins: pluginQuery.instance,\n    withMixin: pluginsWithMixin\n  };\n};\n\nexport const usePluginsWithMixin = (mixin: string): PluginInterface[] => {\n  const plugins = usePlugins();\n\n  return plugins.withMixin(mixin);\n};\n"],"names":["usePlugins","pluginQuery","useInstance","endpoint","ApiEndpoints","plugin_list","defaultValue","hasPrimaryKey","refetchOnMount","refetchOnWindowFocus","params","active","pluginsWithMixin","useCallback","mixin","instance","filter","plugin","mixins","plugins","withMixin","usePluginsWithMixin"],"mappings":"oFAaO,MAAMA,EAAaA,IAAuB,CAC/C,MAAMC,EAAcC,EAAY,CAC9BC,SAAUC,EAAaC,YACvBC,aAAc,CAAA,EACdC,cAAe,GACfC,eAAgB,GAChBC,qBAAsB,GACtBC,OAAQ,CACNC,OAAQ,EAAA,CACV,CACD,EAEKC,EAAmBC,cACtBC,GACQb,EAAYc,SAASC,OAAQC,GAC3B,CAAC,CAACA,EAAOC,OAAOJ,CAAK,CAC7B,EAEH,CAACb,EAAYc,QAAQ,CACvB,EAEA,MAAO,CACLI,QAASlB,EAAYc,SACrBK,UAAWR,CAAAA,CAEf,EAEaS,EAAuBP,GAClBd,EAAAA,EAEDoB,UAAUN,CAAK"}