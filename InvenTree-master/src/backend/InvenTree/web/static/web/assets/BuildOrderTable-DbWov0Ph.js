import{az as C,r as o,ab as e,j as s,bb as i,ag as F,ao as b,b1 as D,an as h}from"./index-Db7AGPIq.js";import{O as x,x as g,G as S,J as T,Q as B,V as j,W as R,X as V,Y as y,Z as A,_ as L,$ as U,a0 as E,a1 as P,K as w,a2 as M,a9 as O,L as v,P as I,j as N,a as k,d as J}from"./Filter-BgnAqEQC.js";import{P as X}from"./index-DRtKJP-e.js";import{d as q}from"./BuildForms-BotNgtQh.js";import{u as W,I as G}from"./InvenTreeTable-DmN557zY.js";import{R as Z,P as z,D as H,S as K,b as Q,B as Y,i as $,k as ee,T as te,a as ae,U as se,m as re}from"./ColumnRenderers-BUH0stTX.js";function be({partId:t,parentBuildId:r,salesOrderId:d}){const l=C(),c=W(t?"buildorder-part":"buildorder-index"),m=o.useMemo(()=>[Z({}),z({switchable:!1}),{accessor:"part_detail.IPN",sortable:!0,switchable:!0,title:e._({id:"3wXEsN"})},{accessor:"part_detail.revision",title:e._({id:"6LTyxl"}),sortable:!0,defaultVisible:!1},H({accessor:"title",sortable:!1}),{accessor:"completed",title:e._({id:"qqWcBV"}),minWidth:125,sortable:!0,switchable:!1,render:a=>s.jsx(X,{progressLabel:!0,value:a.completed,maximum:a.quantity})},K({model:i.build}),Q({defaultVisible:!1}),{accessor:"level",sortable:!0,switchable:!0,hidden:!r,defaultVisible:!1},{accessor:"priority",sortable:!0,defaultVisible:!1},Y({accessor:"external",title:e._({id:"bVhrVt"}),sortable:!0,switchable:!0,hidden:!l.isSet("BUILDORDER_EXTERNAL_BUILDS")}),$({defaultVisible:!1}),ee({defaultVisible:!1}),te({}),ae({accessor:"completion_date",title:e._({id:"41ha49"}),sortable:!0}),se({accessor:"issued_by_detail",ordering:"issued_by",title:e._({id:"kmUN8p"})}),re({})],[r,l]),p=o.useMemo(()=>{const a=[x(),g({model:i.build}),S(),T(),B(),j(),R(),V(),y(),A(),L(),U(),{name:"has_target_date",type:"boolean",label:e._({id:"egtJvp"}),description:e._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:e._({id:"7Cajbj"}),description:e._({id:"dklbxT"})},E(),P(),w(),M(),O(),v(),{name:"external",label:e._({id:"bVhrVt"}),description:e._({id:"tJZ0bI"}),active:l.isSet("BUILDORDER_EXTERNAL_BUILDS")},I()];return t&&a.push(N()),a},[t,l]),n=F(),_=q({create:!0,modalId:"create-build-order"}),u=k({url:b.build_order_list,title:e._({id:"59jtLx"}),modalId:"create-build-order",fields:_,initialData:{part:t,sales_order:d,parent:r},follow:!0,modelType:i.build}),f=o.useMemo(()=>[s.jsx(J,{hidden:!n.hasAddRole(D.build),tooltip:e._({id:"59jtLx"}),onClick:()=>u.open()},"add-build-order")],[n]);return s.jsxs(s.Fragment,{children:[u.modal,s.jsx(G,{url:h(b.build_order_list),tableState:c,columns:m,props:{params:{part:t,ancestor:r,sales_order:d,part_detail:!0},tableActions:f,tableFilters:p,modelType:i.build,enableSelection:!0,enableReports:!0,enableLabels:!0,enableDownload:!0}})]})}export{be as B};
//# sourceMappingURL=BuildOrderTable-DbWov0Ph.js.map
