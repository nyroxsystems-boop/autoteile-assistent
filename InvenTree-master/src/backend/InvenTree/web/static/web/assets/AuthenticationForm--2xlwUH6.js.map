{"version":3,"file":"AuthenticationForm--2xlwUH6.js","sources":["../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandAzure.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandBitbucket.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandDiscord.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandFacebook.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandFlickr.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandGitlab.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandGoogle.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandReddit.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandTwitch.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconBrandTwitter.mjs","../../../../../../frontend/node_modules/@tabler/icons-react/dist/esm/icons/IconLogin.mjs","../../../../../../frontend/src/components/buttons/SSOButton.tsx","../../../../../../frontend/src/components/forms/AuthenticationForm.tsx"],"sourcesContent":["/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M6 7.5l-4 9.5h4l6 -15z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M22 20l-7 -15l-3 7l4 5l-8 3z\", \"key\": \"svg-1\" }]];\nconst IconBrandAzure = createReactComponent(\"outline\", \"brand-azure\", \"BrandAzure\", __iconNode);\n\nexport { __iconNode, IconBrandAzure as default };\n//# sourceMappingURL=IconBrandAzure.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M3.648 4a.64 .64 0 0 0 -.64 .744l3.14 14.528c.07 .417 .43 .724 .852 .728h10a.644 .644 0 0 0 .642 -.539l3.35 -14.71a.641 .641 0 0 0 -.64 -.744l-16.704 -.007z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M14 15h-4l-1 -6h6z\", \"key\": \"svg-1\" }]];\nconst IconBrandBitbucket = createReactComponent(\"outline\", \"brand-bitbucket\", \"BrandBitbucket\", __iconNode);\n\nexport { __iconNode, IconBrandBitbucket as default };\n//# sourceMappingURL=IconBrandBitbucket.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M8 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M14 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833 -1.667 3.5 -3c.667 -1.667 .5 -5.833 -1.5 -11.5c-1.457 -1.015 -3 -1.34 -4.5 -1.5l-.972 1.923a11.913 11.913 0 0 0 -4.053 0l-.975 -1.923c-1.5 .16 -3.043 .485 -4.5 1.5c-2 5.667 -2.167 9.833 -1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2 -2 2 -3\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M7 16.5c3.5 1 6.5 1 10 0\", \"key\": \"svg-3\" }]];\nconst IconBrandDiscord = createReactComponent(\"outline\", \"brand-discord\", \"BrandDiscord\", __iconNode);\n\nexport { __iconNode, IconBrandDiscord as default };\n//# sourceMappingURL=IconBrandDiscord.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3\", \"key\": \"svg-0\" }]];\nconst IconBrandFacebook = createReactComponent(\"outline\", \"brand-facebook\", \"BrandFacebook\", __iconNode);\n\nexport { __iconNode, IconBrandFacebook as default };\n//# sourceMappingURL=IconBrandFacebook.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M7 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M17 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0\", \"key\": \"svg-1\" }]];\nconst IconBrandFlickr = createReactComponent(\"outline\", \"brand-flickr\", \"BrandFlickr\", __iconNode);\n\nexport { __iconNode, IconBrandFlickr as default };\n//# sourceMappingURL=IconBrandFlickr.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M21 14l-9 7l-9 -7l3 -11l3 7h6l3 -7z\", \"key\": \"svg-0\" }]];\nconst IconBrandGitlab = createReactComponent(\"outline\", \"brand-gitlab\", \"BrandGitlab\", __iconNode);\n\nexport { __iconNode, IconBrandGitlab as default };\n//# sourceMappingURL=IconBrandGitlab.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z\", \"key\": \"svg-0\" }]];\nconst IconBrandGoogle = createReactComponent(\"outline\", \"brand-google\", \"BrandGoogle\", __iconNode);\n\nexport { __iconNode, IconBrandGoogle as default };\n//# sourceMappingURL=IconBrandGoogle.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M12 8c2.648 0 5.028 .826 6.675 2.14a2.5 2.5 0 0 1 2.326 4.36c0 3.59 -4.03 6.5 -9 6.5c-4.875 0 -8.845 -2.8 -9 -6.294l-1 -.206a2.5 2.5 0 0 1 2.326 -4.36c1.646 -1.313 4.026 -2.14 6.674 -2.14z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 8l1 -5l6 1\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M19 4m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-2\" }], [\"circle\", { \"cx\": \"9\", \"cy\": \"13\", \"r\": \".5\", \"fill\": \"currentColor\", \"key\": \"svg-3\" }], [\"circle\", { \"cx\": \"15\", \"cy\": \"13\", \"r\": \".5\", \"fill\": \"currentColor\", \"key\": \"svg-4\" }], [\"path\", { \"d\": \"M10 17c.667 .333 1.333 .5 2 .5s1.333 -.167 2 -.5\", \"key\": \"svg-5\" }]];\nconst IconBrandReddit = createReactComponent(\"outline\", \"brand-reddit\", \"BrandReddit\", __iconNode);\n\nexport { __iconNode, IconBrandReddit as default };\n//# sourceMappingURL=IconBrandReddit.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M4 5v11a1 1 0 0 0 1 1h2v4l4 -4h5.584c.266 0 .52 -.105 .707 -.293l2.415 -2.414c.187 -.188 .293 -.442 .293 -.708v-8.585a1 1 0 0 0 -1 -1h-14a1 1 0 0 0 -1 1z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M16 8l0 4\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12 8l0 4\", \"key\": \"svg-2\" }]];\nconst IconBrandTwitch = createReactComponent(\"outline\", \"brand-twitch\", \"BrandTwitch\", __iconNode);\n\nexport { __iconNode, IconBrandTwitch as default };\n//# sourceMappingURL=IconBrandTwitch.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c0 -.249 1.51 -2.772 1.818 -4.013z\", \"key\": \"svg-0\" }]];\nconst IconBrandTwitter = createReactComponent(\"outline\", \"brand-twitter\", \"BrandTwitter\", __iconNode);\n\nexport { __iconNode, IconBrandTwitter as default };\n//# sourceMappingURL=IconBrandTwitter.mjs.map\n","/**\n * @license @tabler/icons-react v3.34.1 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M15 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M21 12h-13l3 -3\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M11 15l-3 -3\", \"key\": \"svg-2\" }]];\nconst IconLogin = createReactComponent(\"outline\", \"login\", \"Login\", __iconNode);\n\nexport { __iconNode, IconLogin as default };\n//# sourceMappingURL=IconLogin.mjs.map\n","import { Button, Tooltip } from '@mantine/core';\nimport {\n  IconBrandAzure,\n  IconBrandBitbucket,\n  IconBrandDiscord,\n  IconBrandFacebook,\n  IconBrandFlickr,\n  IconBrandGithub,\n  IconBrandGitlab,\n  IconBrandGoogle,\n  IconBrandReddit,\n  IconBrandTwitch,\n  IconBrandTwitter,\n  IconLogin\n} from '@tabler/icons-react';\n\nimport type { AuthProvider } from '@lib/types/Auth';\nimport { t } from '@lingui/core/macro';\nimport { ProviderLogin } from '../../functions/auth';\n\nimport type { JSX } from 'react';\n\nconst brandIcons: { [key: string]: JSX.Element } = {\n  google: <IconBrandGoogle />,\n  github: <IconBrandGithub />,\n  facebook: <IconBrandFacebook />,\n  discord: <IconBrandDiscord />,\n  twitter: <IconBrandTwitter />,\n  bitbucket: <IconBrandBitbucket />,\n  flickr: <IconBrandFlickr />,\n  gitlab: <IconBrandGitlab />,\n  reddit: <IconBrandReddit />,\n  twitch: <IconBrandTwitch />,\n  microsoft: <IconBrandAzure />\n};\n\nexport function SsoButton({ provider }: Readonly<{ provider: AuthProvider }>) {\n  return (\n    <Tooltip\n      label={t`You will be redirected to the provider for further actions.`}\n    >\n      <Button\n        leftSection={getBrandIcon(provider)}\n        radius='xl'\n        component='a'\n        onClick={() => ProviderLogin(provider)}\n      >\n        {provider.name}\n      </Button>\n    </Tooltip>\n  );\n}\nfunction getBrandIcon(provider: AuthProvider) {\n  return brandIcons[provider.id] || <IconLogin />;\n}\n","import { ApiEndpoints } from '@lib/enums/ApiEndpoints';\nimport { apiUrl } from '@lib/functions/Api';\nimport { t } from '@lingui/core/macro';\nimport { Trans } from '@lingui/react/macro';\nimport {\n  Alert,\n  Anchor,\n  Button,\n  Divider,\n  Group,\n  Loader,\n  PasswordInput,\n  Stack,\n  Text,\n  TextInput,\n  VisuallyHidden\n} from '@mantine/core';\nimport { useForm } from '@mantine/form';\nimport { useDisclosure } from '@mantine/hooks';\nimport { showNotification } from '@mantine/notifications';\nimport { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useShallow } from 'zustand/react/shallow';\nimport { api } from '../../App';\nimport {\n  doBasicLogin,\n  doSimpleLogin,\n  ensureCsrf,\n  followRedirect\n} from '../../functions/auth';\nimport { showLoginNotification } from '../../functions/notifications';\nimport { useServerApiState } from '../../states/ServerApiState';\nimport { useUserState } from '../../states/UserState';\nimport { SsoButton } from '../buttons/SSOButton';\nimport { errorCodeLink } from '../nav/Alerts';\n\nexport function AuthenticationForm() {\n  const classicForm = useForm({\n    initialValues: { username: '', password: '', code: '' }\n  });\n  const simpleForm = useForm({ initialValues: { email: '' } });\n  const [classicLoginMode, setMode] = useDisclosure(true);\n  const [auth_config, sso_enabled, password_forgotten_enabled] =\n    useServerApiState(\n      useShallow((state) => [\n        state.auth_config,\n        state.sso_enabled,\n        state.password_forgotten_enabled\n      ])\n    );\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { isLoggedIn } = useUserState();\n\n  const [isLoggingIn, setIsLoggingIn] = useState<boolean>(false);\n\n  function handleLogin() {\n    setIsLoggingIn(true);\n\n    if (classicLoginMode === true) {\n      doBasicLogin(\n        classicForm.values.username,\n        classicForm.values.password,\n\n        navigate,\n        classicForm.values.code\n      )\n        .then((success) => {\n          setIsLoggingIn(false);\n\n          if (isLoggedIn()) {\n            showLoginNotification({\n              title: t`Login successful`,\n              message: t`Logged in successfully`\n            });\n            followRedirect(navigate, location?.state);\n          } else if (success) {\n            // MFA login\n          } else {\n            showLoginNotification({\n              title: t`Login failed`,\n              message: t`Check your input and try again.`,\n              success: false\n            });\n          }\n        })\n        .catch(() => {\n          showNotification({\n            title: t`Login failed`,\n            message: t`Check your input and try again.`,\n            color: 'red'\n          });\n        });\n    } else {\n      doSimpleLogin(simpleForm.values.email).then((ret) => {\n        setIsLoggingIn(false);\n\n        if (ret?.status === 'ok') {\n          showLoginNotification({\n            title: t`Mail delivery successful`,\n            message: t`Check your inbox for the login link. If you have an account, you will receive a login link. Check in spam too.`\n          });\n        } else {\n          showLoginNotification({\n            title: t`Mail delivery failed`,\n            message: t`Check your input and try again.`,\n            success: false\n          });\n        }\n      });\n    }\n  }\n\n  return (\n    <>\n      {sso_enabled() ? (\n        <>\n          <Group grow mb='md' mt='md'>\n            {auth_config?.socialaccount.providers.map((provider) => (\n              <SsoButton provider={provider} key={provider.id} />\n            ))}\n          </Group>\n\n          <Divider\n            label={t`Or continue with other methods`}\n            labelPosition='center'\n            my='lg'\n          />\n        </>\n      ) : null}\n      <form onSubmit={classicForm.onSubmit(() => {})}>\n        {classicLoginMode ? (\n          <Stack gap={0}>\n            <TextInput\n              required\n              label={t`Username`}\n              aria-label='login-username'\n              placeholder={t`Your username`}\n              {...classicForm.getInputProps('username')}\n            />\n            <PasswordInput\n              required\n              label={t`Password`}\n              aria-label='login-password'\n              placeholder={t`Your password`}\n              {...classicForm.getInputProps('password')}\n            />\n            <VisuallyHidden>\n              <TextInput\n                name='TOTP'\n                {...classicForm.getInputProps('code')}\n                hidden={true}\n              />\n            </VisuallyHidden>\n            {password_forgotten_enabled() === true && (\n              <Group justify='space-between' mt='0'>\n                <Anchor\n                  component='button'\n                  type='button'\n                  c='dimmed'\n                  size='xs'\n                  onClick={() => navigate('/reset-password')}\n                >\n                  <Trans>Reset password</Trans>\n                </Anchor>\n              </Group>\n            )}\n          </Stack>\n        ) : (\n          <Stack>\n            <TextInput\n              required\n              label={t`Email`}\n              description={t`We will send you a link to login - if you are registered`}\n              placeholder='email@example.org'\n              {...simpleForm.getInputProps('email')}\n            />\n          </Stack>\n        )}\n\n        <Group justify='space-between' mt='xl'>\n          <Anchor\n            component='button'\n            type='button'\n            c='dimmed'\n            size='xs'\n            onClick={() => setMode.toggle()}\n          >\n            {classicLoginMode ? (\n              <Trans>Send me an email</Trans>\n            ) : (\n              <Trans>Use username and password</Trans>\n            )}\n          </Anchor>\n          <Button type='submit' disabled={isLoggingIn} onClick={handleLogin}>\n            {isLoggingIn ? (\n              <Loader size='sm' />\n            ) : (\n              <>\n                {classicLoginMode ? (\n                  <Trans>Log In</Trans>\n                ) : (\n                  <Trans>Send Email</Trans>\n                )}\n              </>\n            )}\n          </Button>\n        </Group>\n      </form>\n    </>\n  );\n}\n\nexport function RegistrationForm() {\n  const registrationForm = useForm({\n    initialValues: {\n      username: '',\n      email: '',\n      password: '',\n      password2: '' as string | undefined\n    }\n  });\n  const navigate = useNavigate();\n  const [auth_config, registration_enabled, sso_registration] =\n    useServerApiState(\n      useShallow((state) => [\n        state.auth_config,\n        state.registration_enabled,\n        state.sso_registration_enabled\n      ])\n    );\n  const [isRegistering, setIsRegistering] = useState<boolean>(false);\n\n  async function handleRegistration() {\n    // check if passwords match\n    if (\n      registrationForm.values.password !== registrationForm.values.password2\n    ) {\n      registrationForm.setFieldError('password2', t`Passwords do not match`);\n      return;\n    }\n    setIsRegistering(true);\n\n    // remove password2 from the request\n    const { password2, ...vals } = registrationForm.values;\n    await ensureCsrf();\n\n    api\n      .post(apiUrl(ApiEndpoints.auth_signup), vals, {\n        headers: { Authorization: '' }\n      })\n      .then((ret) => {\n        if (ret?.status === 200) {\n          setIsRegistering(false);\n          showLoginNotification({\n            title: t`Registration successful`,\n            message: t`Please confirm your email address to complete the registration`\n          });\n          navigate('/home');\n        }\n      })\n      .catch((err) => {\n        if (err.response?.status === 400) {\n          setIsRegistering(false);\n\n          // collect all errors per field\n          const errors: { [key: string]: string[] } = {};\n          for (const val of err.response.data.errors) {\n            if (!errors[val.param]) {\n              errors[val.param] = [];\n            }\n            errors[val.param].push(val.message);\n          }\n\n          for (const key in errors) {\n            registrationForm.setFieldError(key, errors[key]);\n          }\n\n          showLoginNotification({\n            title: t`Input error`,\n            message: t`Check your input and try again. `,\n            success: false\n          });\n        }\n      });\n  }\n\n  const both_reg_enabled = registration_enabled() && sso_registration();\n  return (\n    <>\n      {registration_enabled() && (\n        <form onSubmit={registrationForm.onSubmit(() => {})}>\n          <Stack gap={0}>\n            <TextInput\n              required\n              label={t`Username`}\n              aria-label='register-username'\n              placeholder={t`Your username`}\n              {...registrationForm.getInputProps('username')}\n            />\n            <TextInput\n              required\n              label={t`Email`}\n              aria-label='register-email'\n              description={t`This will be used for a confirmation`}\n              placeholder='email@example.org'\n              {...registrationForm.getInputProps('email')}\n            />\n            <PasswordInput\n              required\n              label={t`Password`}\n              aria-label='register-password'\n              placeholder={t`Your password`}\n              {...registrationForm.getInputProps('password')}\n            />\n            <PasswordInput\n              required\n              label={t`Password repeat`}\n              aria-label='register-password-repeat'\n              placeholder={t`Repeat password`}\n              {...registrationForm.getInputProps('password2')}\n            />\n          </Stack>\n\n          <Group justify='space-between' mt='xl'>\n            <Button\n              type='submit'\n              disabled={isRegistering}\n              onClick={handleRegistration}\n              fullWidth\n            >\n              <Trans>Register</Trans>\n            </Button>\n          </Group>\n        </form>\n      )}\n      {both_reg_enabled && (\n        <Divider label={t`Or use SSO`} labelPosition='center' my='lg' />\n      )}\n      {sso_registration() && (\n        <Group grow mb='md' mt='md'>\n          {auth_config?.socialaccount.providers.map((provider) => (\n            <SsoButton provider={provider} key={provider.id} />\n          ))}\n        </Group>\n      )}\n      {!registration_enabled() && !sso_registration() && (\n        <Alert title={t`Registration not active`} color='orange'>\n          <Text>{t`This might be related to missing mail settings or could be a deliberate decision.`}</Text>\n          {errorCodeLink('INVE-W11')}\n        </Alert>\n      )}\n    </>\n  );\n}\n"],"names":["__iconNode","IconBrandAzure","createReactComponent","IconBrandBitbucket","IconBrandDiscord","IconBrandFacebook","IconBrandFlickr","IconBrandGitlab","IconBrandGoogle","IconBrandReddit","IconBrandTwitch","IconBrandTwitter","IconLogin","brandIcons","google","github","IconBrandGithub","facebook","discord","twitter","bitbucket","flickr","gitlab","reddit","twitch","microsoft","SsoButton","provider","jsx","Tooltip","_i18n","_","id","Button","getBrandIcon","ProviderLogin","name","AuthenticationForm","classicForm","useForm","initialValues","username","password","code","simpleForm","email","classicLoginMode","setMode","useDisclosure","auth_config","sso_enabled","password_forgotten_enabled","useServerApiState","useShallow","state","navigate","useNavigate","location","useLocation","isLoggedIn","useUserState","isLoggingIn","setIsLoggingIn","useState","handleLogin","doBasicLogin","values","then","success","showLoginNotification","title","message","followRedirect","catch","showNotification","color","doSimpleLogin","ret","status","jsxs","Fragment","Group","socialaccount","providers","map","Divider","onSubmit","Stack","TextInput","getInputProps","PasswordInput","VisuallyHidden","Anchor","_Trans","toggle","Loader","RegistrationForm","registrationForm","password2","registration_enabled","sso_registration","sso_registration_enabled","isRegistering","setIsRegistering","handleRegistration","setFieldError","vals","ensureCsrf","api","post","apiUrl","ApiEndpoints","auth_signup","headers","Authorization","err","response","errors","val","data","param","push","key","both_reg_enabled","Alert","Text","errorCodeLink"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}