import{ag as b,r as l,ab as r,bb as a,j as t,ao as u,b1 as f,an as C}from"./index-Db7AGPIq.js";import{x as F,O as y,G as h,J as j,Q as x,V as D,W as T,X as R,Y as S,Z as g,_ as V,$ as M,a0 as A,a1 as O,a2 as B,K as w,L as P,a3 as U,j as k,a as v,d as E}from"./Filter-BgnAqEQC.js";import{b as J}from"./formatters-B4ehJgEk.js";import{u as I}from"./ReturnOrderForms-DH3actnY.js";import{u as K,I as L}from"./InvenTreeTable-DmN557zY.js";import{R as W,D as Z,h as z,S as N,b as q,i as G,j as H,k as Q,T as X,l as ee,m as Y,d as $,o as re}from"./ColumnRenderers-BUH0stTX.js";import{P as te}from"./index-DRtKJP-e.js";import{u as se}from"./SalesOrderForms-DoG2xqUe.js";function ce({partId:s,customerId:o}){const m=K(s?"returnorders-part":"returnorders-index"),n=b(),c=l.useMemo(()=>{const e=[F({model:a.returnorder}),y(),h(),j(),x(),D(),T(),R(),S(),g(),V(),M(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},A(),O(),B(),w(),P(),U()];return s&&e.push(k()),e},[s]),p=l.useMemo(()=>[W({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx($,{company:e.customer_detail})},{accessor:"customer_reference"},Z({}),z({}),N({model:a.returnorder}),q({defaultVisible:!1}),G({defaultVisible:!1}),H({defaultVisible:!1}),Q({defaultVisible:!1}),X({}),ee({accessor:"complete_date"}),Y({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>J(e.total_price,{currency:e.order_currency||e.customer_detail?.currency})}],[]),i=I({}),d=v({url:u.return_order_list,title:r._({id:"mpNlR/"}),fields:i,initialData:{customer:o},follow:!0,modelType:a.returnorder}),_=l.useMemo(()=>[t.jsx(E,{tooltip:r._({id:"mpNlR/"}),onClick:()=>d.open(),hidden:!n.hasAddRole(f.return_order)},"add-return-order")],[n]);return t.jsxs(t.Fragment,{children:[d.modal,t.jsx(L,{url:C(u.return_order_list),tableState:m,columns:p,props:{params:{part:s,customer:o,customer_detail:!0},tableFilters:c,tableActions:_,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0,enableLabels:!0}})]})}function pe({partId:s,customerId:o}){const m=K(s?"salesorder-part":"salesorder-index"),n=b(),c=l.useMemo(()=>{const e=[F({model:a.salesorder}),y(),h(),j(),x(),D(),T(),R(),S(),g(),V(),M(),{name:"has_target_date",type:"boolean",label:r._({id:"egtJvp"}),description:r._({id:"hnmJUh"})},{name:"has_start_date",type:"boolean",label:r._({id:"7Cajbj"}),description:r._({id:"dklbxT"})},A(),O(),B(),w(),P(),U()];return s&&e.push(k()),e},[s]),p=se({}),i=v({url:u.sales_order_list,title:r._({id:"VzdnWM"}),fields:p,initialData:{customer:o},follow:!0,modelType:a.salesorder}),d=l.useMemo(()=>[t.jsx(E,{tooltip:r._({id:"VzdnWM"}),onClick:()=>i.open(),hidden:!n.hasAddRole(f.sales_order)},"add-sales-order")],[n]),_=l.useMemo(()=>[W({}),{accessor:"customer__name",title:r._({id:"876pfE"}),sortable:!0,render:e=>t.jsx($,{company:e.customer_detail})},{accessor:"customer_reference",title:r._({id:"ZVUe1A"})},Z({}),z({}),{accessor:"shipments_count",title:r._({id:"aljM0q"}),minWidth:125,render:e=>t.jsx(te,{progressLabel:!0,value:e.completed_shipments_count,maximum:e.shipments_count})},N({model:a.salesorder}),q({defaultVisible:!1}),G({defaultVisible:!1}),H({defaultVisible:!1}),Q({defaultVisible:!1}),X({}),re({}),Y({}),{accessor:"total_price",title:r._({id:"KyZVKD"}),sortable:!0,render:e=>J(e.total_price,{currency:e.order_currency||e.customer_detail?.currency})}],[]);return t.jsxs(t.Fragment,{children:[i.modal,t.jsx(L,{url:C(u.sales_order_list),tableState:m,columns:_,props:{params:{customer_detail:!0,part:s,customer:o},tableFilters:c,tableActions:d,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0,enableLabels:!0}})]})}export{ce as R,pe as S};
//# sourceMappingURL=SalesOrderTable-B1327nrl.js.map
