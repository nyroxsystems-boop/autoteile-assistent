import{K as w,ag as y,r,ab as e,j as t,d as g,ao as u,b1 as n,bb as N,an as z}from"./index-Db7AGPIq.js";import{A as B}from"./ActionButton-Cv5j5I5R.js";import{T as C,a as M,d as W,b as Q,c as L}from"./Filter-BgnAqEQC.js";import{u as U,R as V,d as X,a as O,I as q}from"./InvenTreeTable-DmN557zY.js";import{I as J}from"./ImportPartWizard-DE8Rg4Ga.js";import{u as S}from"./CompanyForms-CIJgkbDe.js";import{u as K}from"./UsePlugins-BAQCKs7Q.js";import{P as G,D as H,B as I,c as Z,L as Y,N as $,d as A}from"./ColumnRenderers-BUH0stTX.js";import{a7 as ee}from"./ThemeContext-CxdCkKtz.js";/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M3 21v-13l9 -4l9 4v13",key:"svg-0"}],["path",{d:"M13 13h4v8h-10v-6h6",key:"svg-1"}],["path",{d:"M13 21v-9a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v3",key:"svg-2"}]],de=w("outline","building-warehouse","BuildingWarehouse",ae);function ce({manufacturerId:j,manufacturerPartId:m,partId:s,supplierId:_}){const l=U("supplierparts"),i=y(),R=r.useMemo(()=>[G({switchable:!!s,part:"part_detail"}),{accessor:"part_detail.IPN",title:e._({id:"3wXEsN"}),sortable:!1,switchable:!0},{accessor:"supplier",sortable:!0,render:a=>t.jsx(A,{company:a?.supplier_detail})},{accessor:"SKU",title:e._({id:"nne72x"}),sortable:!0},H({}),{accessor:"manufacturer",title:e._({id:"+m9/3S"}),sortable:!0,render:a=>t.jsx(A,{company:a?.manufacturer_detail})},{accessor:"MPN",sortable:!0,title:e._({id:"TOxiOu"}),render:a=>a?.manufacturer_part_detail?.MPN},I({accessor:"active",title:e._({id:"F6pfE9"}),sortable:!0,switchable:!0,defaultVisible:!1}),Z({accessor:"in_stock",sortable:!0}),{accessor:"packaging",sortable:!0,defaultVisible:!1},{accessor:"pack_quantity",sortable:!0,render:a=>{const p=a?.part_detail??{},k=[];return p.units&&k.push(t.jsxs(g,{size:"sm",children:[e._({id:"v9F5VO"})," : ",p.units]},"base")),t.jsx(C,{value:a.pack_quantity,extra:k,title:e._({id:"J9LTXQ"})})}},Y({}),$({}),{accessor:"available",sortable:!0,defaultVisible:!1,render:a=>{const p=[];return a.availablility_updated&&p.push(t.jsxs(g,{children:[e._({id:"+b7T3G"})," : ",a.availablility_updated]})),t.jsx(C,{value:a.available,extra:p})}}],[s]),F=S({partId:s}),b=M({url:u.supplier_part_list,title:e._({id:"EREF+D"}),fields:F,initialData:{part:s,supplier:_,manufacturer_part:m},table:l,successMessage:e._({id:"LjPQ/X"})}),h=K("supplier"),f=J({partId:s}),D=r.useMemo(()=>[t.jsx(W,{tooltip:e._({id:"PsAftp"}),onClick:()=>b.open(),hidden:!i.hasAddRole(n.purchase_order)},"add-supplier-part"),t.jsx(B,{icon:t.jsx(ee,{}),color:"green",tooltip:e._({id:"+JWrX4"}),onClick:()=>f.openWizard(),hidden:h.length===0||!i.hasAddRole(n.part)||!s},"import-part")],[i,s,h]),E=r.useMemo(()=>[{name:"active",label:e._({id:"F6pfE9"}),description:e._({id:"fPFpxB"})},{name:"part_active",label:e._({id:"9RQlSP"}),description:e._({id:"AS2E8V"})},{name:"supplier_active",label:e._({id:"2OQxz2"}),description:e._({id:"T+mlMU"})},{name:"has_stock",label:e._({id:"zn38D/"}),description:e._({id:"u22Ntx"})}],[]),o=S({}),[d,c]=r.useState(void 0),v=Q({url:u.supplier_part_list,pk:d?.pk,title:e._({id:"qZstuw"}),fields:r.useMemo(()=>o,[o]),table:l}),x=M({url:u.supplier_part_list,title:e._({id:"EREF+D"}),fields:r.useMemo(()=>o,[o]),initialData:{...d,active:!0},table:l,successMessage:e._({id:"LjPQ/X"})}),P=L({url:u.supplier_part_list,pk:d?.pk,title:e._({id:"9Qoago"}),table:l}),T=r.useCallback(a=>[V({hidden:!i.hasChangeRole(n.purchase_order),onClick:()=>{c(a),v.open()}}),X({hidden:!i.hasAddRole(n.purchase_order),onClick:()=>{c(a),x.open()}}),O({hidden:!i.hasDeleteRole(n.purchase_order),onClick:()=>{c(a),P.open()}})],[i,o]);return t.jsxs(t.Fragment,{children:[b.modal,v.modal,x.modal,P.modal,f.wizard,t.jsx(q,{url:z(u.supplier_part_list),tableState:l,columns:R,props:{params:{manufacturer:j,manufacturer_part:m,supplier:_,part:s,part_detail:!0,supplier_detail:!0,manufacturer_detail:!0},rowActions:T,enableDownload:!0,tableActions:D,tableFilters:E,modelType:N.supplierpart}})]})}export{de as I,ce as S};
//# sourceMappingURL=SupplierPartTable-DT57hHj3.js.map
