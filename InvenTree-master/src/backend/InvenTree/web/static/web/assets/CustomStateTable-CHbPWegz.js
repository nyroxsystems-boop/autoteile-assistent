import{cy as y,r as s,ag as G,ab as e,j as o,am as I,cA as A,ao as l,b1 as u,an as E}from"./index-Db7AGPIq.js";import{a as x,b as U,c as V,d as N}from"./Filter-BgnAqEQC.js";import{u as O,R as z,d as B,a as L,I as Q}from"./InvenTreeTable-DmN557zY.js";import{a as d}from"./CommonForms-DKQecQmS.js";import"./ThemeContext-CxdCkKtz.js";import"./DesktopAppView-BuH2j218.js";import"./ActionButton-Cv5j5I5R.js";import"./IconChevronDown-CzbIU38Y.js";import"./index-DRtKJP-e.js";import"./QRCode-BaIEIQ2d.js";import"./browser-DSycY7kT.js";import"./IconDotsVertical-D8D3XsjG.js";import"./IconTags-DnGx22aA.js";import"./IconUsers-Dr_Sln9A.js";function ot(){const a=O("customstates"),i=y(),m=s.useCallback((t,n)=>{const w=Object.values(i.status??{}).find(c=>c.status_class===t),v=Object.values(w?.values??{}).find(c=>c.key===n);return v?.label??v?.name??""},[i]),r=G(),h=s.useMemo(()=>[{name:"reference_status",label:e._({id:"TGcVE+"}),field_type:"choice",choices:Object.values(i.status??{}).map(t=>({label:t.status_class,value:t.status_class}))}],[i]),g=s.useMemo(()=>[{accessor:"reference_status",title:e._({id:"uAQUqI"}),sortable:!0},{accessor:"logical_key",title:e._({id:"Iz1I4v"}),sortable:!0,render:t=>{const n=m(t.reference_status,t.logical_key);return n||t.logical_key}},{accessor:"name",title:e._({id:"sJGljQ"}),sortable:!0},{accessor:"label",title:e._({id:"0gS7M5"}),sortable:!0},{accessor:"key",sortable:!0},{accessor:"color",render:t=>o.jsx(I,{color:A[t.color]||A.default,variant:"filled",size:"xs",children:t.color})}],[m]),j=d(),T=d(),F=d(),[M,p]=s.useState({}),_=x({url:l.custom_state_list,title:e._({id:"vTGxVN"}),fields:j,table:a}),b=x({url:l.custom_state_list,title:e._({id:"vTGxVN"}),fields:T,initialData:M,table:a}),[S,C]=s.useState(void 0),f=U({url:l.custom_state_list,pk:S,title:e._({id:"/viGTM"}),fields:F,table:a}),k=V({url:l.custom_state_list,pk:S,title:e._({id:"Yrs5A6"}),table:a}),R=s.useCallback(t=>[z({hidden:!r.hasChangeRole(u.admin),onClick:()=>{C(t.pk),f.open()}}),B({hidden:!r.hasAddRole(u.admin),onClick:()=>{p(t),b.open()}}),L({hidden:!r.hasDeleteRole(u.admin),onClick:()=>{C(t.pk),k.open()}})],[r]),D=s.useMemo(()=>[o.jsx(N,{onClick:()=>{p({}),_.open()},tooltip:e._({id:"vTGxVN"})},"add")],[]);return o.jsxs(o.Fragment,{children:[_.modal,f.modal,b.modal,k.modal,o.jsx(Q,{url:E(l.custom_state_list),tableState:a,columns:g,props:{rowActions:R,tableActions:D,tableFilters:h,enableDownload:!0}})]})}export{ot as default};
//# sourceMappingURL=CustomStateTable-CHbPWegz.js.map
