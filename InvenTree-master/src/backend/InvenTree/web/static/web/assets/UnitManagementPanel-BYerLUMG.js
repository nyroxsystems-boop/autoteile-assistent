import{ag as S,r as l,ab as t,ao as r,b1 as d,j as e,an as f,S as A,as as n}from"./index-Db7AGPIq.js";import{S as h}from"./ThemeContext-CxdCkKtz.js";import{u as j,R as g,a as w,I as U}from"./InvenTreeTable-DmN557zY.js";import{B as x}from"./ColumnRenderers-BUH0stTX.js";import{a as R,b as F,c as M,d as T}from"./Filter-BgnAqEQC.js";import{c as _}from"./CommonForms-DKQecQmS.js";import"./DesktopAppView-BuH2j218.js";import"./IconChevronDown-CzbIU38Y.js";import"./index-DRtKJP-e.js";import"./ActionButton-Cv5j5I5R.js";import"./QRCode-BaIEIQ2d.js";import"./browser-DSycY7kT.js";import"./IconDotsVertical-D8D3XsjG.js";import"./IconTags-DnGx22aA.js";import"./YesNoButton-BaVgP5u9.js";import"./formatters-B4ehJgEk.js";import"./IconUsers-Dr_Sln9A.js";function E(){const o=j("custom-units"),s=S(),m=l.useMemo(()=>[{accessor:"name",switchable:!1,sortable:!0},{accessor:"definition",switchable:!1,sortable:!1},{accessor:"symbol",switchable:!1,sortable:!0}],[]),c=R({url:r.custom_unit_list,title:t._({id:"W3xtIU"}),fields:_(),table:o}),[u,i]=l.useState(-1),p=F({url:r.custom_unit_list,pk:u,title:t._({id:"MiLRVK"}),fields:_(),onFormSuccess:a=>o.updateRecord(a)}),b=M({url:r.custom_unit_list,pk:u,title:t._({id:"UbQkdF"}),table:o}),k=l.useCallback(a=>[g({hidden:!s.hasChangeRole(d.admin),onClick:()=>{i(a.pk),p.open()}}),w({hidden:!s.hasDeleteRole(d.admin),onClick:()=>{i(a.pk),b.open()}})],[s]),C=l.useMemo(()=>{const a=[];return a.push(e.jsx(T,{tooltip:t._({id:"VzcXtA"}),onClick:()=>c.open(),hidden:!s.isStaff()||!s.hasChangeRole(d.admin)})),a},[s]);return e.jsxs(e.Fragment,{children:[c.modal,p.modal,b.modal,e.jsx(U,{url:f(r.custom_unit_list),tableState:o,columns:m,props:{rowActions:k,tableActions:C,enableDownload:!0}})]})}function I(){const o=j("all-units","name"),s=l.useMemo(()=>[{accessor:"name",title:t._({id:"6YtxFj"})},x({accessor:"is_alias",title:t._({id:"EbuTi3"})}),x({accessor:"isdimensionless",title:t._({id:"jPCGbw"})})],[]);return e.jsx(U,{url:f(r.all_units),tableState:o,columns:s,props:{enableSearch:!1,enablePagination:!1,enableColumnSwitching:!1,dataFormatter:m=>{const c=m.available_units??{};return Object.entries(c).map(([u,i])=>({name:i.name,is_alias:i.is_alias,compatible_units:i.compatible_units,isdimensionless:i.isdimensionless}))}}})}function H(){return e.jsx(A,{gap:"xs",children:e.jsxs(n,{defaultValue:"custom",children:[e.jsxs(n.Item,{value:"custom",children:[e.jsx(n.Control,{children:e.jsx(h,{size:"lg",children:t._({id:"h0kQrk"})})}),e.jsx(n.Panel,{children:e.jsx(E,{})})]},"custom"),e.jsxs(n.Item,{value:"all",children:[e.jsx(n.Control,{children:e.jsx(h,{size:"lg",children:t._({id:"iJcU0G"})})}),e.jsx(n.Panel,{children:e.jsx(I,{})})]},"all")]})})}export{H as default};
//# sourceMappingURL=UnitManagementPanel-BYerLUMG.js.map
