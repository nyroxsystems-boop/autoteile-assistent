import{ag as A,ao as n,r as s,j as a,b4 as h,bb as r,ab as e,by as k,an as N,b1 as o,S,aD as b}from"./index-Db7AGPIq.js";import{A as C}from"./AdminButton-BR7cWvGK.js";import{I as R,D as P,a as F}from"./InstanceDetail-CF-uHhEW.js";import{D as E,A as T,N as w}from"./NotesPanel-BpiQDImp.js";import{O as G,b as U,E as K,D as O}from"./InvenTreeTable-DmN557zY.js";import{P as q}from"./PageDetail-Bm50kpyR.js";import{P as B}from"./PanelGroup-Bif3iIGQ.js";import{P as W}from"./ParametersPanel-CrcKbDM0.js";import{a as $}from"./CompanyForms-CIJgkbDe.js";import{b as v,a as Q,c as X}from"./Filter-BgnAqEQC.js";import{u as Z}from"./UseInstance-BPJQEWDW.js";import{S as V,I as Y}from"./SupplierPartTable-DT57hHj3.js";import{S as z}from"./StockItemTable-CHHhSxX_.js";import{E as H,a as J,r as L,G as tt}from"./ThemeContext-CxdCkKtz.js";import"./ActionButton-Cv5j5I5R.js";import"./index-DRtKJP-e.js";import"./YesNoButton-BaVgP5u9.js";import"./DesktopAppView-BuH2j218.js";import"./formatters-B4ehJgEk.js";import"./ModelType-DSs66IM7.js";import"./GenericErrorPage-D-1fKCA7.js";import"./NotFound-CsJ_VLc_.js";import"./PermissionDenied-BDbEipg4.js";import"./use-hover-Cq0v4QX_.js";import"./index-Chjiymov.js";import"./AttachmentLink-D_UWVUZG.js";import"./IconChevronDown-CzbIU38Y.js";import"./QRCode-BaIEIQ2d.js";import"./browser-DSycY7kT.js";import"./IconDotsVertical-D8D3XsjG.js";import"./IconTags-DnGx22aA.js";import"./PageTitle-B4iaHXKM.js";import"./PluginUIFeature-DCu8wTdG.js";import"./RemoteComponent-uZoHDwds.js";import"./ParameterTable-CGnscd1r.js";import"./ImporterForms-D2fp0CPO.js";import"./IconCircleDashedCheck-DnGBn8Eq.js";import"./CommonForms-DKQecQmS.js";import"./IconUsers-Dr_Sln9A.js";import"./ColumnRenderers-BUH0stTX.js";import"./IconAt-rYwKGkPn.js";import"./ImportPartWizard-DE8Rg4Ga.js";import"./OrderPartsWizard-BcMgRjfh.js";import"./IconAddressBook-CdNRMeyy.js";import"./UsePlugins-BAQCKs7Q.js";import"./UseStockAdjustActions-BrgagWbF.js";function Zt(){const{id:u}=H(),i=A(),x=J(),{instance:t,instanceQuery:p,refreshInstance:d}=Z({endpoint:n.manufacturer_part_list,pk:u,hasPrimaryKey:!0,params:{part_detail:!0,manufacturer_detail:!0}}),g=s.useMemo(()=>{if(p.isFetching)return a.jsx(h,{});const l=t??{},M=[{type:"link",name:"part",label:e._({id:"GNd5ad"}),model:r.part,hidden:!t.part},{type:"string",name:"part_detail.IPN",label:e._({id:"3wXEsN"}),copy:!0,icon:"serial",hidden:!l.part_detail?.IPN},{type:"string",name:"part_detail.description",label:e._({id:"Nu4oKW"}),copy:!0,icon:"info",hidden:!t.description}],D=[{type:"link",name:"manufacturer",label:e._({id:"+m9/3S"}),icon:"manufacturers",model:r.company,hidden:!t.manufacturer},{type:"string",name:"MPN",label:e._({id:"ZCCuT2"}),copy:!0,hidden:!t.MPN,icon:"reference"},{type:"string",name:"description",label:e._({id:"Nu4oKW"}),copy:!0,hidden:!t.description,icon:"info"},{type:"link",external:!0,name:"link",label:e._({id:"0R4wMK"}),copy:!0,hidden:!t.link}];return a.jsxs(R,{children:[a.jsxs(k,{grow:!0,children:[a.jsx(E,{appRole:o.part,src:t?.part_detail?.image,apiPath:N(n.part_list,t?.part_detail?.pk),pk:t?.part_detail?.pk}),a.jsx(k.Col,{span:{base:12,sm:8},children:a.jsx(P,{title:e._({id:"sQRZ1+"}),fields:M,item:l})})]}),a.jsx(P,{title:e._({id:"BCSxrX"}),fields:D,item:l})]})},[t,p]),y=s.useMemo(()=>[{name:"details",label:e._({id:"uN9giG"}),icon:a.jsx(L,{}),content:g},{name:"stock",label:e._({id:"b447qM"}),hidden:!i.hasViewRole(o.stock),icon:a.jsx(tt,{}),content:a.jsx(z,{tableName:"manufacturer-part-stock",params:{manufacturer_part:u}})},{name:"suppliers",label:e._({id:"9RecCt"}),icon:a.jsx(Y,{}),content:t?.pk?a.jsx(V,{partId:t.part,manufacturerId:t.manufacturer,manufacturerPartId:t.pk}):a.jsx(h,{})},W({model_type:r.manufacturerpart,model_id:t?.pk}),T({model_type:r.manufacturerpart,model_id:t?.pk}),w({model_type:r.manufacturerpart,model_id:t?.pk})],[i,t]),c=$(),m=v({url:n.manufacturer_part_list,pk:t?.pk,title:e._({id:"b30yxS"}),fields:c,onFormSuccess:d}),f=Q({url:n.manufacturer_part_list,title:e._({id:"uOeMYf"}),fields:c,initialData:{...t},follow:!0,modelType:r.manufacturerpart}),_=X({url:n.manufacturer_part_list,pk:t?.pk,title:e._({id:"fMDrRl"}),onFormSuccess:()=>{x(b(r.part,t.part))}}),j=s.useMemo(()=>[a.jsx(C,{model:r.manufacturerpart,id:t.pk},"admin"),a.jsx(G,{tooltip:e._({id:"D/ppgk"}),actions:[U({hidden:!i.hasAddRole(o.purchase_order),onClick:()=>f.open()}),K({hidden:!i.hasChangeRole(o.purchase_order),onClick:()=>m.open()}),O({hidden:!i.hasDeleteRole(o.purchase_order),onClick:()=>_.open()})]},"options")],[i,t]),I=s.useMemo(()=>[{name:e._({id:"UOTpFa"}),url:"/purchasing/"},{name:t?.manufacturer_detail?.name??e._({id:"+m9/3S"}),url:`/purchasing/manufacturer/${t?.manufacturer_detail?.pk}/`}],[t]);return a.jsxs(a.Fragment,{children:[_.modal,f.modal,m.modal,a.jsx(F,{query:p,requiredPermission:r.manufacturerpart,children:a.jsxs(S,{gap:"xs",children:[a.jsx(q,{title:e._({id:"bisS0I"}),subtitle:`${t.MPN} - ${t.part_detail?.name}`,breadcrumbs:I,lastCrumb:[{name:t.MPN,url:b(r.manufacturerpart,t.pk)}],actions:j,imageUrl:t?.part_detail?.thumbnail,editAction:m.open,editEnabled:i.hasChangePermission(r.manufacturerpart)}),a.jsx(B,{pageKey:"manufacturerpart",panels:y,instance:t,reloadInstance:d,model:r.manufacturerpart,id:t.pk})]})})]})}export{Zt as default};
//# sourceMappingURL=ManufacturerPartDetail-pMM9XZiB.js.map
