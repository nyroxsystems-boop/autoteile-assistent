import{v as O}from"./ThemeContext-CxdCkKtz.js";import{r as c,an as q}from"./index-Db7AGPIq.js";import{u as w}from"./DesktopAppView-BuH2j218.js";function J({endpoint:o,pk:t,params:a={},defaultValue:e={},pathParams:f,disabled:i,hasPrimaryKey:h=!0,refetchOnMount:y=!0,refetchOnWindowFocus:m=!1,updateInterval:g}){const I=w(),[S,n]=c.useState(e),r=O({enabled:!i,queryKey:["instance",o,t,JSON.stringify(a),JSON.stringify(f),i],retry:(u,s)=>s.response?.status==404?!1:u<3,queryFn:async()=>{if(i)return e;if(h&&(t==null||t==null||t.toString().length==0||t=="-1"))return n(e),e;const u=q(o,t,f);return I.get(u,{timeout:1e4,params:a}).then(s=>{switch(s.status){case 200:return n(s.data),s.data;default:return n(e),e}})},refetchOnMount:y,refetchOnWindowFocus:m??!1,refetchInterval:g}),l=c.useMemo(()=>r.isFetched&&r.isSuccess&&!r.isError,[r]),v=c.useCallback(()=>{r.refetch()},[]),F=c.useCallback(()=>r.refetch(),[]);return{instance:S,setInstance:n,refreshInstance:v,refreshInstancePromise:F,instanceQuery:r,isLoaded:l}}export{J as u};
//# sourceMappingURL=UseInstance-BPJQEWDW.js.map
