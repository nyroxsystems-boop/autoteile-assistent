import{ag as j,r as t,ab as e,j as o,bb as m,ao as l,b1 as i,an as w,b8 as k}from"./index-Db7AGPIq.js";import{a as A,b as F,d as M}from"./Filter-BgnAqEQC.js";import{u as g,R as S,I as v}from"./InvenTreeTable-DmN557zY.js";import{c as u}from"./CompanyForms-CIJgkbDe.js";import{D as b,B as D,d as _}from"./ColumnRenderers-BUH0stTX.js";import{a as G}from"./ThemeContext-CxdCkKtz.js";import{P}from"./ParametricDataTable-DArALdrx.js";function K({params:n,path:c}){const r=g("company"),y=G(),s=j(),f=t.useMemo(()=>[{accessor:"name",title:e._({id:"7i8j3G"}),sortable:!0,switchable:!1,render:a=>o.jsx(_,{company:a})},b({}),D({accessor:"active",title:e._({id:"F6pfE9"}),sortable:!0,switchable:!0}),{accessor:"website",sortable:!1}],[]),d=A({url:l.company_list,title:e._({id:"5blzdE"}),fields:u(),initialData:n,follow:!0,modelType:m.company}),[C,h]=t.useState(0),p=F({url:l.company_list,pk:C,title:e._({id:"HoG6cl"}),fields:u(),onFormSuccess:a=>r.updateRecord(a)}),T=t.useMemo(()=>[{name:"active",label:e._({id:"F6pfE9"}),description:e._({id:"KbHNaM"})},{name:"is_supplier",label:e._({id:"PYTEl0"}),description:e._({id:"ZFG/Lo"})},{name:"is_manufacturer",label:e._({id:"+m9/3S"}),description:e._({id:"G/eOzG"})},{name:"is_customer",label:e._({id:"876pfE"}),description:e._({id:"7h6Dth"})}],[]),x=t.useMemo(()=>{const a=s.hasAddRole(i.purchase_order)||s.hasAddRole(i.sales_order);return[o.jsx(M,{tooltip:e._({id:"5blzdE"}),onClick:()=>d.open(),hidden:!a},"add-company")]},[s]),E=t.useCallback(a=>[S({hidden:!s.hasChangeRole(i.purchase_order)&&!s.hasChangeRole(i.sales_order),onClick:()=>{h(a.pk),p.open()}})],[s]);return o.jsxs(o.Fragment,{children:[d.modal,p.modal,o.jsx(v,{url:w(l.company_list),tableState:r,columns:f,props:{params:{...n},onRowClick:(a,z,R)=>{a.pk&&k(`/${c??"company"}/${a.pk}`,y,R)},modelType:m.company,tableFilters:T,tableActions:x,enableDownload:!0,enableSelection:!0,enableReports:!0,rowActions:E}})]})}function O({queryParams:n}){const c=t.useMemo(()=>[{accessor:"name",title:e._({id:"7i8j3G"}),sortable:!0,switchable:!1,render:r=>o.jsx(_,{company:r})},b({})],[]);return o.jsx(P,{modelType:m.company,endpoint:l.company_list,customColumns:c,queryParams:{...n}})}export{K as C,O as P};
//# sourceMappingURL=ParametricCompanyTable-BCYE4VLF.js.map
