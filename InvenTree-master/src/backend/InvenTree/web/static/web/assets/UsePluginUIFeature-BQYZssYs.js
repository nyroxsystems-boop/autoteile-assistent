import{v as p}from"./ThemeContext-CxdCkKtz.js";import{az as g,r as i,e as m,an as f,ao as E}from"./index-Db7AGPIq.js";import{u as d,v}from"./PluginUIFeature-DCu8wTdG.js";function _({enabled:c=!0,featureType:t,context:n}){const r=g(),s=i.useMemo(()=>r.isSet("ENABLE_PLUGINS_INTERFACE"),[r]),{data:a}=p({enabled:s&&!!t&&c,queryKey:["custom-ui-features",t,JSON.stringify(n)],queryFn:async()=>!s||!t?Promise.resolve([]):m.get(f(E.plugin_ui_features_list,void 0,{feature_type:t}),{params:n}).then(e=>e.data).catch(e=>(console.error(`ERR: Failed to fetch plugin ui features for feature "${t}":`,e),[]))}),u=d();return i.useMemo(()=>a?.map(e=>({options:{...e},func:(async l=>{const o=await v(e.source,"getFeature");if(o)return o({featureContext:l,inventreeContext:u,serverContext:e.context})})}))||[],[a,u])}export{_ as u};
//# sourceMappingURL=UsePluginUIFeature-BQYZssYs.js.map
