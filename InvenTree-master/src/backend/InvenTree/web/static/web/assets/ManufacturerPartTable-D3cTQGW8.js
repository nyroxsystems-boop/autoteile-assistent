import{r as t,ag as k,ab as a,j as i,ao as u,b1 as c,bb as x,an as D}from"./index-Db7AGPIq.js";import{a as M,b as j,c as w,d as y}from"./Filter-BgnAqEQC.js";import{u as F,R as T,d as E,a as S,I as v}from"./InvenTreeTable-DmN557zY.js";import{a as O}from"./CompanyForms-CIJgkbDe.js";import{P as g,D as Y,L,d as N}from"./ColumnRenderers-BUH0stTX.js";function Z({manufacturerId:s,partId:o}){const h=t.useMemo(()=>{let e="manufacturer-part";return s&&(e+="-manufacturer"),o&&(e+="-part"),e},[s,o]),l=F(h),r=k(),P=t.useMemo(()=>[g({switchable:!!o}),{accessor:"part_detail.IPN",title:a._({id:"3wXEsN"}),sortable:!1,switchable:!0},{accessor:"manufacturer",sortable:!0,render:e=>i.jsx(N,{company:e?.manufacturer_detail})},{accessor:"MPN",title:a._({id:"TOxiOu"}),sortable:!0},Y({}),L({})],[o]),n=O(),[d,p]=t.useState(void 0),m=M({url:u.manufacturer_part_list,title:a._({id:"uOeMYf"}),fields:n,table:l,initialData:{manufacturer:s,part:o}}),f=j({url:u.manufacturer_part_list,pk:d?.pk,title:a._({id:"b30yxS"}),fields:t.useMemo(()=>n,[n]),table:l}),_=M({url:u.manufacturer_part_list,title:a._({id:"uOeMYf"}),fields:t.useMemo(()=>n,[n]),table:l,initialData:{...d}}),b=w({url:u.manufacturer_part_list,pk:d?.pk,title:a._({id:"fMDrRl"}),table:l}),C=t.useMemo(()=>[{name:"part_active",label:a._({id:"9RQlSP"}),description:a._({id:"jZ1jY6"}),type:"boolean"},{name:"manufacturer_active",label:a._({id:"PdV8Ly"}),active:!s,description:a._({id:"gMQC25"}),type:"boolean"}],[s]),A=t.useMemo(()=>{const e=r.hasAddRole(c.purchase_order)&&r.hasAddRole(c.part);return[i.jsx(y,{tooltip:a._({id:"uOeMYf"}),onClick:()=>m.open(),hidden:!e},"add-manufacturer-part")]},[r]),R=t.useCallback(e=>[T({hidden:!r.hasChangeRole(c.purchase_order),onClick:()=>{p(e),f.open()}}),E({hidden:!r.hasAddRole(c.purchase_order),onClick:()=>{p(e),_.open()}}),S({hidden:!r.hasDeleteRole(c.purchase_order),onClick:()=>{p(e),b.open()}})],[r]);return i.jsxs(i.Fragment,{children:[m.modal,_.modal,f.modal,b.modal,i.jsx(v,{url:D(u.manufacturer_part_list),tableState:l,columns:P,props:{params:{part:o,manufacturer:s,part_detail:!0,manufacturer_detail:!0},enableDownload:!0,rowActions:R,tableActions:A,tableFilters:C,modelType:x.manufacturerpart}})]})}export{Z as M};
//# sourceMappingURL=ManufacturerPartTable-D3cTQGW8.js.map
