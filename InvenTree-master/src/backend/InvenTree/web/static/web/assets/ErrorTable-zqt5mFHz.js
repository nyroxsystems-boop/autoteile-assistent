import{ag as f,r as a,ab as s,j as e,d as j,ao as u,an as _,bd as b,S as x,ak as r,N as h}from"./index-Db7AGPIq.js";import{u as g,a as k,I as y}from"./InvenTreeTable-DmN557zY.js";import{a as S,E as D,ap as m}from"./ThemeContext-CxdCkKtz.js";import{D as E}from"./DetailDrawer-DtwyRZtv.js";import{c as M}from"./Filter-BgnAqEQC.js";import{u as I}from"./UseInstance-BPJQEWDW.js";import"./DesktopAppView-BuH2j218.js";import"./IconChevronDown-CzbIU38Y.js";import"./index-DRtKJP-e.js";import"./ActionButton-Cv5j5I5R.js";import"./QRCode-BaIEIQ2d.js";import"./browser-DSycY7kT.js";import"./IconDotsVertical-D8D3XsjG.js";import"./IconTags-DnGx22aA.js";import"./IconChevronLeft-6FmaJpTs.js";function w({errorId:o}){const{id:l}=D(),p=a.useMemo(()=>o??l,[o,l]),i=I({endpoint:u.error_report_list,pk:p,defaultValue:{},hasPrimaryKey:!0,refetchOnMount:!0}),t=a.useMemo(()=>i.instance||{},[i.instance]);return i.instanceQuery.isFetching||i.instanceQuery.isLoading?e.jsx(b,{}):e.jsx(x,{gap:"xs",children:e.jsx(r,{children:e.jsxs(r.Tbody,{children:[e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"xDAtGP"})}),e.jsx(r.Td,{children:t.info}),e.jsx(r.Td,{children:e.jsx(h,{justify:"right",children:e.jsx(m,{value:t.info,size:"sm"})})})]}),e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"8TMaZI"})}),e.jsx(r.Td,{children:t.when})]}),e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"I6gXOa"})}),e.jsx(r.Td,{children:t.path})]}),e.jsxs(r.Tr,{children:[e.jsx(r.Th,{children:s._({id:"g3fe3D"})}),e.jsx(r.Td,{colSpan:2,children:e.jsx(h,{justify:"right",children:e.jsx(m,{value:t.data,size:"sm"})})})]}),e.jsx(r.Tr,{children:e.jsx(r.Td,{colSpan:2,children:e.jsx(x,{gap:3,children:t.data?.split(`
`).map((c,d)=>e.jsx(j,{size:"xs",children:c},`error-line-${d}`))})})})]})})})}function N(){const o=g("error-report"),l=f(),p=S(),i=a.useMemo(()=>[{accessor:"when",title:s._({id:"1ZF9KQ"}),sortable:!0},{accessor:"path",title:s._({id:"I6gXOa"}),sortable:!0},{accessor:"info",title:s._({id:"pao9M8"})}],[]),[t,c]=a.useState({}),d=M({url:u.error_report_list,pk:t.pk,title:s._({id:"LKUVto"}),preFormContent:e.jsx(j,{c:"red",children:s._({id:"crTsip"})}),successMessage:s._({id:"lYkkju"}),table:o}),T=a.useCallback(n=>[k({onClick:()=>{c(n),d.open()}})],[]);return e.jsxs(e.Fragment,{children:[d.modal,e.jsx(E,{title:s._({id:"7Jw/XW"}),size:"xl",renderContent:n=>{if(n)return e.jsx(w,{errorId:t.pk})}}),e.jsx(y,{url:_(u.error_report_list),tableState:o,columns:i,props:{enableBulkDelete:l.isStaff(),enableSelection:!0,rowActions:T,onRowClick:n=>{c(n),p(`${n.pk}/`)}}})]})}export{N as default};
//# sourceMappingURL=ErrorTable-zqt5mFHz.js.map
