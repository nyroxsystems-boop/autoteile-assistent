import{ag as A,r as e,ab as s,ao as n,j as a,N as T,d as f,b1 as u,an as k}from"./index-Db7AGPIq.js";import{a as j,b as y,c as M,d as C}from"./Filter-BgnAqEQC.js";import{u as R,R as v,a as F,I as S}from"./InvenTreeTable-DmN557zY.js";import"./ThemeContext-CxdCkKtz.js";import"./DesktopAppView-BuH2j218.js";import"./ActionButton-Cv5j5I5R.js";import"./IconChevronDown-CzbIU38Y.js";import"./index-DRtKJP-e.js";import"./QRCode-BaIEIQ2d.js";import"./browser-DSycY7kT.js";import"./IconDotsVertical-D8D3XsjG.js";import"./IconTags-DnGx22aA.js";function $({categoryId:r}){const o=R("part-category-parameter-templates"),l=A(),i=e.useMemo(()=>({category:{value:r,disabled:r!==void 0},template:{},default_value:{}}),[r]),[m,d]=e.useState(0),c=j({url:n.category_parameter_list,title:s._({id:"+BLSbg"}),fields:e.useMemo(()=>({...i}),[i]),table:o}),_=y({url:n.category_parameter_list,pk:m,title:s._({id:"kF/O0U"}),fields:e.useMemo(()=>({...i}),[i]),table:o}),b=M({url:n.category_parameter_list,pk:m,title:s._({id:"O5duuA"}),table:o}),g=e.useMemo(()=>[],[]),h=e.useMemo(()=>[{accessor:"category_detail.name",title:s._({id:"K7tIrx"}),sortable:!0,switchable:!1},{accessor:"category_detail.pathstring"},{accessor:"template_detail.name",title:s._({id:"+nwoLk"}),sortable:!0,switchable:!1},{accessor:"default_value",sortable:!0,switchable:!1,render:t=>{if(!t?.default_value)return"-";let p="";return t?.template_detail?.units&&(p=`[${t.template_detail.units}]`),a.jsxs(T,{justify:"space-between",grow:!0,children:[a.jsx(f,{children:t.default_value}),p&&a.jsx(f,{size:"xs",children:p})]})}}],[]),x=e.useCallback(t=>[v({hidden:!l.hasChangeRole(u.part),onClick:()=>{d(t.pk),_.open()}}),F({hidden:!l.hasDeleteRole(u.part),onClick:()=>{d(t.pk),b.open()}})],[l]),w=e.useMemo(()=>[a.jsx(C,{tooltip:s._({id:"+BLSbg"}),onClick:()=>c.open(),hidden:!l.hasAddRole(u.part)},"add")],[l]);return a.jsxs(a.Fragment,{children:[c.modal,_.modal,b.modal,a.jsx(S,{url:k(n.category_parameter_list),tableState:o,columns:h,props:{rowActions:x,tableFilters:g,tableActions:w,enableDownload:!0,params:{category:r,template_detail:!0,category_detail:!0}}})]})}export{$ as default};
//# sourceMappingURL=PartCategoryTemplateTable-BrMqqGec.js.map
