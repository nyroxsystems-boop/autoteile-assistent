import{D as ji,f as Qr,h as eo,i as Gs,l as to,W as lr,k as no,m as ro,w as Ws,n as io,r as k,o as xr,p as so,s as Hi,t as vt,v as Jr,x as Hn,y as $r,z as ei,B as Gi,E as ao,F as oo,G as lo,H as Wi,I as Xs,j as I,J as co,K as L,M as sn,N as Dt,O as bn,P as ho,Q as In,U as zs,V as uo,X as fo,Y as go,Z as xo,$ as po,a0 as Gn,a1 as wo,a2 as mo,a3 as Xi,a4 as Co,a5 as Eo,a6 as Zt,a7 as zi,a8 as Ys,a9 as Ao,aa as ti,ab as be,ac as ni,d as kt,ad as yo,ae as Io,af as bo,ag as ci,a as an,c as le,ah as hi,ai as vo,S as on,aj as Ft,ak as ge,al as Zs,am as An,A as Yi,e as Xn,an as ui,ao as di,ap as fi,aq as Wn,ar as cr,as as hr,at as ur,au as _o,av as ri,aw as So,b as Zi,ax as To,ay as No,az as Mo,aA as Ro,aB as Ki,aC as Oo,aD as Do,aE as ko,aF as Bo,aG as Po,aH as Lo,u as Ks,aI as Fo,aJ as Uo,aK as Vo,aL as jo,aM as Ho,aN as Go}from"./index-Db7AGPIq.js";function Wo(l,c){for(var h=0;h<c.length;h++){const f=c[h];if(typeof f!="string"&&!Array.isArray(f)){for(const x in f)if(x!=="default"&&!(x in l)){const g=Object.getOwnPropertyDescriptor(f,x);g&&Object.defineProperty(l,x,g.get?g:{enumerable:!0,get:()=>f[x]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}function qi(l={}){const c=lr.document,h=c?.head||c?.body;if(!h){ji&&Qr.error("[showReportDialog] Global document not defined");return}const f=eo(),g=Gs()?.getDsn();if(!g){ji&&Qr.error("[showReportDialog] DSN not configured");return}const E={...l,user:{...f.getUser(),...l.user},eventId:l.eventId||to()},v=lr.document.createElement("script");v.async=!0,v.crossOrigin="anonymous",v.src=no(g,E);const{onLoad:b,onClose:C}=E;if(b&&(v.onload=b),C){const N=S=>{if(S.data==="__sentry_reportdialog_closed__")try{C()}finally{lr.removeEventListener("message",N)}};lr.addEventListener("message",N)}h.appendChild(v)}function Xo(l){const c=l.match(/^([^.]+)/);return c!==null&&parseInt(c[0])>=17}function zo(l,c){const h=new WeakSet;function f(x,g){if(!h.has(x)){if(x.cause)return h.add(x),f(x.cause,g);x.cause=g}}f(l,c)}function Yo(l,{componentStack:c},h){if(Xo(k.version)&&ro(l)&&c){const f=new Error(l.message);f.name=`React ErrorBoundary ${l.name}`,f.stack=c,zo(l,f)}return Ws(f=>(f.setContext("react",{componentStack:c}),io(l,h)))}const Zo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Wr={componentStack:null,error:null,eventId:null};class Ko extends k.Component{constructor(c){super(c),this.state=Wr,this._openFallbackReportDialog=!0;const h=Gs();h&&c.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=h.on("afterSendEvent",f=>{!f.type&&this._lastEventId&&f.event_id===this._lastEventId&&qi({...c.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(c,h){const{componentStack:f}=h,{beforeCapture:x,onError:g,showDialog:E,dialogOptions:v}=this.props;Ws(b=>{x&&x(b,c,f);const C=this.props.handled!=null?this.props.handled:!!this.props.fallback,N=Yo(c,h,{mechanism:{handled:C}});g&&g(c,f,N),E&&(this._lastEventId=N,this._openFallbackReportDialog&&qi({...v,eventId:N})),this.setState({error:c,componentStack:f,eventId:N})})}componentDidMount(){const{onMount:c}=this.props;c&&c()}componentWillUnmount(){const{error:c,componentStack:h,eventId:f}=this.state,{onUnmount:x}=this.props;x&&(this.state===Wr?x(null,null,null):x(c,h,f)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:c}=this.props,{error:h,componentStack:f,eventId:x}=this.state;c&&c(h,f,x),this.setState(Wr)}render(){const{fallback:c,children:h}=this.props,f=this.state;if(f.componentStack===null)return typeof h=="function"?h():h;const x=typeof c=="function"?k.createElement(c,{error:f.error,componentStack:f.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:f.eventId}):c;return k.isValidElement(x)?x:(c&&Zo&&Qr.warn("fallback did not produce a valid ReactElement"),null)}}function qo(){const[l,c]=k.useState("visible");return k.useEffect(()=>{c(document.visibilityState);const h=()=>c(document.visibilityState);return document.addEventListener("visibilitychange",h),()=>document.removeEventListener("visibilitychange",h)},[]),l}function Qo(l,c="use-local-storage"){try{return JSON.stringify(l)}catch{throw new Error(`@mantine/hooks ${c}: Failed to serialize the value`)}}function Jo(l){try{return l&&JSON.parse(l)}catch{return l}}function $o(l){return{getItem:x=>{try{return window[l].getItem(x)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(x,g)=>{try{window[l].setItem(x,g)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:x=>{try{window[l].removeItem(x)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function e1(l,c){const h="mantine-local-storage",{getItem:f,setItem:x,removeItem:g}=$o(l);return function({key:v,defaultValue:b,getInitialValueInEffect:C=!0,sync:N=!0,deserialize:S=Jo,serialize:B=W=>Qo(W,c)}){const W=k.useCallback(j=>{let U;try{U=typeof window>"u"||!(l in window)||window[l]===null||!!j}catch{U=!0}if(U)return b;const Y=f(v);return Y!==null?S(Y):b},[v,b]),[q,X]=k.useState(W(C)),Q=k.useCallback(j=>{j instanceof Function?X(U=>{const Y=j(U);return x(v,B(Y)),queueMicrotask(()=>{window.dispatchEvent(new CustomEvent(h,{detail:{key:v,value:j(U)}}))}),Y}):(x(v,B(j)),window.dispatchEvent(new CustomEvent(h,{detail:{key:v,value:j}})),X(j))},[v]),he=k.useCallback(()=>{g(v),window.dispatchEvent(new CustomEvent(h,{detail:{key:v,value:b}}))},[]);return xr("storage",j=>{N&&j.storageArea===window[l]&&j.key===v&&X(S(j.newValue??void 0))}),xr(h,j=>{N&&j.detail.key===v&&X(j.detail.value)}),k.useEffect(()=>{b!==void 0&&q===void 0&&Q(b)},[b,q,Q]),k.useEffect(()=>{const j=W();j!==void 0&&Q(j)},[v]),[q===void 0?b:q,Q,he]}}function qs(l){return e1("localStorage","use-local-storage")(l)}const t1={" ":"space",ArrowLeft:"arrowleft",ArrowRight:"arrowright",ArrowUp:"arrowup",ArrowDown:"arrowdown",Escape:"escape",Esc:"escape",esc:"escape",Enter:"enter",Tab:"tab",Backspace:"backspace",Delete:"delete",Insert:"insert",Home:"home",End:"end",PageUp:"pageup",PageDown:"pagedown","+":"plus","-":"minus","*":"asterisk","/":"slash"};function dr(l){const c=l.replace("Key","").toLowerCase();return t1[l]||c}function n1(l){const c=l.toLowerCase().split("+").map(g=>g.trim()),h={alt:c.includes("alt"),ctrl:c.includes("ctrl"),meta:c.includes("meta"),mod:c.includes("mod"),shift:c.includes("shift"),plus:c.includes("[plus]")},f=["alt","ctrl","meta","shift","mod"],x=c.find(g=>!f.includes(g));return{...h,key:x==="[plus]"?"+":x}}function r1(l,c,h){const{alt:f,ctrl:x,meta:g,mod:E,shift:v,key:b}=l,{altKey:C,ctrlKey:N,metaKey:S,shiftKey:B,key:W,code:q}=c;if(f!==C)return!1;if(E){if(!N&&!S)return!1}else if(x!==N||g!==S)return!1;return v!==B?!1:!!(b&&(h?dr(q)===dr(b):dr(W??q)===dr(b)))}function i1(l,c){return h=>r1(n1(l),h,c)}function s1(l,c,h=!1){return l.target instanceof HTMLElement?(h||!l.target.isContentEditable)&&!c.includes(l.target.tagName):!0}function a1(l,c=["INPUT","TEXTAREA","SELECT"],h=!1){k.useEffect(()=>{const f=x=>{l.forEach(([g,E,v={preventDefault:!0,usePhysicalKeys:!1}])=>{i1(g,v.usePhysicalKeys)(x)&&s1(x,c,h)&&(v.preventDefault&&x.preventDefault(),E(x))})};return document.documentElement.addEventListener("keydown",f),()=>document.documentElement.removeEventListener("keydown",f)},[l])}var o1=class extends so{constructor(l,c){super(),this.options=c,this.#n=l,this.#i=null,this.#r=Hi(),this.bindMethods(),this.setOptions(c)}#n;#e=void 0;#g=void 0;#t=void 0;#a;#h;#r;#i;#x;#u;#d;#o;#l;#s;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Qi(this.#e,this.options)?this.#c():this.updateResult(),this.#C())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ii(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ii(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#E(),this.#A(),this.#e.removeObserver(this)}setOptions(l){const c=this.options,h=this.#e;if(this.options=this.#n.defaultQueryOptions(l),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vt(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#y(),this.#e.setOptions(this.options),c._defaulted&&!Jr(this.options,c)&&this.#n.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const f=this.hasListeners();f&&Ji(this.#e,h,this.options,c)&&this.#c(),this.updateResult(),f&&(this.#e!==h||vt(this.options.enabled,this.#e)!==vt(c.enabled,this.#e)||Hn(this.options.staleTime,this.#e)!==Hn(c.staleTime,this.#e))&&this.#p();const x=this.#w();f&&(this.#e!==h||vt(this.options.enabled,this.#e)!==vt(c.enabled,this.#e)||x!==this.#s)&&this.#m(x)}getOptimisticResult(l){const c=this.#n.getQueryCache().build(this.#n,l),h=this.createResult(c,l);return c1(this,h)&&(this.#t=h,this.#h=this.options,this.#a=this.#e.state),h}getCurrentResult(){return this.#t}trackResult(l,c){return new Proxy(l,{get:(h,f)=>(this.trackProp(f),c?.(f),f==="promise"&&!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(h,f))})}trackProp(l){this.#f.add(l)}getCurrentQuery(){return this.#e}refetch({...l}={}){return this.fetch({...l})}fetchOptimistic(l){const c=this.#n.defaultQueryOptions(l),h=this.#n.getQueryCache().build(this.#n,c);return h.fetch().then(()=>this.createResult(h,c))}fetch(l){return this.#c({...l,cancelRefetch:l.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(l){this.#y();let c=this.#e.fetch(this.options,l);return l?.throwOnError||(c=c.catch($r)),c}#p(){this.#E();const l=Hn(this.options.staleTime,this.#e);if(ei||this.#t.isStale||!Gi(l))return;const h=ao(this.#t.dataUpdatedAt,l)+1;this.#o=setTimeout(()=>{this.#t.isStale||this.updateResult()},h)}#w(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#m(l){this.#A(),this.#s=l,!(ei||vt(this.options.enabled,this.#e)===!1||!Gi(this.#s)||this.#s===0)&&(this.#l=setInterval(()=>{(this.options.refetchIntervalInBackground||oo.isFocused())&&this.#c()},this.#s))}#C(){this.#p(),this.#m(this.#w())}#E(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}#A(){this.#l&&(clearInterval(this.#l),this.#l=void 0)}createResult(l,c){const h=this.#e,f=this.options,x=this.#t,g=this.#a,E=this.#h,b=l!==h?l.state:this.#g,{state:C}=l;let N={...C},S=!1,B;if(c._optimisticResults){const ae=this.hasListeners(),V=!ae&&Qi(l,c),We=ae&&Ji(l,h,c,f);(V||We)&&(N={...N,...lo(C.data,l.options)}),c._optimisticResults==="isRestoring"&&(N.fetchStatus="idle")}let{error:W,errorUpdatedAt:q,status:X}=N;B=N.data;let Q=!1;if(c.placeholderData!==void 0&&B===void 0&&X==="pending"){let ae;x?.isPlaceholderData&&c.placeholderData===E?.placeholderData?(ae=x.data,Q=!0):ae=typeof c.placeholderData=="function"?c.placeholderData(this.#d?.state.data,this.#d):c.placeholderData,ae!==void 0&&(X="success",B=Wi(x?.data,ae,c),S=!0)}if(c.select&&B!==void 0&&!Q)if(x&&B===g?.data&&c.select===this.#x)B=this.#u;else try{this.#x=c.select,B=c.select(B),B=Wi(x?.data,B,c),this.#u=B,this.#i=null}catch(ae){this.#i=ae}this.#i&&(W=this.#i,B=this.#u,q=Date.now(),X="error");const he=N.fetchStatus==="fetching",j=X==="pending",U=X==="error",Y=j&&he,Ee=B!==void 0,G={status:X,fetchStatus:N.fetchStatus,isPending:j,isSuccess:X==="success",isError:U,isInitialLoading:Y,isLoading:Y,data:B,dataUpdatedAt:N.dataUpdatedAt,error:W,errorUpdatedAt:q,failureCount:N.fetchFailureCount,failureReason:N.fetchFailureReason,errorUpdateCount:N.errorUpdateCount,isFetched:N.dataUpdateCount>0||N.errorUpdateCount>0,isFetchedAfterMount:N.dataUpdateCount>b.dataUpdateCount||N.errorUpdateCount>b.errorUpdateCount,isFetching:he,isRefetching:he&&!j,isLoadingError:U&&!Ee,isPaused:N.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:U&&Ee,isStale:gi(l,c),refetch:this.refetch,promise:this.#r,isEnabled:vt(c.enabled,l)!==!1};if(this.options.experimental_prefetchInRender){const ae=_e=>{G.status==="error"?_e.reject(G.error):G.data!==void 0&&_e.resolve(G.data)},V=()=>{const _e=this.#r=G.promise=Hi();ae(_e)},We=this.#r;switch(We.status){case"pending":l.queryHash===h.queryHash&&ae(We);break;case"fulfilled":(G.status==="error"||G.data!==We.value)&&V();break;case"rejected":(G.status!=="error"||G.error!==We.reason)&&V();break}}return G}updateResult(){const l=this.#t,c=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#h=this.options,this.#a.data!==void 0&&(this.#d=this.#e),Jr(c,l))return;this.#t=c;const h=()=>{if(!l)return!0;const{notifyOnChangeProps:f}=this.options,x=typeof f=="function"?f():f;if(x==="all"||!x&&!this.#f.size)return!0;const g=new Set(x??this.#f);return this.options.throwOnError&&g.add("error"),Object.keys(this.#t).some(E=>{const v=E;return this.#t[v]!==l[v]&&g.has(v)})};this.#I({listeners:h()})}#y(){const l=this.#n.getQueryCache().build(this.#n,this.options);if(l===this.#e)return;const c=this.#e;this.#e=l,this.#g=l.state,this.hasListeners()&&(c?.removeObserver(this),l.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#C()}#I(l){Xs.batch(()=>{l.listeners&&this.listeners.forEach(c=>{c(this.#t)}),this.#n.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function l1(l,c){return vt(c.enabled,l)!==!1&&l.state.data===void 0&&!(l.state.status==="error"&&c.retryOnMount===!1)}function Qi(l,c){return l1(l,c)||l.state.data!==void 0&&ii(l,c,c.refetchOnMount)}function ii(l,c,h){if(vt(c.enabled,l)!==!1&&Hn(c.staleTime,l)!=="static"){const f=typeof h=="function"?h(l):h;return f==="always"||f!==!1&&gi(l,c)}return!1}function Ji(l,c,h,f){return(l!==c||vt(f.enabled,l)===!1)&&(!h.suspense||l.state.status!=="error")&&gi(l,h)}function gi(l,c){return vt(c.enabled,l)!==!1&&l.isStaleByTime(Hn(c.staleTime,l))}function c1(l,c){return!Jr(l.getCurrentResult(),c)}var Qs=k.createContext(void 0),h1=l=>{const c=k.useContext(Qs);if(!c)throw new Error("No QueryClient set, use QueryClientProvider to set one");return c},Qu=({client:l,children:c})=>(k.useEffect(()=>(l.mount(),()=>{l.unmount()}),[l]),I.jsx(Qs.Provider,{value:l,children:c})),Js=k.createContext(!1),u1=()=>k.useContext(Js);Js.Provider;function d1(){let l=!1;return{clearReset:()=>{l=!1},reset:()=>{l=!0},isReset:()=>l}}var f1=k.createContext(d1()),g1=()=>k.useContext(f1),x1=(l,c)=>{(l.suspense||l.throwOnError||l.experimental_prefetchInRender)&&(c.isReset()||(l.retryOnMount=!1))},p1=l=>{k.useEffect(()=>{l.clearReset()},[l])},w1=({result:l,errorResetBoundary:c,throwOnError:h,query:f,suspense:x})=>l.isError&&!c.isReset()&&!l.isFetching&&f&&(x&&l.data===void 0||co(h,[l.error,f])),Ju=(l,c)=>c.state.data===void 0,m1=l=>{if(l.suspense){const h=x=>x==="static"?x:Math.max(x??1e3,1e3),f=l.staleTime;l.staleTime=typeof f=="function"?(...x)=>h(f(...x)):h(f),typeof l.gcTime=="number"&&(l.gcTime=Math.max(l.gcTime,1e3))}},C1=(l,c)=>l.isLoading&&l.isFetching&&!c,E1=(l,c)=>l?.suspense&&c.isPending,$i=(l,c,h)=>c.fetchOptimistic(l).catch(()=>{h.clearReset()});function A1(l,c,h){const f=u1(),x=g1(),g=h1(),E=g.defaultQueryOptions(l);g.getDefaultOptions().queries?._experimental_beforeQuery?.(E),E._optimisticResults=f?"isRestoring":"optimistic",m1(E),x1(E,x),p1(x);const v=!g.getQueryCache().get(E.queryHash),[b]=k.useState(()=>new c(g,E)),C=b.getOptimisticResult(E),N=!f&&l.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(S=>{const B=N?b.subscribe(Xs.batchCalls(S)):$r;return b.updateResult(),B},[b,N]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),k.useEffect(()=>{b.setOptions(E)},[E,b]),E1(E,C))throw $i(E,b,x);if(w1({result:C,errorResetBoundary:x,throwOnError:E.throwOnError,query:g.getQueryCache().get(E.queryHash),suspense:E.suspense}))throw C.error;return g.getDefaultOptions().queries?._experimental_afterQuery?.(E,C),E.experimental_prefetchInRender&&!ei&&C1(C,f)&&(v?$i(E,b,x):g.getQueryCache().get(E.queryHash)?.promise)?.catch($r).finally(()=>{b.updateResult()}),E.notifyOnChangeProps?C:b.trackResult(C)}function $s(l,c){return A1(l,o1)}/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1",key:"svg-0"}]],I1=L("outline","arrow-back","ArrowBack",y1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M8 7l4 -4l4 4",key:"svg-0"}],["path",{d:"M12 3v5.394a6.737 6.737 0 0 1 -3 5.606a6.737 6.737 0 0 0 -3 5.606v1.394",key:"svg-1"}],["path",{d:"M12 3v5.394a6.737 6.737 0 0 0 3 5.606a6.737 6.737 0 0 1 3 5.606v1.394",key:"svg-2"}]],v1=L("outline","arrow-merge","ArrowMerge",b1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]],es=L("outline","bell","Bell",_1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M14 6a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-0"}],["path",{d:"M7 14a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-1"}],["path",{d:"M21 14a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-2"}],["path",{d:"M14 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-3"}],["path",{d:"M12 8v8",key:"svg-4"}],["path",{d:"M6.316 12.496l4.368 -4.992",key:"svg-5"}],["path",{d:"M17.684 12.496l-4.366 -4.99",key:"svg-6"}]],T1=L("outline","binary-tree-2","BinaryTree2",S1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M15 10v11l-5 -3l-5 3v-11a3 3 0 0 1 3 -3h4a3 3 0 0 1 3 3z",key:"svg-0"}],["path",{d:"M11 3h5a3 3 0 0 1 3 3v11",key:"svg-1"}]],M1=L("outline","bookmarks","Bookmarks",N1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}]],O1=L("outline","box","Box",R1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4",key:"svg-0"}]],k1=L("outline","brand-telegram","BrandTelegram",D1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M3 21h18",key:"svg-0"}],["path",{d:"M5 21v-12l5 4v-4l5 4h4",key:"svg-1"}],["path",{d:"M19 21v-8l-1.436 -9.574a.5 .5 0 0 0 -.495 -.426h-1.145a.5 .5 0 0 0 -.494 .418l-1.43 8.582",key:"svg-2"}],["path",{d:"M9 17h1",key:"svg-3"}],["path",{d:"M14 17h1",key:"svg-4"}]],P1=L("outline","building-factory-2","BuildingFactory2",B1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M3 7v1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1h-18l2 -4h14l2 4",key:"svg-1"}],["path",{d:"M5 21l0 -10.15",key:"svg-2"}],["path",{d:"M19 21l0 -10.15",key:"svg-3"}],["path",{d:"M9 21v-4a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v4",key:"svg-4"}]],F1=L("outline","building-store","BuildingStore",L1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]],V1=L("outline","building","Building",U1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M16 6m-5 0a5 3 0 1 0 10 0a5 3 0 1 0 -10 0",key:"svg-0"}],["path",{d:"M11 6v4c0 1.657 2.239 3 5 3s5 -1.343 5 -3v-4",key:"svg-1"}],["path",{d:"M11 10v4c0 1.657 2.239 3 5 3s5 -1.343 5 -3v-4",key:"svg-2"}],["path",{d:"M11 14v4c0 1.657 2.239 3 5 3s5 -1.343 5 -3v-4",key:"svg-3"}],["path",{d:"M7 9h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-4"}],["path",{d:"M5 15v1m0 -8v1",key:"svg-5"}]],H1=L("outline","businessplan","Businessplan",j1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M11.5 21h-5.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-4"}]],Xr=L("outline","calendar-check","CalendarCheck",G1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-4"}]],ts=L("outline","calendar-dot","CalendarDot",W1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4",key:"svg-0"}],["path",{d:"M18 14v4h4",key:"svg-1"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-2"}],["path",{d:"M15 3v4",key:"svg-3"}],["path",{d:"M7 3v4",key:"svg-4"}],["path",{d:"M3 11h16",key:"svg-5"}]],z1=L("outline","calendar-stats","CalendarStats",X1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4",key:"svg-0"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M15 3v4",key:"svg-2"}],["path",{d:"M7 3v4",key:"svg-3"}],["path",{d:"M3 11h16",key:"svg-4"}],["path",{d:"M18 16.496v1.504l1 1",key:"svg-5"}]],Z1=L("outline","calendar-time","CalendarTime",Y1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M13 21h-7a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6.5",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M22 22l-5 -5",key:"svg-4"}],["path",{d:"M17 22l5 -5",key:"svg-5"}]],q1=L("outline","calendar-x","CalendarX",K1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],ns=L("outline","calendar","Calendar",Q1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],ea=L("outline","camera","Camera",J1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M18.364 5.636l-12.728 12.728",key:"svg-1"}]],e0=L("outline","cancel","Cancel",$1);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],rs=L("outline","check","Check",t0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}]],is=L("outline","circle-minus","CircleMinus",n0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]],ss=L("outline","circle-plus","CirclePlus",r0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]],s0=L("outline","circle-x","CircleX",i0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]],o0=L("outline","clipboard-check","ClipboardCheck",a0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12l.01 0",key:"svg-2"}],["path",{d:"M13 12l2 0",key:"svg-3"}],["path",{d:"M9 16l.01 0",key:"svg-4"}],["path",{d:"M13 16l2 0",key:"svg-5"}]],c0=L("outline","clipboard-list","ClipboardList",l0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M9 16h6",key:"svg-3"}]],as=L("outline","clipboard-text","ClipboardText",h0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],os=L("outline","copy","Copy",u0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=[["path",{d:"M18 6v6a3 3 0 0 1 -3 3h-10l4 -4m0 8l-4 -4",key:"svg-0"}]],f0=L("outline","corner-down-left","CornerDownLeft",d0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]],x0=L("outline","corner-down-right","CornerDownRight",g0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["path",{d:"M4 18v-6a3 3 0 0 1 3 -3h7",key:"svg-0"}],["path",{d:"M10 13l4 -4l-4 -4m5 8l4 -4l-4 -4",key:"svg-1"}]],w0=L("outline","corner-up-right-double","CornerUpRightDouble",p0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["path",{d:"M16 12.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-0"}],["path",{d:"M11 9.5v5.5l5 3",key:"svg-1"}],["path",{d:"M16 12.545l5 -3.03",key:"svg-2"}],["path",{d:"M7 9h-5",key:"svg-3"}],["path",{d:"M7 12h-3",key:"svg-4"}],["path",{d:"M7 15h-1",key:"svg-5"}]],C0=L("outline","cube-send","CubeSend",m0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]],fr=L("outline","currency-dollar","CurrencyDollar",E0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],y0=L("outline","dots","Dots",A0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],b0=L("outline","edit","Edit",I0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],_0=L("outline","external-link","ExternalLink",v0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M15 15h-6",key:"svg-2"}],["path",{d:"M11.5 17.5l-2.5 -2.5l2.5 -2.5",key:"svg-3"}]],T0=L("outline","file-arrow-left","FileArrowLeft",S0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17v-6",key:"svg-2"}],["path",{d:"M9.5 14.5l2.5 2.5l2.5 -2.5",key:"svg-3"}]],M0=L("outline","file-download","FileDownload",N0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]],O0=L("outline","file-upload","FileUpload",R0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M13.13 14.833a5.002 5.002 0 0 1 -1.13 -.833a5 5 0 0 0 -7 0v-9a5 5 0 0 1 7 0a5 5 0 0 0 7 0v8",key:"svg-0"}],["path",{d:"M5 21v-7",key:"svg-1"}],["path",{d:"M16 22l5 -5",key:"svg-2"}],["path",{d:"M21 21.5v-4.5h-4.5",key:"svg-3"}]],k0=L("outline","flag-share","FlagShare",D0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"M5 5a5 5 0 0 1 7 0a5 5 0 0 0 7 0v9a5 5 0 0 1 -7 0a5 5 0 0 0 -7 0v-9z",key:"svg-0"}],["path",{d:"M5 21v-7",key:"svg-1"}]],ls=L("outline","flag","Flag",B0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"M7 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M7 8l0 8",key:"svg-3"}],["path",{d:"M9 18h6a2 2 0 0 0 2 -2v-5",key:"svg-4"}],["path",{d:"M14 14l3 -3l3 3",key:"svg-5"}]],L0=L("outline","git-branch","GitBranch",P0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],cs=L("outline","grid-dots","GridDots",F0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-0"}],["path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5",key:"svg-1"}],["path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5",key:"svg-2"}],["path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}]],V0=L("outline","hand-stop","HandStop",U0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]],hs=L("outline","hash","Hash",j0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M5 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M6.5 17.5l5.5 -4.5l5.5 4.5",key:"svg-3"}],["path",{d:"M12 7l0 6",key:"svg-4"}]],G0=L("outline","hierarchy","Hierarchy",H0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]],X0=L("outline","history","History",W0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],Un=L("outline","info-circle","InfoCircle",z0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["path",{d:"M19 8.268a2 2 0 0 1 1 1.732v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-8a2 2 0 0 1 2 -2h3",key:"svg-0"}],["path",{d:"M5 15.734a2 2 0 0 1 -1 -1.734v-8a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-3",key:"svg-1"}]],Z0=L("outline","layers-linked","LayersLinked",Y0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-0"}],["path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-1"}],["path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-2"}],["path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-3"}]],q0=L("outline","layout-dashboard","LayoutDashboard",K0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M15 21h-9a3 3 0 0 1 -3 -3v-1h10v2a2 2 0 0 0 4 0v-14a2 2 0 1 1 2 2h-2m2 -4h-11a3 3 0 0 0 -3 3v11",key:"svg-0"}],["path",{d:"M9 7l4 0",key:"svg-1"}],["path",{d:"M9 11l4 0",key:"svg-2"}]],J0=L("outline","license","License",Q0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]],el=L("outline","link","Link",$0);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=[["path",{d:"M13 5h8",key:"svg-0"}],["path",{d:"M13 9h5",key:"svg-1"}],["path",{d:"M13 15h8",key:"svg-2"}],["path",{d:"M13 19h5",key:"svg-3"}],["path",{d:"M3 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M3 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-5"}]],nl=L("outline","list-details","ListDetails",tl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=[["path",{d:"M9 6h11",key:"svg-0"}],["path",{d:"M12 12h8",key:"svg-1"}],["path",{d:"M15 18h5",key:"svg-2"}],["path",{d:"M5 6v.01",key:"svg-3"}],["path",{d:"M8 12v.01",key:"svg-4"}],["path",{d:"M11 18v.01",key:"svg-5"}]],il=L("outline","list-tree","ListTree",rl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]],us=L("outline","list","List",sl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]],ds=L("outline","lock","Lock",al);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],ll=L("outline","mail","Mail",ol);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=[["path",{d:"M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5",key:"svg-0"}],["path",{d:"M9 4v13",key:"svg-1"}],["path",{d:"M15 7v5.5",key:"svg-2"}],["path",{d:"M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z",key:"svg-3"}],["path",{d:"M19 18v.01",key:"svg-4"}]],hl=L("outline","map-2","Map2",cl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=[["path",{d:"M15 11a3 3 0 1 0 -3.973 2.839",key:"svg-0"}],["path",{d:"M11.76 21.47a1.991 1.991 0 0 1 -1.173 -.57l-4.244 -4.243a8 8 0 1 1 13.657 -5.588",key:"svg-1"}],["path",{d:"M18 22l3.35 -3.284a2.143 2.143 0 0 0 .005 -3.071a2.242 2.242 0 0 0 -3.129 -.006l-.224 .22l-.223 -.22a2.242 2.242 0 0 0 -3.128 -.006a2.143 2.143 0 0 0 -.006 3.071l3.355 3.296z",key:"svg-2"}]],zr=L("outline","map-pin-heart","MapPinHeart",ul);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]],fl=L("outline","map-pin","MapPin",dl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=[["path",{d:"M12 5v14",key:"svg-0"}]],xl=L("outline","minus-vertical","MinusVertical",gl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 7l6 0",key:"svg-1"}],["path",{d:"M9 11l6 0",key:"svg-2"}],["path",{d:"M9 15l4 0",key:"svg-3"}]],fs=L("outline","notes","Notes",pl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]],ml=L("outline","number-123","Number123",wl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=[["path",{d:"M8 10v-7l-2 2",key:"svg-0"}],["path",{d:"M6 16a2 2 0 1 1 4 0c0 .591 -.601 1.46 -1 2l-3 3h4",key:"svg-1"}],["path",{d:"M15 14a2 2 0 1 0 2 -2a2 2 0 1 0 -2 -2",key:"svg-2"}],["path",{d:"M6.5 10h3",key:"svg-3"}]],El=L("outline","numbers","Numbers",Cl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]],yl=L("outline","package-import","PackageImport",Al);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M16 5.25l-8 4.5",key:"svg-4"}]],gs=L("outline","package","Package",Il);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=[["path",{d:"M7 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-0"}],["path",{d:"M2 13.5v5.5l5 3",key:"svg-1"}],["path",{d:"M7 16.545l5 -3.03",key:"svg-2"}],["path",{d:"M17 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-3"}],["path",{d:"M12 19l5 3",key:"svg-4"}],["path",{d:"M17 16.5l5 -3",key:"svg-5"}],["path",{d:"M12 13.5v-5.5l-5 -3l5 -3l5 3v5.5",key:"svg-6"}],["path",{d:"M7 5.03v5.455",key:"svg-7"}],["path",{d:"M12 8l5 -3",key:"svg-8"}]],Yr=L("outline","packages","Packages",bl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=[["path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5",key:"svg-0"}]],_l=L("outline","paperclip","Paperclip",vl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}]],Tl=L("outline","phone","Phone",Sl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],Ml=L("outline","photo","Photo",Nl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=[["path",{d:"M9.785 6l8.215 8.215l-2.054 2.054a5.81 5.81 0 1 1 -8.215 -8.215l2.054 -2.054z",key:"svg-0"}],["path",{d:"M4 20l3.5 -3.5",key:"svg-1"}],["path",{d:"M15 4l-3.5 3.5",key:"svg-2"}],["path",{d:"M20 9l-3.5 3.5",key:"svg-3"}]],Ol=L("outline","plug","Plug",Rl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}]],kl=L("outline","point","Point",Dl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=[["path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4",key:"svg-1"}],["path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-2"}]],Pl=L("outline","printer","Printer",Bl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-5"}]],Fl=L("outline","progress-check","ProgressCheck",Ll);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M7 17l0 .01",key:"svg-1"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M7 7l0 .01",key:"svg-3"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-4"}],["path",{d:"M17 7l0 .01",key:"svg-5"}],["path",{d:"M14 14l3 0",key:"svg-6"}],["path",{d:"M20 14l0 .01",key:"svg-7"}],["path",{d:"M14 14l0 3",key:"svg-8"}],["path",{d:"M14 20l3 0",key:"svg-9"}],["path",{d:"M17 17l3 0",key:"svg-10"}],["path",{d:"M20 17l0 3",key:"svg-11"}]],ta=L("outline","qrcode","Qrcode",Ul);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=[["path",{d:"M8 8a3.5 3 0 0 1 3.5 -3h1a3.5 3 0 0 1 3.5 3a3 3 0 0 1 -2 3a3 4 0 0 0 -2 4",key:"svg-0"}],["path",{d:"M12 19l0 .01",key:"svg-1"}]],jl=L("outline","question-mark","QuestionMark",Vl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],Gl=L("outline","refresh","Refresh",Hl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=[["path",{d:"M19.875 12c.621 0 1.125 .512 1.125 1.143v5.714c0 .631 -.504 1.143 -1.125 1.143h-15.875a1 1 0 0 1 -1 -1v-5.857c0 -.631 .504 -1.143 1.125 -1.143h15.75z",key:"svg-0"}],["path",{d:"M9 12v2",key:"svg-1"}],["path",{d:"M6 12v3",key:"svg-2"}],["path",{d:"M12 12v3",key:"svg-3"}],["path",{d:"M18 12v3",key:"svg-4"}],["path",{d:"M15 12v2",key:"svg-5"}],["path",{d:"M3 3v4",key:"svg-6"}],["path",{d:"M3 5h18",key:"svg-7"}],["path",{d:"M21 3v4",key:"svg-8"}]],Xl=L("outline","ruler-measure","RulerMeasure",Wl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=[["path",{d:"M4 7v-1a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 17v1a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-1",key:"svg-3"}],["path",{d:"M5 12l14 0",key:"svg-4"}]],Yl=L("outline","scan","Scan",zl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],Kl=L("outline","search","Search",Zl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],Ql=L("outline","settings","Settings",ql);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=[["path",{d:"M4 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M10 17h-4v-14h-2",key:"svg-1"}],["path",{d:"M6 5l14 1l-.717 5.016m-7.783 1.984h-5.5",key:"svg-2"}],["path",{d:"M18 22l3.35 -3.284a2.143 2.143 0 0 0 .005 -3.071a2.242 2.242 0 0 0 -3.129 -.006l-.224 .22l-.223 -.22a2.242 2.242 0 0 0 -3.128 -.006a2.143 2.143 0 0 0 -.006 3.071l3.355 3.296z",key:"svg-3"}]],$l=L("outline","shopping-cart-heart","ShoppingCartHeart",Jl);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=[["path",{d:"M4 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M12.5 17h-6.5v-14h-2",key:"svg-1"}],["path",{d:"M6 5l14 1l-.86 6.017m-2.64 .983h-10.5",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}]],tc=L("outline","shopping-cart-plus","ShoppingCartPlus",ec);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=[["path",{d:"M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 17h-11v-14h-2",key:"svg-2"}],["path",{d:"M6 5l14 1l-1 7h-13",key:"svg-3"}]],Zr=L("outline","shopping-cart","ShoppingCart",nc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=[["path",{d:"M3 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M15 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M6 15v-1a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M12 9l0 3",key:"svg-4"}]],ic=L("outline","sitemap","Sitemap",rc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=[["path",{d:"M12 4l-8 4l8 4l8 -4l-8 -4",key:"svg-0"}],["path",{d:"M4 12l8 4l8 -4",key:"svg-1"}],["path",{d:"M4 16l8 4l8 -4",key:"svg-2"}]],ac=L("outline","stack-2","Stack2",sc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=[["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M18 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M6 12v-2a6 6 0 1 1 12 0v2",key:"svg-2"}],["path",{d:"M15 9l3 3l3 -3",key:"svg-3"}]],lc=L("outline","status-change","StatusChange",oc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=[["path",{d:"M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z",key:"svg-1"}]],xs=L("outline","tag","Tag",cc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=[["path",{d:"M8.487 21h7.026a4 4 0 0 0 3.808 -5.224l-1.706 -5.306a5 5 0 0 0 -4.76 -3.47h-1.71a5 5 0 0 0 -4.76 3.47l-1.706 5.306a4 4 0 0 0 3.808 5.224",key:"svg-0"}],["path",{d:"M15 3q -1 4 -3 4t -3 -4z",key:"svg-1"}],["path",{d:"M14 11h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M12 10v1",key:"svg-3"}],["path",{d:"M12 17v1",key:"svg-4"}]],uc=L("outline","tax","Tax",hc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=[["path",{d:"M20 8.04l-12.122 12.124a2.857 2.857 0 1 1 -4.041 -4.04l12.122 -12.124",key:"svg-0"}],["path",{d:"M7 13h8",key:"svg-1"}],["path",{d:"M19 15l1.5 1.6a2 2 0 1 1 -3 0l1.5 -1.6z",key:"svg-2"}],["path",{d:"M15 3l6 6",key:"svg-3"}]],ps=L("outline","test-pipe","TestPipe",dc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=[["path",{d:"M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5",key:"svg-0"}]],Kr=L("outline","tool","Tool",fc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=[["path",{d:"M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4",key:"svg-0"}],["path",{d:"M14.5 5.5l4 4",key:"svg-1"}],["path",{d:"M12 8l-5 -5l-4 4l5 5",key:"svg-2"}],["path",{d:"M7 8l-1.5 1.5",key:"svg-3"}],["path",{d:"M16 12l5 5l-4 4l-5 -5",key:"svg-4"}],["path",{d:"M16 17l-1.5 1.5",key:"svg-5"}]],gr=L("outline","tools","Tools",gc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=[["path",{d:"M20 10h-16l5.5 -6",key:"svg-0"}],["path",{d:"M4 14h16l-5.5 6",key:"svg-1"}]],pc=L("outline","transfer","Transfer",xc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=[["path",{d:"M18 3a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3",key:"svg-0"}],["path",{d:"M3 18v-12a3 3 0 1 1 6 0v12a3 3 0 0 1 -6 0z",key:"svg-1"}],["path",{d:"M9 12h8",key:"svg-2"}],["path",{d:"M14 15l3 -3l-3 -3",key:"svg-3"}]],mc=L("outline","transition-right","TransitionRight",wc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],Ec=L("outline","trash","Trash",Cc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=[["path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5",key:"svg-2"}],["path",{d:"M3 9l4 0",key:"svg-3"}]],ws=L("outline","truck-delivery","TruckDelivery",Ac);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=[["path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M5 17h-2v-11a1 1 0 0 1 1 -1h9v6h-5l2 2m0 -4l-2 2",key:"svg-2"}],["path",{d:"M9 17l6 0",key:"svg-3"}],["path",{d:"M13 6h5l3 5v6h-2",key:"svg-4"}]],Ic=L("outline","truck-return","TruckReturn",yc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=[["path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5",key:"svg-2"}]],vc=L("outline","truck","Truck",bc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=[["path",{d:"M17 22v-2",key:"svg-0"}],["path",{d:"M9 15l6 -6",key:"svg-1"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-2"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-3"}],["path",{d:"M20 17h2",key:"svg-4"}],["path",{d:"M2 7h2",key:"svg-5"}],["path",{d:"M7 2v2",key:"svg-6"}]],Sc=L("outline","unlink","Unlink",_c);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4c.267 0 .529 .026 .781 .076",key:"svg-1"}],["path",{d:"M19 16l-2 3h4l-2 3",key:"svg-2"}]],Nc=L("outline","user-bolt","UserBolt",Tc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h.5",key:"svg-1"}],["path",{d:"M17.8 20.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z",key:"svg-2"}]],Rc=L("outline","user-star","UserStar",Mc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],ms=L("outline","user","User",Oc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1",key:"svg-1"}],["path",{d:"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}],["path",{d:"M17 10h2a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-4"}],["path",{d:"M3 13v-1a2 2 0 0 1 2 -2h2",key:"svg-5"}]],kc=L("outline","users-group","UsersGroup",Dc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=[["path",{d:"M10 5m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 7l0 10",key:"svg-1"}],["path",{d:"M4 8l0 8",key:"svg-2"}]],Pc=L("outline","versions","Versions",Bc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=[["path",{d:"M20.942 13.02a9 9 0 1 0 -9.47 7.964",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h9.9",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3c2 3.206 2.837 6.913 2.508 10.537",key:"svg-4"}],["path",{d:"M20 21l2 -2l-2 -2",key:"svg-5"}],["path",{d:"M17 17l-2 2l2 2",key:"svg-6"}]],Fc=L("outline","world-code","WorldCode",Lc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]],Vc=L("outline","world","World",Uc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],pr=L("outline","x","X",jc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=[["path",{d:"M9 5l-.117 .007a1 1 0 0 0 -.883 .993v4.999l-2.586 .001a2 2 0 0 0 -1.414 3.414l6.586 6.586a2 2 0 0 0 2.828 0l6.586 -6.586a2 2 0 0 0 .434 -2.18l-.068 -.145a2 2 0 0 0 -1.78 -1.089l-2.586 -.001v-4.999a1 1 0 0 0 -1 -1h-6z",key:"svg-0"}],["path",{d:"M15 2a1 1 0 0 1 .117 1.993l-.117 .007h-6a1 1 0 0 1 -.117 -1.993l.117 -.007h6z",key:"svg-1"}]],Gc=L("filled","arrow-big-down-line-filled","ArrowBigDownLineFilled",Hc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]],Xc=L("filled","player-play-filled","PlayerPlayFilled",Wc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=[["path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",key:"svg-0"}]],Yc=L("filled","player-stop-filled","PlayerStopFilled",zc);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=[["path",{d:"M19 2h-14a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3 -3v-14a3 3 0 0 0 -3 -3zm-9.387 6.21l.094 .083l2.293 2.292l2.293 -2.292a1 1 0 0 1 1.497 1.32l-.083 .094l-2.292 2.293l2.292 2.293a1 1 0 0 1 -1.32 1.497l-.094 -.083l-2.293 -2.292l-2.293 2.292a1 1 0 0 1 -1.497 -1.32l.083 -.094l2.292 -2.293l-2.292 -2.293a1 1 0 0 1 1.32 -1.497z",key:"svg-0"}]],Kc=L("filled","square-x-filled","SquareXFilled",Zc),xi=k.createContext(null);xi.displayName="@mantine/modals/ModalsContext";function qc(){const l=k.useContext(xi);if(!l)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return l}function Qc({id:l,cancelProps:c,confirmProps:h,labels:f={cancel:"",confirm:""},closeOnConfirm:x=!0,closeOnCancel:g=!0,groupProps:E,onCancel:v,onConfirm:b,children:C}){const{cancel:N,confirm:S}=f,B=qc(),W=X=>{typeof c?.onClick=="function"&&c?.onClick(X),typeof v=="function"&&v(),g&&B.closeModal(l)},q=X=>{typeof h?.onClick=="function"&&h?.onClick(X),typeof b=="function"&&b(),x&&B.closeModal(l)};return I.jsxs(I.Fragment,{children:[C&&I.jsx(sn,{mb:"md",children:C}),I.jsxs(Dt,{mt:C?0:"md",justify:"flex-end",...E,children:[I.jsx(bn,{variant:"default",...c,onClick:W,children:c?.children||N}),I.jsx(bn,{...h,onClick:q,children:h?.children||S})]})]})}const[Jc,ln]=ho("mantine-modals"),$c=l=>{const c=l.modalId||In();return ln("openModal")({...l,modalId:c}),c},eh=l=>{const c=l.modalId||In();return ln("openConfirmModal")({...l,modalId:c}),c},th=l=>{const c=l.modalId||In();return ln("openContextModal")({...l,modalId:c}),c},nh=ln("closeModal"),rh=ln("closeAllModals"),ih=l=>ln("updateModal")(l),sh=l=>ln("updateContextModal")(l),$u={open:$c,close:nh,closeAll:rh,openConfirmModal:eh,openContextModal:th,updateModal:ih,updateContextModal:sh};function Cs(l,c){c&&l.type==="confirm"&&l.props.onCancel?.(),l.props.onClose?.()}function ah(l,c){switch(c.type){case"OPEN":return{current:c.modal,modals:[...l.modals,c.modal]};case"CLOSE":{const h=l.modals.find(x=>x.id===c.modalId);if(!h)return l;Cs(h,c.canceled);const f=l.modals.filter(x=>x.id!==c.modalId);return{current:f[f.length-1]||l.current,modals:f}}case"CLOSE_ALL":return l.modals.length?(l.modals.concat().reverse().forEach(h=>{Cs(h,c.canceled)}),{current:l.current,modals:[]}):l;case"UPDATE":{const{modalId:h,newProps:f}=c,x=l.modals.map(E=>E.id!==h?E:E.type==="content"||E.type==="confirm"?{...E,props:{...E.props,...f}}:E.type==="context"?{...E,props:{...E.props,...f,innerProps:{...E.props.innerProps,...f.innerProps}}}:E),g=l.current?.id===h&&x.find(E=>E.id===h)||l.current;return{...l,modals:x,current:g}}default:return l}}function oh(l){if(!l)return{confirmProps:{},modalProps:{}};const{id:c,children:h,onCancel:f,onConfirm:x,closeOnConfirm:g,closeOnCancel:E,cancelProps:v,confirmProps:b,groupProps:C,labels:N,...S}=l;return{confirmProps:{id:c,children:h,onCancel:f,onConfirm:x,closeOnConfirm:g,closeOnCancel:E,cancelProps:v,confirmProps:b,groupProps:C,labels:N},modalProps:{id:c,...S}}}function lh({children:l,modalProps:c,labels:h,modals:f}){const[x,g]=k.useReducer(ah,{modals:[],current:null}),E=k.useRef(x);E.current=x;const v=k.useCallback(j=>{g({type:"CLOSE_ALL",canceled:j})},[E,g]),b=k.useCallback(({modalId:j,...U})=>{const Y=j||In();return g({type:"OPEN",modal:{id:Y,type:"content",props:U}}),Y},[g]),C=k.useCallback(({modalId:j,...U})=>{const Y=j||In();return g({type:"OPEN",modal:{id:Y,type:"confirm",props:U}}),Y},[g]),N=k.useCallback((j,{modalId:U,...Y})=>{const Ee=U||In();return g({type:"OPEN",modal:{id:Ee,type:"context",props:Y,ctx:j}}),Ee},[g]),S=k.useCallback((j,U)=>{g({type:"CLOSE",modalId:j,canceled:U})},[E,g]),B=k.useCallback(({modalId:j,...U})=>{g({type:"UPDATE",modalId:j,newProps:U})},[g]),W=k.useCallback(({modalId:j,...U})=>{g({type:"UPDATE",modalId:j,newProps:U})},[g]);Jc({openModal:b,openConfirmModal:C,openContextModal:({modal:j,...U})=>N(j,U),closeModal:S,closeContextModal:S,closeAllModals:v,updateModal:B,updateContextModal:W});const q={modalProps:c||{},modals:x.modals,openModal:b,openConfirmModal:C,openContextModal:N,closeModal:S,closeContextModal:S,closeAll:v,updateModal:B,updateContextModal:W},X=()=>{const j=E.current.current;switch(j?.type){case"context":{const{innerProps:U,...Y}=j.props,Ee=f[j.ctx];return{modalProps:Y,content:I.jsx(Ee,{innerProps:U,context:q,id:j.id})}}case"confirm":{const{modalProps:U,confirmProps:Y}=oh(j.props);return{modalProps:U,content:I.jsx(Qc,{...Y,id:j.id,labels:j.props.labels||h})}}case"content":{const{children:U,...Y}=j.props;return{modalProps:Y,content:U}}default:return{modalProps:{},content:null}}},{modalProps:Q,content:he}=X();return I.jsxs(xi.Provider,{value:q,children:[I.jsx(zs,{zIndex:uo("modal")+1,...c,...Q,opened:x.modals.length>0,onClose:()=>S(x.current?.id),children:he}),l]})}function ch({className:l,style:c}){return I.jsx(sn,{className:Gn("mantine-contextmenu-divider",l),style:c})}function hh({zIndex:l,children:c,onHide:h}){let{repositionOnRepeat:f}=k.useContext(Er);return I.jsx("div",{className:"mantine-contextmenu-overlay",style:{zIndex:l},onClick:x=>{x.preventDefault(),h()},onContextMenu:async x=>{if(x.preventDefault(),f){let{clientX:g,clientY:E}=x;try{document.elementsFromPoint(g,E)[1].dispatchEvent(new MouseEvent("contextmenu",{bubbles:!0,clientX:g,clientY:E}))}catch{}}else h()},children:c})}function uh({onHide:l,zIndex:c,...h}){return xr("resize",l),xr("scroll",l),a1([["Escape",l]]),I.jsx(fo,{children:I.jsx(hh,{zIndex:c,onHide:l,children:I.jsx(ra,{...h,onHide:l})})})}var Vn={shadow:"sm",borderRadius:"xs",submenuDelay:500,repositionOnRepeat:!1},Er=k.createContext(Vn),na=k.createContext({showContextMenu:()=>()=>{},hideContextMenu:()=>{},isContextMenuVisible:!1});function dh({zIndex:l=9999,shadow:c=Vn.shadow,borderRadius:h=Vn.borderRadius,submenuDelay:f=Vn.submenuDelay,repositionOnRepeat:x=Vn.repositionOnRepeat,children:g}){let[E,v]=k.useState(null),b=()=>{v(null)},C=(N,S)=>B=>{B.preventDefault(),B.stopPropagation();let{x:W,y:q}="touches"in B?{x:B.touches.item(0).clientX,y:B.touches.item(0).clientY}:{x:B.clientX,y:B.clientY};v({x:W,y:q,content:N,zIndex:S?.zIndex||l,className:S?.className,style:S?.style,classNames:S?.classNames,styles:S?.styles})};return I.jsx(Er.Provider,{value:{shadow:c,borderRadius:h,submenuDelay:f,repositionOnRepeat:x},children:I.jsxs(na.Provider,{value:{showContextMenu:C,hideContextMenu:b,isContextMenuVisible:!!E},children:[g,E&&I.jsx(uh,{onHide:b,...E})]})})}function ed(){return k.useContext(na)}function fh(l){let c=l.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${c.charAt(0).toUpperCase()}${c.slice(1)}`}function ra({x:l,y:c,content:h,zIndex:f,onHide:x,className:g,style:E,classNames:v,styles:b}){let{shadow:C,borderRadius:N}=k.useContext(Er),[S]=go(),{width:B,height:W}=S.current?.getBoundingClientRect()||{width:0,height:0},q=0,X=0;typeof window<"u"&&({innerWidth:q,innerHeight:X}=window);let{dir:Q}=xo(),he={className:g,classNames:v,style:E,styles:b};return I.jsx(po,{ref:S,shadow:C,radius:N,className:Gn("mantine-contextmenu",g,v?.root),style:[({spacing:{md:j}})=>{let U=wo(j);return{zIndex:f,top:c+W+U>X?X-W-U:c,left:Q==="ltr"?l+B+U>q?q-B-U:l:q-U-(l-B-U<0?B+U:l)}},E,b?.root],children:Array.isArray(h)?h.map(({key:j,hidden:U,className:Y,style:Ee,onClick:pe,items:G,title:ae,...V})=>U?null:pe||G?I.jsx(gh,{className:Gn(v?.item,Y),style:[b?.item,Ee],title:ae??fh(j),onClick:pe,onHide:x,items:G,submenuProps:he,...V},j):I.jsx(ch,{className:Gn(v?.divider,Y),style:[b?.divider,Ee]},j)):h(x)})}function gh({className:l,style:c,icon:h,iconRight:f,title:x,color:g,disabled:E,onClick:v,onHide:b,items:C,submenuProps:N}){let S=k.useRef(null),{submenuDelay:B}=k.useContext(Er),W=mo("(hover: hover)"),[q,X]=k.useState(null),{start:Q,clear:he}=Xi(()=>{let{top:V,right:We}=S.current.getBoundingClientRect();X({x:We,y:V})},B),{start:j,clear:U}=Xi(()=>{X(null)},B),Y=()=>{U(),Q()},Ee=()=>{he(),j()},pe=C&&!E,G=pe&&W,ae=pe?V=>{V.stopPropagation(),Y()}:v?V=>{b(),v(V)}:void 0;return I.jsxs("div",{onMouseEnter:G?Y:void 0,onMouseLeave:G?Ee:void 0,children:[I.jsxs(Co,{ref:S,style:[V=>{let{colors:We}=V,_e=g?Eo({color:g,theme:V}).value:void 0;return{"--mantine-contextmenu-item-button-color":_e||"var(--mantine-color-text)","--mantine-contextmenu-item-button-hover-bg-color-light":_e?Zt(_e,.08):Zt(We.gray[4],.25),"--mantine-contextmenu-item-button-hover-bg-color-dark":_e?Zt(_e,.15):Zt(We.dark[3],.25),"--mantine-contextmenu-item-button-pressed-bg-color-light":_e?Zt(_e,.2):Zt(We.gray[4],.5),"--mantine-contextmenu-item-button-pressed-bg-color-dark":_e?Zt(_e,.3):Zt(We.dark[3],.5)}},c],className:Gn("mantine-contextmenu-item-button",l),disabled:E,onClick:ae,children:[h&&I.jsx(sn,{fz:0,mr:"xs",mt:-2,children:h}),I.jsx("div",{className:"mantine-contextmenu-item-button-title",children:x}),f?I.jsx(sn,{fz:0,ml:"xs",mt:-2,children:f}):C&&I.jsx(sn,{mt:-1,ml:"xs",children:""})]}),q&&I.jsx(ra,{content:C,onHide:b,...N,...q})]})}const ia={name:kl,description:Un,variant_of:G0,revision_of:lc,unallocated_stock:gs,total_in_stock:Yr,minimum_stock:ls,allocated_to_build_orders:Kr,allocated_to_sales_orders:vc,can_build:gr,ordering:Zr,building:Kr,category:T1,IPN:ml,revision:L0,units:Xl,keywords:xs,status:Un,status_custom_key:Un,edit:b0,info:Un,exclamation:Ys,details:Un,parameters:us,list:us,list_details:nl,stock:Yr,variants:Pc,allocations:M1,bom:il,build:gr,build_order:gr,builds:gr,used_in:ac,manufacturers:P1,suppliers:V1,customers:F1,purchase_orders:Zr,return_orders:Ic,sales_orders:ws,scheduling:z1,scrap:s0,shipment:C0,test_templates:ps,test:ps,related_parts:Z0,attachments:_l,note:fs,notes:fs,photo:Ml,upload:O0,download:M0,reject:pr,refresh:Gl,select_image:cs,delete:Ec,return:I1,packaging:gs,packages:Yr,install:mc,plus:ss,minus:is,cancel:e0,hold:V0,issue:k1,complete:zi,deliver:ws,address:hl,import:T0,bell:es,notification:es,admin:Nc,system:Ql,license:J0,tax_id:uc,active:rs,template:os,assembly:Kr,component:cs,trackable:w0,purchaseable:Zr,saleable:fr,virtual:Fc,inactive:pr,part:O1,supplier_part:yl,lock:ds,locked:ds,calendar:ns,calendar_target:ts,calendar_cross:q1,calendar_check:Xr,external:_0,creation_date:Z1,target_date:ts,date:ns,shipment_date:Xr,complete_date:Xr,location:fl,default_location:zr,category_default_location:zr,parent_default_location:zr,default_supplier:$l,link:el,responsible:Rc,pricing:fr,total_price:fr,currency:fr,stocktake:c0,user:ms,group:kc,check:rs,copy:os,square_x:Kc,arrow_down:Gc,transfer:pc,actions:y0,labels:xs,reports:Pl,buy:tc,add:ss,remove:is,merge:v1,customer:ms,quantity:El,progress:Fl,total_cost:H1,reference:hs,serial:hs,website:Vc,email:ll,phone:Tl,sitemap:ic,downleft:f0,downright:x0,barcode:ta,barLine:xl,batch:as,batch_code:as,tick_off:o0,destination:ls,repeat_destination:k0,unlink:Sc,success:zi,plugin:Ol,history:X0,dashboard:q0,search:Kl};function xh(l){return ia[l]}function Es(l){let c;return l.icon in ia?c=xh(l.icon):(console.warn(`Icon name '${l.icon}' is not registered with the Icon manager`),c=jl),I.jsx(c,{...l.iconProps})}function As({value:l,label:c,tooltip:h,disabled:f,tooltipPosition:x,content:g,size:E,color:v="gray"}){const b=c?bn:ni;return I.jsx(Ao,{value:l,children:({copied:C,copy:N})=>I.jsx(ti,{label:C?be._({id:"6V3Ea3"}):h??be._({id:"he3ygx"}),withArrow:!0,position:x,children:I.jsxs(b,{disabled:f,color:C?"teal":v,onClick:N,variant:"transparent",size:E??"sm",children:[C?I.jsx(Es,{icon:"check"}):I.jsx(Es,{icon:"copy"}),g,c&&I.jsx(kt,{p:E??"sm",size:E??"sm",children:c})]})})})}const ph=()=>{const l=yo(),c=k.useMemo(()=>Io(l.primaryColor,l),[l]),h=k.useMemo(()=>bo(c,.25),[c]);return k.useMemo(()=>({primary:c,secondary:h}),[c,h])};function si({children:l,size:c}){const{primary:h,secondary:f}=ph();return I.jsx(kt,{fw:700,size:c??"xl",variant:"gradient",gradient:{from:h.toString(),to:f.toString()},children:l})}function wh({context:l,id:c,innerProps:h}){const[f]=ci(an(x=>[x.user]));return f?.is_staff?I.jsx(mh,{context:l,id:c,innerProps:h}):I.jsx(kt,{children:I.jsx(le,{id:"cUyJH1"})})}const mh=({context:l,id:c})=>{const[h]=hi(an(C=>[C.server])),{isLoading:f,data:x}=$s({queryKey:["version"],queryFn:()=>Xn.get(ui(di.version)).then(C=>C.data)});function g(C,N,S=!1){return C.filter(B=>!!N[B.ref]).map((B,W)=>I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:B.title}),I.jsx(ge.Td,{children:I.jsxs(Dt,{justify:"space-between",gap:"xs",children:[S?I.jsx(Yi,{href:N[B.ref],target:"_blank",children:N[B.ref]}):B.link?I.jsx(Yi,{href:B.link,target:"_blank",children:N[B.ref]}):N[B.ref],B.copy&&I.jsx(As,{value:N[B.ref]})]})})]},W))}if(f)return I.jsx(le,{id:"yQE2r9"});const E=x.version.commit_hash&&x.version.commit_date,v=`InvenTree-Version: ${x.version.server}
Django Version: ${x.version.django}
${E?`Commit Hash: ${x.version.commit_hash}
Commit Date: ${x.version.commit_date}
Commit Branch: ${x.version.commit_branch}
`:""}Database: ${h.database}
Debug-Mode: ${h.debug_mode?"True":"False"}
Deployed using Docker: ${h.docker_mode?"True":"False"}
Platform: ${h.platform}
Installer: ${h.installer?h.installer:""}
${h.target?`Target: ${h.target}
`:""}Active plugins: ${JSON.stringify(h.active_plugins)}`,b=[{ref:"server",title:I.jsx(le,{id:"7UvbG+"}),link:"https://github.com/inventree/InvenTree/releases",copy:!0},{ref:"api",title:I.jsx(le,{id:"8XeFzA"}),link:vo("/api-doc/"),copy:!0},{ref:"python",title:I.jsx(le,{id:"w4AvPz"}),copy:!0},{ref:"django",title:I.jsx(le,{id:"g27hpz"}),link:"https://www.djangoproject.com/",copy:!0}];return E&&b.push({ref:"commit_hash",title:I.jsx(le,{id:"wh0+YJ"}),copy:!0},{ref:"commit_date",title:I.jsx(le,{id:"26rItp"}),copy:!0},{ref:"commit_branch",title:I.jsx(le,{id:"2dP9Tz"}),copy:!0}),I.jsxs(on,{style:{userSelect:"none"},children:[I.jsx(Ft,{}),I.jsxs(Dt,{justify:"space-between",wrap:"nowrap",children:[I.jsx(si,{size:"lg",children:I.jsx(le,{id:"/4WpyD"})}),Ch(x)]}),I.jsx(ge,{striped:!0,children:I.jsx(ge.Tbody,{children:g(b,x.version)})}),I.jsx(Ft,{}),I.jsx(si,{size:"lg",children:I.jsx(le,{id:"Rj01Fz"})}),I.jsx(ge,{striped:!0,children:I.jsx(ge.Tbody,{children:g([{ref:"doc",title:I.jsx(le,{id:"TvY/XA"})},{ref:"code",title:I.jsx(le,{id:"PnzsrT"})},{ref:"app",title:I.jsx(le,{id:"gI5gJF"})},{ref:"bug",title:I.jsx(le,{id:"f43Mpl"})}],x.links,!0)})}),I.jsx(Ft,{}),I.jsxs(Dt,{justify:"space-between",children:[I.jsx("div",{style:{border:"1px solid orange",borderRadius:"8px"},children:I.jsx(As,{value:v,label:be._({id:"Z3HrI+"}),color:"orange"})}),I.jsx(Zs,{}),I.jsx(bn,{onClick:()=>{l.closeModal(c)},children:I.jsx(le,{id:"yz7wBu"})})]})]})};function Ch(l){const c=()=>l.dev?{color:"blue",label:I.jsx(le,{id:"Hz3dBg"})}:l.up_to_date?{color:"green",label:I.jsx(le,{id:"DS7OAx"})}:{color:"teal",label:I.jsx(le,{id:"YXMY4w"})},{color:h,label:f}=c();return I.jsx(An,{color:h,children:f})}function Eh(l){return I.jsxs(on,{gap:"xs",children:[I.jsx(Ft,{}),l?.length>0?I.jsx(hr,{variant:"contained",defaultValue:"-",children:l?.map((c,h)=>I.jsxs(hr.Item,{value:`entry-${h}`,children:[I.jsx(hr.Control,{children:I.jsxs(Dt,{justify:"space-between",grow:!0,children:[I.jsx(kt,{children:c.name}),I.jsx(kt,{children:c.license}),I.jsx(Zs,{}),I.jsx(kt,{children:c.version})]})}),I.jsx(hr.Panel,{style:{whiteSpace:"pre-line"},children:c.licensetext||be._({id:"4JhzII"})})]},c.name+c.license+c.version))}):I.jsx(kt,{children:I.jsx(le,{id:"fSZVIc"})})]})}function Ah(){const{data:l,isFetching:c,isError:h}=$s({queryKey:["license"],refetchOnMount:!0,queryFn:()=>Xn.get(ui(di.license)).then(E=>E.data??{})}),f=k.useMemo(()=>l?Object.keys(l??{}):[],[l]),[x,g]=k.useState("");return k.useEffect(()=>{f.length>0&&g(f[0])},[f]),I.jsxs(on,{gap:"xs",children:[I.jsx(Ft,{}),I.jsx(fi,{visible:c}),c&&I.jsx(kt,{children:I.jsx(le,{id:"7CwvjQ"})}),h?I.jsx(Wn,{color:"red",title:be._({id:"SlfejT"}),children:I.jsx(kt,{children:I.jsx(le,{id:"NIRUL8"})})}):I.jsxs(cr,{defaultValue:f[0]??"",value:x,onChange:g,children:[I.jsx(cr.List,{children:f.map(E=>I.jsx(cr.Tab,{value:E,children:I.jsx(le,{id:"7IJNlG",values:{key:E}})},E))}),f.map(E=>I.jsx(cr.Panel,{value:E,children:Eh(l[E]??[])},E))]})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zn(){return zn=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(l[f]=h[f])}return l},zn.apply(this,arguments)}var Kt;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(Kt||(Kt={}));const ys="popstate";function td(l){l===void 0&&(l={});function c(f,x){let{pathname:g,search:E,hash:v}=f.location;return ai("",{pathname:g,search:E,hash:v},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function h(f,x){return typeof x=="string"?x:aa(x)}return Ih(c,h,null,l)}function He(l,c){if(l===!1||l===null||typeof l>"u")throw new Error(c)}function sa(l,c){if(!l){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function yh(){return Math.random().toString(36).substr(2,8)}function Is(l,c){return{usr:l.state,key:l.key,idx:c}}function ai(l,c,h,f){return h===void 0&&(h=null),zn({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof c=="string"?vn(c):c,{state:h,key:c&&c.key||f||yh()})}function aa(l){let{pathname:c="/",search:h="",hash:f=""}=l;return h&&h!=="?"&&(c+=h.charAt(0)==="?"?h:"?"+h),f&&f!=="#"&&(c+=f.charAt(0)==="#"?f:"#"+f),c}function vn(l){let c={};if(l){let h=l.indexOf("#");h>=0&&(c.hash=l.substr(h),l=l.substr(0,h));let f=l.indexOf("?");f>=0&&(c.search=l.substr(f),l=l.substr(0,f)),l&&(c.pathname=l)}return c}function Ih(l,c,h,f){f===void 0&&(f={});let{window:x=document.defaultView,v5Compat:g=!1}=f,E=x.history,v=Kt.Pop,b=null,C=N();C==null&&(C=0,E.replaceState(zn({},E.state,{idx:C}),""));function N(){return(E.state||{idx:null}).idx}function S(){v=Kt.Pop;let Q=N(),he=Q==null?null:Q-C;C=Q,b&&b({action:v,location:X.location,delta:he})}function B(Q,he){v=Kt.Push;let j=ai(X.location,Q,he);C=N()+1;let U=Is(j,C),Y=X.createHref(j);try{E.pushState(U,"",Y)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;x.location.assign(Y)}g&&b&&b({action:v,location:X.location,delta:1})}function W(Q,he){v=Kt.Replace;let j=ai(X.location,Q,he);C=N();let U=Is(j,C),Y=X.createHref(j);E.replaceState(U,"",Y),g&&b&&b({action:v,location:X.location,delta:0})}function q(Q){let he=x.location.origin!=="null"?x.location.origin:x.location.href,j=typeof Q=="string"?Q:aa(Q);return j=j.replace(/ $/,"%20"),He(he,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,he)}let X={get action(){return v},get location(){return l(x,E)},listen(Q){if(b)throw new Error("A history only accepts one active listener");return x.addEventListener(ys,S),b=Q,()=>{x.removeEventListener(ys,S),b=null}},createHref(Q){return c(x,Q)},createURL:q,encodeLocation(Q){let he=q(Q);return{pathname:he.pathname,search:he.search,hash:he.hash}},push:B,replace:W,go(Q){return E.go(Q)}};return X}var bs;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(bs||(bs={}));function bh(l,c,h){return h===void 0&&(h="/"),vh(l,c,h)}function vh(l,c,h,f){let x=typeof c=="string"?vn(c):c,g=ua(x.pathname||"/",h);if(g==null)return null;let E=oa(l);_h(E);let v=null;for(let b=0;v==null&&b<E.length;++b){let C=ha(g);v=Bh(E[b],C)}return v}function oa(l,c,h,f){c===void 0&&(c=[]),h===void 0&&(h=[]),f===void 0&&(f="");let x=(g,E,v)=>{let b={relativePath:v===void 0?g.path||"":v,caseSensitive:g.caseSensitive===!0,childrenIndex:E,route:g};b.relativePath.startsWith("/")&&(He(b.relativePath.startsWith(f),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+f+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(f.length));let C=qt([f,b.relativePath]),N=h.concat(b);g.children&&g.children.length>0&&(He(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+C+'".')),oa(g.children,c,N,C)),!(g.path==null&&!g.index)&&c.push({path:C,score:Dh(C,g.index),routesMeta:N})};return l.forEach((g,E)=>{var v;if(g.path===""||!((v=g.path)!=null&&v.includes("?")))x(g,E);else for(let b of la(g.path))x(g,E,b)}),c}function la(l){let c=l.split("/");if(c.length===0)return[];let[h,...f]=c,x=h.endsWith("?"),g=h.replace(/\?$/,"");if(f.length===0)return x?[g,""]:[g];let E=la(f.join("/")),v=[];return v.push(...E.map(b=>b===""?g:[g,b].join("/"))),x&&v.push(...E),v.map(b=>l.startsWith("/")&&b===""?"/":b)}function _h(l){l.sort((c,h)=>c.score!==h.score?h.score-c.score:kh(c.routesMeta.map(f=>f.childrenIndex),h.routesMeta.map(f=>f.childrenIndex)))}const Sh=/^:[\w-]+$/,Th=3,Nh=2,Mh=1,Rh=10,Oh=-2,vs=l=>l==="*";function Dh(l,c){let h=l.split("/"),f=h.length;return h.some(vs)&&(f+=Oh),c&&(f+=Nh),h.filter(x=>!vs(x)).reduce((x,g)=>x+(Sh.test(g)?Th:g===""?Mh:Rh),f)}function kh(l,c){return l.length===c.length&&l.slice(0,-1).every((f,x)=>f===c[x])?l[l.length-1]-c[c.length-1]:0}function Bh(l,c,h){let{routesMeta:f}=l,x={},g="/",E=[];for(let v=0;v<f.length;++v){let b=f[v],C=v===f.length-1,N=g==="/"?c:c.slice(g.length)||"/",S=ca({path:b.relativePath,caseSensitive:b.caseSensitive,end:C},N),B=b.route;if(!S)return null;Object.assign(x,S.params),E.push({params:x,pathname:qt([g,S.pathname]),pathnameBase:Vh(qt([g,S.pathnameBase])),route:B}),S.pathnameBase!=="/"&&(g=qt([g,S.pathnameBase]))}return E}function ca(l,c){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[h,f]=Ph(l.path,l.caseSensitive,l.end),x=c.match(h);if(!x)return null;let g=x[0],E=g.replace(/(.)\/+$/,"$1"),v=x.slice(1);return{params:f.reduce((C,N,S)=>{let{paramName:B,isOptional:W}=N;if(B==="*"){let X=v[S]||"";E=g.slice(0,g.length-X.length).replace(/(.)\/+$/,"$1")}const q=v[S];return W&&!q?C[B]=void 0:C[B]=(q||"").replace(/%2F/g,"/"),C},{}),pathname:g,pathnameBase:E,pattern:l}}function Ph(l,c,h){c===void 0&&(c=!1),h===void 0&&(h=!0),sa(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let f=[],x="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(E,v,b)=>(f.push({paramName:v,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(f.push({paramName:"*"}),x+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?x+="\\/*$":l!==""&&l!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,c?void 0:"i"),f]}function ha(l){try{return l.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return sa(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+c+").")),l}}function ua(l,c){if(c==="/")return l;if(!l.toLowerCase().startsWith(c.toLowerCase()))return null;let h=c.endsWith("/")?c.length-1:c.length,f=l.charAt(h);return f&&f!=="/"?null:l.slice(h)||"/"}function Lh(l,c){c===void 0&&(c="/");let{pathname:h,search:f="",hash:x=""}=typeof l=="string"?vn(l):l;return{pathname:h?h.startsWith("/")?h:Fh(h,c):c,search:jh(f),hash:Hh(x)}}function Fh(l,c){let h=c.replace(/\/+$/,"").split("/");return l.split("/").forEach(x=>{x===".."?h.length>1&&h.pop():x!=="."&&h.push(x)}),h.length>1?h.join("/"):"/"}function qr(l,c,h,f){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+c+"` field ["+JSON.stringify(f)+"].  Please separate it out to the ")+("`to."+h+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uh(l){return l.filter((c,h)=>h===0||c.route.path&&c.route.path.length>0)}function pi(l,c){let h=Uh(l);return c?h.map((f,x)=>x===h.length-1?f.pathname:f.pathnameBase):h.map(f=>f.pathnameBase)}function wi(l,c,h,f){f===void 0&&(f=!1);let x;typeof l=="string"?x=vn(l):(x=zn({},l),He(!x.pathname||!x.pathname.includes("?"),qr("?","pathname","search",x)),He(!x.pathname||!x.pathname.includes("#"),qr("#","pathname","hash",x)),He(!x.search||!x.search.includes("#"),qr("#","search","hash",x)));let g=l===""||x.pathname==="",E=g?"/":x.pathname,v;if(E==null)v=h;else{let S=c.length-1;if(!f&&E.startsWith("..")){let B=E.split("/");for(;B[0]==="..";)B.shift(),S-=1;x.pathname=B.join("/")}v=S>=0?c[S]:"/"}let b=Lh(x,v),C=E&&E!=="/"&&E.endsWith("/"),N=(g||E===".")&&h.endsWith("/");return!b.pathname.endsWith("/")&&(C||N)&&(b.pathname+="/"),b}const qt=l=>l.join("/").replace(/\/\/+/g,"/"),Vh=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),jh=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Hh=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Gh(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const da=["post","put","patch","delete"];new Set(da);const Wh=["get",...da];new Set(Wh);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(l[f]=h[f])}return l},Yn.apply(this,arguments)}const mi=k.createContext(null),Xh=k.createContext(null),cn=k.createContext(null),Ar=k.createContext(null),Bt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),fa=k.createContext(null);function nd(l,c){let{relative:h}=c===void 0?{}:c;hn()||He(!1);let{basename:f,navigator:x}=k.useContext(cn),{hash:g,pathname:E,search:v}=Kh(l,{relative:h}),b=E;return f!=="/"&&(b=E==="/"?f:qt([f,E])),x.createHref({pathname:b,search:v,hash:g})}function hn(){return k.useContext(Ar)!=null}function Zn(){return hn()||He(!1),k.useContext(Ar).location}function rd(l){hn()||He(!1);let{pathname:c}=Zn();return k.useMemo(()=>ca(l,ha(c)),[c,l])}function ga(l){k.useContext(cn).static||k.useLayoutEffect(l)}function xa(){let{isDataRoute:l}=k.useContext(Bt);return l?ou():zh()}function zh(){hn()||He(!1);let l=k.useContext(mi),{basename:c,future:h,navigator:f}=k.useContext(cn),{matches:x}=k.useContext(Bt),{pathname:g}=Zn(),E=JSON.stringify(pi(x,h.v7_relativeSplatPath)),v=k.useRef(!1);return ga(()=>{v.current=!0}),k.useCallback(function(C,N){if(N===void 0&&(N={}),!v.current)return;if(typeof C=="number"){f.go(C);return}let S=wi(C,JSON.parse(E),g,N.relative==="path");l==null&&c!=="/"&&(S.pathname=S.pathname==="/"?c:qt([c,S.pathname])),(N.replace?f.replace:f.push)(S,N.state,N)},[c,f,E,g,l])}const Yh=k.createContext(null);function Zh(l){let c=k.useContext(Bt).outlet;return c&&k.createElement(Yh.Provider,{value:l},c)}function id(){let{matches:l}=k.useContext(Bt),c=l[l.length-1];return c?c.params:{}}function Kh(l,c){let{relative:h}=c===void 0?{}:c,{future:f}=k.useContext(cn),{matches:x}=k.useContext(Bt),{pathname:g}=Zn(),E=JSON.stringify(pi(x,f.v7_relativeSplatPath));return k.useMemo(()=>wi(l,JSON.parse(E),g,h==="path"),[l,E,g,h])}function qh(l,c){return Qh(l,c)}function Qh(l,c,h,f){hn()||He(!1);let{navigator:x}=k.useContext(cn),{matches:g}=k.useContext(Bt),E=g[g.length-1],v=E?E.params:{};E&&E.pathname;let b=E?E.pathnameBase:"/";E&&E.route;let C=Zn(),N;if(c){var S;let Q=typeof c=="string"?vn(c):c;b==="/"||(S=Q.pathname)!=null&&S.startsWith(b)||He(!1),N=Q}else N=C;let B=N.pathname||"/",W=B;if(b!=="/"){let Q=b.replace(/^\//,"").split("/");W="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let q=bh(l,{pathname:W}),X=nu(q&&q.map(Q=>Object.assign({},Q,{params:Object.assign({},v,Q.params),pathname:qt([b,x.encodeLocation?x.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?b:qt([b,x.encodeLocation?x.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),g,h,f);return c&&X?k.createElement(Ar.Provider,{value:{location:Yn({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:Kt.Pop}},X):X}function Jh(){let l=au(),c=Gh(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),h=l instanceof Error?l.stack:null,x={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},c),h?k.createElement("pre",{style:x},h):null,null)}const $h=k.createElement(Jh,null);class eu extends k.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,h){return h.location!==c.location||h.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:h.error,location:h.location,revalidation:c.revalidation||h.revalidation}}componentDidCatch(c,h){console.error("React Router caught the following error during render",c,h)}render(){return this.state.error!==void 0?k.createElement(Bt.Provider,{value:this.props.routeContext},k.createElement(fa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tu(l){let{routeContext:c,match:h,children:f}=l,x=k.useContext(mi);return x&&x.static&&x.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=h.route.id),k.createElement(Bt.Provider,{value:c},f)}function nu(l,c,h,f){var x;if(c===void 0&&(c=[]),h===void 0&&(h=null),f===void 0&&(f=null),l==null){var g;if(!h)return null;if(h.errors)l=h.matches;else if((g=f)!=null&&g.v7_partialHydration&&c.length===0&&!h.initialized&&h.matches.length>0)l=h.matches;else return null}let E=l,v=(x=h)==null?void 0:x.errors;if(v!=null){let N=E.findIndex(S=>S.route.id&&v?.[S.route.id]!==void 0);N>=0||He(!1),E=E.slice(0,Math.min(E.length,N+1))}let b=!1,C=-1;if(h&&f&&f.v7_partialHydration)for(let N=0;N<E.length;N++){let S=E[N];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(C=N),S.route.id){let{loaderData:B,errors:W}=h,q=S.route.loader&&B[S.route.id]===void 0&&(!W||W[S.route.id]===void 0);if(S.route.lazy||q){b=!0,C>=0?E=E.slice(0,C+1):E=[E[0]];break}}}return E.reduceRight((N,S,B)=>{let W,q=!1,X=null,Q=null;h&&(W=v&&S.route.id?v[S.route.id]:void 0,X=S.route.errorElement||$h,b&&(C<0&&B===0?(lu("route-fallback"),q=!0,Q=null):C===B&&(q=!0,Q=S.route.hydrateFallbackElement||null)));let he=c.concat(E.slice(0,B+1)),j=()=>{let U;return W?U=X:q?U=Q:S.route.Component?U=k.createElement(S.route.Component,null):S.route.element?U=S.route.element:U=N,k.createElement(tu,{match:S,routeContext:{outlet:N,matches:he,isDataRoute:h!=null},children:U})};return h&&(S.route.ErrorBoundary||S.route.errorElement||B===0)?k.createElement(eu,{location:h.location,revalidation:h.revalidation,component:X,error:W,children:j(),routeContext:{outlet:null,matches:he,isDataRoute:!0}}):j()},null)}var pa=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(pa||{}),wa=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(wa||{});function ru(l){let c=k.useContext(mi);return c||He(!1),c}function iu(l){let c=k.useContext(Xh);return c||He(!1),c}function su(l){let c=k.useContext(Bt);return c||He(!1),c}function ma(l){let c=su(),h=c.matches[c.matches.length-1];return h.route.id||He(!1),h.route.id}function au(){var l;let c=k.useContext(fa),h=iu(wa.UseRouteError),f=ma();return c!==void 0?c:(l=h.errors)==null?void 0:l[f]}function ou(){let{router:l}=ru(pa.UseNavigateStable),c=ma(),h=k.useRef(!1);return ga(()=>{h.current=!0}),k.useCallback(function(x,g){g===void 0&&(g={}),h.current&&(typeof x=="number"?l.navigate(x):l.navigate(x,Yn({fromRouteId:c},g)))},[l,c])}const _s={};function lu(l,c,h){_s[l]||(_s[l]=!0)}function sd(l,c){l?.v7_startTransition,l?.v7_relativeSplatPath}function ad(l){let{to:c,replace:h,state:f,relative:x}=l;hn()||He(!1);let{future:g,static:E}=k.useContext(cn),{matches:v}=k.useContext(Bt),{pathname:b}=Zn(),C=xa(),N=wi(c,pi(v,g.v7_relativeSplatPath),b,x==="path"),S=JSON.stringify(N);return k.useEffect(()=>C(JSON.parse(S),{replace:h,state:f,relative:x}),[C,S,x,h,f]),null}function od(l){return Zh(l.context)}function cu(l){He(!1)}function ld(l){let{basename:c="/",children:h=null,location:f,navigationType:x=Kt.Pop,navigator:g,static:E=!1,future:v}=l;hn()&&He(!1);let b=c.replace(/^\/*/,"/"),C=k.useMemo(()=>({basename:b,navigator:g,static:E,future:Yn({v7_relativeSplatPath:!1},v)}),[b,v,g,E]);typeof f=="string"&&(f=vn(f));let{pathname:N="/",search:S="",hash:B="",state:W=null,key:q="default"}=f,X=k.useMemo(()=>{let Q=ua(N,b);return Q==null?null:{location:{pathname:Q,search:S,hash:B,state:W,key:q},navigationType:x}},[b,N,S,B,W,q,x]);return X==null?null:k.createElement(cn.Provider,{value:C},k.createElement(Ar.Provider,{children:h,value:X}))}function cd(l){let{children:c,location:h}=l;return qh(oi(c),h)}new Promise(()=>{});function oi(l,c){c===void 0&&(c=[]);let h=[];return k.Children.forEach(l,(f,x)=>{if(!k.isValidElement(f))return;let g=[...c,x];if(f.type===k.Fragment){h.push.apply(h,oi(f.props.children,g));return}f.type!==cu&&He(!1),!f.props.index||!f.props.children||He(!1);let E={id:f.props.id||g.join("-"),caseSensitive:f.props.caseSensitive,element:f.props.element,Component:f.props.Component,index:f.props.index,path:f.props.path,loader:f.props.loader,action:f.props.action,errorElement:f.props.errorElement,ErrorBoundary:f.props.ErrorBoundary,hasErrorBoundary:f.props.ErrorBoundary!=null||f.props.errorElement!=null,shouldRevalidate:f.props.shouldRevalidate,handle:f.props.handle,lazy:f.props.lazy};f.props.children&&(E.children=oi(f.props.children,g)),h.push(E)}),h}function hu({title:l}){return I.jsx(Wn,{color:"red",icon:I.jsx(Ys,{}),title:`${be._({id:"qwCNwv"})}: ${l}`,children:be._({id:"kH8meY"})})}function uu({children:l,label:c,fallback:h}){const f=k.useCallback((x,g,E)=>{console.error(`ERR: Error rendering component: ${c}`)},[]);return I.jsx(Ko,{fallback:h??I.jsx(hu,{title:c}),onError:f,children:l})}var $;(function(l){l[l.QR_CODE=0]="QR_CODE",l[l.AZTEC=1]="AZTEC",l[l.CODABAR=2]="CODABAR",l[l.CODE_39=3]="CODE_39",l[l.CODE_93=4]="CODE_93",l[l.CODE_128=5]="CODE_128",l[l.DATA_MATRIX=6]="DATA_MATRIX",l[l.MAXICODE=7]="MAXICODE",l[l.ITF=8]="ITF",l[l.EAN_13=9]="EAN_13",l[l.EAN_8=10]="EAN_8",l[l.PDF_417=11]="PDF_417",l[l.RSS_14=12]="RSS_14",l[l.RSS_EXPANDED=13]="RSS_EXPANDED",l[l.UPC_A=14]="UPC_A",l[l.UPC_E=15]="UPC_E",l[l.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($||($={}));var Ss=new Map([[$.QR_CODE,"QR_CODE"],[$.AZTEC,"AZTEC"],[$.CODABAR,"CODABAR"],[$.CODE_39,"CODE_39"],[$.CODE_93,"CODE_93"],[$.CODE_128,"CODE_128"],[$.DATA_MATRIX,"DATA_MATRIX"],[$.MAXICODE,"MAXICODE"],[$.ITF,"ITF"],[$.EAN_13,"EAN_13"],[$.EAN_8,"EAN_8"],[$.PDF_417,"PDF_417"],[$.RSS_14,"RSS_14"],[$.RSS_EXPANDED,"RSS_EXPANDED"],[$.UPC_A,"UPC_A"],[$.UPC_E,"UPC_E"],[$.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ts;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.URL=1]="URL"})(Ts||(Ts={}));function du(l){return Object.values($).includes(l)}var wr;(function(l){l[l.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",l[l.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(wr||(wr={}));var fu=(function(){function l(){}return l.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",l.SCAN_DEFAULT_FPS=2,l.DEFAULT_DISABLE_FLIP=!1,l.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,l.DEFAULT_SUPPORTED_SCAN_TYPE=[wr.SCAN_TYPE_CAMERA,wr.SCAN_TYPE_FILE],l})(),Ca=(function(){function l(c,h){this.format=c,this.formatName=h}return l.prototype.toString=function(){return this.formatName},l.create=function(c){if(!Ss.has(c))throw"".concat(c," not in html5QrcodeSupportedFormatsTextMap");return new l(c,Ss.get(c))},l})(),Ns=(function(){function l(){}return l.createFromText=function(c){var h={text:c};return{decodedText:c,result:h}},l.createFromQrcodeResult=function(c){return{decodedText:c.text,result:c}},l})(),li;(function(l){l[l.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",l[l.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",l[l.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(li||(li={}));var gu=(function(){function l(){}return l.createFrom=function(c){return{errorMessage:c,type:li.UNKWOWN_ERROR}},l})(),xu=(function(){function l(c){this.verbose=c}return l.prototype.log=function(c){this.verbose&&console.log(c)},l.prototype.warn=function(c){this.verbose&&console.warn(c)},l.prototype.logError=function(c,h){(this.verbose||h===!0)&&console.error(c)},l.prototype.logErrors=function(c){if(c.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(c)},l})();function Lt(l){return typeof l>"u"||l===null}var yn=(function(){function l(){}return l.codeParseError=function(c){return"QR code parse error, error = ".concat(c)},l.errorGettingUserMedia=function(c){return"Error getting userMedia, error = ".concat(c)},l.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},l.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},l.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},l.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},l.scannerPaused=function(){return"Scanner paused"},l})(),Ea=(function(){function l(){}return l.isMediaStreamConstraintsValid=function(c,h){if(typeof c!="object"){var f=typeof c;return h.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(f,"."),!0),!1}for(var x=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(x),E=Object.keys(c),v=0,b=E;v<b.length;v++){var C=b[v];if(g.has(C))return h.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},l})(),jn={exports:{}},pu=jn.exports,Ms;function wu(){return Ms||(Ms=1,(function(l,c){(function(h,f){f(c)})(pu,(function(h){function f(p){return p==null}var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,e){p.__proto__=e}||function(p,e){for(var t in e)e.hasOwnProperty(t)&&(p[t]=e[t])};function g(p,e){x(p,e);function t(){this.constructor=p}p.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function E(p,e){var t=Object.setPrototypeOf;t?t(p,e):p.__proto__=e}function v(p,e){e===void 0&&(e=p.constructor);var t=Error.captureStackTrace;t&&t(p,e)}var b=(function(p){g(e,p);function e(t){var n=this.constructor,r=p.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),E(r,n.prototype),v(r),r}return e})(Error);class C extends b{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}C.kind="Exception";class N extends C{}N.kind="ArgumentException";class S extends C{}S.kind="IllegalArgumentException";class B{constructor(e){if(this.binarizer=e,e===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){const i=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new B(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends C{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class q{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class X{static arraycopy(e,t,n,r,i){for(;i--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class Q extends C{}Q.kind="IndexOutOfBoundsException";class he extends Q{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}he.kind="ArrayIndexOutOfBoundsException";class j{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){j.rangeCheck(e.length,t,n);for(let i=t;i<n;i++)e[i]=r}static rangeCheck(e,t,n){if(t>n)throw new S("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new he(t);if(n>e)throw new he(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(i=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(i=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const r=n-t,i=new Int32Array(r);return X.arraycopy(e,t,i,0,r),i}static binarySearch(e,t,n){n===void 0&&(n=j.numberComparator);let r=0,i=e.length-1;for(;r<=i;){const s=i+r>>1,a=n(t,e[s]);if(a>0)r=s+1;else if(a<0)i=s-1;else return s}return-r-1}static numberComparator(e,t){return e-t}}class U{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Y{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=Y.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=Y.makeArray(e);X.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),i=n[r];i&=~((1<<(e&31))-1);const s=n.length;for(;i===0;){if(++r===s)return t;i=n[r]}const a=r*32+U.numberOfTrailingZeros(i);return a>t?t:a}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),i=~n[r];i&=~((1<<(e&31))-1);const s=n.length;for(;i===0;){if(++r===s)return t;i=~n[r]}const a=r*32+U.numberOfTrailingZeros(i);return a>t?t:a}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new S;if(t===e)return;t--;const n=Math.floor(e/32),r=Math.floor(t/32),i=this.bits;for(let s=n;s<=r;s++){const a=s>n?0:e&31,u=(2<<(s<r?31:t&31))-(1<<a);i[s]|=u}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new S;if(t===e)return!0;t--;const r=Math.floor(e/32),i=Math.floor(t/32),s=this.bits;for(let a=r;a<=i;a++){const o=a>r?0:e&31,d=(2<<(a<i?31:t&31))-(1<<o)&4294967295;if((s[a]&d)!==(n?d:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new S("Sizes don't match");const t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let i=0;i<r;i++){let s=0;for(let a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;t[n+i]=s}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let i=0;i<n;i++){let s=r[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-i]=s}if(this.size!==n*32){const i=n*32-this.size;let s=e[0]>>>i;for(let a=1;a<n;a++){const o=e[a];s|=o<<32-i,e[a-1]=s,s=o>>>i}e[n-1]=s}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Y))return!1;const t=e;return this.size===t.size&&j.equals(this.bits,t.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new Y(this.size,this.bits.slice())}}var Ee;(function(p){p[p.OTHER=0]="OTHER",p[p.PURE_BARCODE=1]="PURE_BARCODE",p[p.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",p[p.TRY_HARDER=3]="TRY_HARDER",p[p.CHARACTER_SET=4]="CHARACTER_SET",p[p.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",p[p.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",p[p.ASSUME_GS1=7]="ASSUME_GS1",p[p.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",p[p.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",p[p.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ee||(Ee={}));var pe=Ee;class G extends C{static getFormatInstance(){return new G}}G.kind="FormatException";var ae;(function(p){p[p.Cp437=0]="Cp437",p[p.ISO8859_1=1]="ISO8859_1",p[p.ISO8859_2=2]="ISO8859_2",p[p.ISO8859_3=3]="ISO8859_3",p[p.ISO8859_4=4]="ISO8859_4",p[p.ISO8859_5=5]="ISO8859_5",p[p.ISO8859_6=6]="ISO8859_6",p[p.ISO8859_7=7]="ISO8859_7",p[p.ISO8859_8=8]="ISO8859_8",p[p.ISO8859_9=9]="ISO8859_9",p[p.ISO8859_10=10]="ISO8859_10",p[p.ISO8859_11=11]="ISO8859_11",p[p.ISO8859_13=12]="ISO8859_13",p[p.ISO8859_14=13]="ISO8859_14",p[p.ISO8859_15=14]="ISO8859_15",p[p.ISO8859_16=15]="ISO8859_16",p[p.SJIS=16]="SJIS",p[p.Cp1250=17]="Cp1250",p[p.Cp1251=18]="Cp1251",p[p.Cp1252=19]="Cp1252",p[p.Cp1256=20]="Cp1256",p[p.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",p[p.UTF8=22]="UTF8",p[p.ASCII=23]="ASCII",p[p.Big5=24]="Big5",p[p.GB18030=25]="GB18030",p[p.EUC_KR=26]="EUC_KR"})(ae||(ae={}));class V{constructor(e,t,n,...r){this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=r,V.VALUE_IDENTIFIER_TO_ECI.set(e,this),V.NAME_TO_ECI.set(n,this);const i=this.values;for(let s=0,a=i.length;s!==a;s++){const o=i[s];V.VALUES_TO_ECI.set(o,this)}for(const s of r)V.NAME_TO_ECI.set(s,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new G("incorect value");const t=V.VALUES_TO_ECI.get(e);if(t===void 0)throw new G("incorect value");return t}static getCharacterSetECIByName(e){const t=V.NAME_TO_ECI.get(e);if(t===void 0)throw new G("incorect value");return t}equals(e){if(!(e instanceof V))return!1;const t=e;return this.getName()===t.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(ae.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(ae.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(ae.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(ae.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(ae.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(ae.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(ae.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(ae.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(ae.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(ae.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(ae.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(ae.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(ae.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(ae.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(ae.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(ae.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(ae.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(ae.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(ae.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(ae.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(ae.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(ae.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(ae.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(ae.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(ae.Big5,28,"Big5"),V.GB18030=new V(ae.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(ae.EUC_KR,30,"EUC_KR","EUC-KR");class We extends C{}We.kind="UnsupportedOperationException";class _e{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!_e.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof V?e:V.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(_e.isDecodeFallbackSupported(n)){let r="";for(let i=0,s=e.length;i<s;i++){let a=e[i].toString(16);a.length<2&&(a="0"+a),r+="%"+a}return decodeURIComponent(r)}if(n.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new We(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(V.UTF8)||e.equals(V.ISO8859_1)||e.equals(V.ASCII)}static encodeFallback(e){const n=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let i=0;i<n.length;i++)r.push(n[i].charCodeAt(0));return new Uint8Array(r)}}class oe{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return _e.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get(pe.CHARACTER_SET)!==void 0)return t.get(pe.CHARACTER_SET).toString();const n=e.length;let r=!0,i=!0,s=!0,a=0,o=0,u=0,d=0,w=0,m=0,y=0,_=0,T=0,M=0,D=0;const z=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Z=0;Z<n&&(r||i||s);Z++){const H=e[Z]&255;s&&(a>0?(H&128)===0?s=!1:a--:(H&128)!==0&&((H&64)===0?s=!1:(a++,(H&32)===0?o++:(a++,(H&16)===0?u++:(a++,(H&8)===0?d++:s=!1))))),r&&(H>127&&H<160?r=!1:H>159&&(H<192||H===215||H===247)&&D++),i&&(w>0?H<64||H===127||H>252?i=!1:w--:H===128||H===160||H>239?i=!1:H>160&&H<224?(m++,_=0,y++,y>T&&(T=y)):H>127?(w++,y=0,_++,_>M&&(M=_)):(y=0,_=0))}return s&&a>0&&(s=!1),i&&w>0&&(i=!1),s&&(z||o+u+d>0)?oe.UTF8:i&&(oe.ASSUME_SHIFT_JIS||T>=3||M>=3)?oe.SHIFT_JIS:r&&i?T===2&&m===2||D*10>=n?oe.SHIFT_JIS:oe.ISO88591:r?oe.ISO88591:i?oe.SHIFT_JIS:s?oe.UTF8:oe.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function r(s,a,o,u,d,w){if(s==="%%")return"%";if(t[++n]===void 0)return;s=u?parseInt(u.substr(1)):void 0;let m=d?parseInt(d.substr(1)):void 0,y;switch(w){case"s":y=t[n];break;case"c":y=t[n][0];break;case"f":y=parseFloat(t[n]).toFixed(s);break;case"p":y=parseFloat(t[n]).toPrecision(s);break;case"e":y=parseFloat(t[n]).toExponential(s);break;case"x":y=parseInt(t[n]).toString(m||16);break;case"d":y=parseFloat(parseInt(t[n],m||10).toPrecision(s)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(m);let _=parseInt(o),T=o&&o[0]+""=="0"?"0":" ";for(;y.length<_;)y=a!==void 0?y+T:T+y;return y}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,r)}static getBytes(e,t){return _e.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}oe.SHIFT_JIS=V.SJIS.getName(),oe.GB2312="GB2312",oe.ISO88591=V.ISO8859_1.getName(),oe.EUC_JP="EUC_JP",oe.UTF8=V.UTF8.getName(),oe.PLATFORM_DEFAULT_ENCODING=oe.UTF8,oe.ASSUME_SHIFT_JIS=!1;class Se{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=oe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class Ke{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,t==null&&(t=e),this.height=t,e<1||t<1)throw new S("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,r==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,r=new Ke(n,t);for(let i=0;i<t;i++){const s=e[i];for(let a=0;a<n;a++)s[a]&&r.set(a,i)}return r}static parseFromString(e,t,n){if(e===null)throw new S("stringRepresentation cannot be null");const r=new Array(e.length);let i=0,s=0,a=-1,o=0,u=0;for(;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new S("row lengths do not match");s=i,o++}u++}else if(e.substring(u,u+t.length)===t)u+=t.length,r[i]=!0,i++;else if(e.substring(u,u+n.length)===n)u+=n.length,r[i]=!1,i++;else throw new S("illegal character encountered: "+e.substring(u));if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new S("row lengths do not match");o++}const d=new Ke(a,o);for(let w=0;w<i;w++)r[w]&&d.set(Math.floor(w%a),Math.floor(w/a));return d}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new S("input matrix dimensions do not match");const t=new Y(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let i=0,s=this.height;i<s;i++){const a=i*n,o=e.getRow(i,t).getBitArray();for(let u=0;u<n;u++)r[a+u]^=o[u]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new S("Left and top must be nonnegative");if(r<1||n<1)throw new S("Height and width must be at least 1");const i=e+n,s=t+r;if(s>this.height||i>this.width)throw new S("The region must fit inside the matrix");const a=this.rowSize,o=this.bits;for(let u=t;u<s;u++){const d=u*a;for(let w=e;w<i;w++)o[d+Math.floor(w/32)]|=1<<(w&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new Y(this.width):t.clear();const n=this.rowSize,r=this.bits,i=e*n;for(let s=0;s<n;s++)t.setBulk(s*32,r[i+s]);return t}setRow(e,t){X.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new Y(e),r=new Y(e);for(let i=0,s=Math.floor((t+1)/2);i<s;i++)n=this.getRow(i,n),r=this.getRow(t-1-i,r),n.reverse(),r.reverse(),this.setRow(i,r),this.setRow(t-1-i,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,r=this.bits;let i=e,s=t,a=-1,o=-1;for(let u=0;u<t;u++)for(let d=0;d<n;d++){const w=r[u*n+d];if(w!==0){if(u<s&&(s=u),u>o&&(o=u),d*32<i){let m=0;for(;(w<<31-m&4294967295)===0;)m++;d*32+m<i&&(i=d*32+m)}if(d*32+31>a){let m=31;for(;!(w>>>m);)m--;d*32+m>a&&(a=d*32+m)}}}return a<i||o<s?null:Int32Array.from([i,s,a-i+1,o-s+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;const r=n/e;let i=n%e*32;const s=t[n];let a=0;for(;(s<<31-a&4294967295)===0;)a++;return i+=a,Int32Array.from([i,r])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;const r=Math.floor(n/e);let i=Math.floor(n%e)*32;const s=t[n];let a=31;for(;!(s>>>a);)a--;return i+=a,Int32Array.from([i,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Ke))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&j.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+j.hashCode(this.bits),e}toString(e="X ",t="  ",n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new Se;for(let i=0,s=this.height;i<s;i++){for(let a=0,o=this.width;a<o;a++)r.append(this.get(a,i)?e:t);r.append(n)}return r.toString()}clone(){return new Ke(this.width,this.height,this.rowSize,this.bits.slice())}}class P extends C{static getNotFoundInstance(){return new P}}P.kind="NotFoundException";class qe extends q{constructor(e){super(e),this.luminances=qe.EMPTY,this.buckets=new Int32Array(qe.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),r=n.getWidth();t==null||t.getSize()<r?t=new Y(r):t.clear(),this.initArrays(r);const i=n.getRow(e,this.luminances),s=this.buckets;for(let o=0;o<r;o++)s[(i[o]&255)>>qe.LUMINANCE_SHIFT]++;const a=qe.estimateBlackPoint(s);if(r<3)for(let o=0;o<r;o++)(i[o]&255)<a&&t.set(o);else{let o=i[0]&255,u=i[1]&255;for(let d=1;d<r-1;d++){const w=i[d+1]&255;(u*4-o-w)/2<a&&t.set(d),o=u,u=w}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new Ke(t,n);this.initArrays(t);const i=this.buckets;for(let o=1;o<5;o++){const u=Math.floor(n*o/5),d=e.getRow(u,this.luminances),w=Math.floor(t*4/5);for(let m=Math.floor(t/5);m<w;m++){const y=d[m]&255;i[y>>qe.LUMINANCE_SHIFT]++}}const s=qe.estimateBlackPoint(i),a=e.getMatrix();for(let o=0;o<n;o++){const u=o*t;for(let d=0;d<t;d++)(a[u+d]&255)<s&&r.set(d,o)}return r}createBinarizer(e){return new qe(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<qe.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,r=0,i=0;for(let d=0;d<t;d++)e[d]>i&&(r=d,i=e[d]),e[d]>n&&(n=e[d]);let s=0,a=0;for(let d=0;d<t;d++){const w=d-r,m=e[d]*w*w;m>a&&(s=d,a=m)}if(r>s){const d=r;r=s,s=d}if(s-r<=t/16)throw new P;let o=s-1,u=-1;for(let d=s-1;d>r;d--){const w=d-r,m=w*w*(s-d)*(n-e[d]);m>u&&(o=d,u=m)}return o<<qe.LUMINANCE_SHIFT}}qe.LUMINANCE_BITS=5,qe.LUMINANCE_SHIFT=8-qe.LUMINANCE_BITS,qe.LUMINANCE_BUCKETS=1<<qe.LUMINANCE_BITS,qe.EMPTY=Uint8ClampedArray.from([0]);class ue extends qe{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=ue.MINIMUM_DIMENSION&&n>=ue.MINIMUM_DIMENSION){const r=e.getMatrix();let i=t>>ue.BLOCK_SIZE_POWER;(t&ue.BLOCK_SIZE_MASK)!==0&&i++;let s=n>>ue.BLOCK_SIZE_POWER;(n&ue.BLOCK_SIZE_MASK)!==0&&s++;const a=ue.calculateBlackPoints(r,i,s,t,n),o=new Ke(t,n);ue.calculateThresholdForBlock(r,i,s,t,n,a,o),this.matrix=o}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ue(e)}static calculateThresholdForBlock(e,t,n,r,i,s,a){const o=i-ue.BLOCK_SIZE,u=r-ue.BLOCK_SIZE;for(let d=0;d<n;d++){let w=d<<ue.BLOCK_SIZE_POWER;w>o&&(w=o);const m=ue.cap(d,2,n-3);for(let y=0;y<t;y++){let _=y<<ue.BLOCK_SIZE_POWER;_>u&&(_=u);const T=ue.cap(y,2,t-3);let M=0;for(let z=-2;z<=2;z++){const Z=s[m+z];M+=Z[T-2]+Z[T-1]+Z[T]+Z[T+1]+Z[T+2]}const D=M/25;ue.thresholdBlock(e,_,w,D,r,a)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,i,s){for(let a=0,o=n*i+t;a<ue.BLOCK_SIZE;a++,o+=i)for(let u=0;u<ue.BLOCK_SIZE;u++)(e[o+u]&255)<=r&&s.set(t+u,n+a)}static calculateBlackPoints(e,t,n,r,i){const s=i-ue.BLOCK_SIZE,a=r-ue.BLOCK_SIZE,o=new Array(n);for(let u=0;u<n;u++){o[u]=new Int32Array(t);let d=u<<ue.BLOCK_SIZE_POWER;d>s&&(d=s);for(let w=0;w<t;w++){let m=w<<ue.BLOCK_SIZE_POWER;m>a&&(m=a);let y=0,_=255,T=0;for(let D=0,z=d*r+m;D<ue.BLOCK_SIZE;D++,z+=r){for(let Z=0;Z<ue.BLOCK_SIZE;Z++){const H=e[z+Z]&255;y+=H,H<_&&(_=H),H>T&&(T=H)}if(T-_>ue.MIN_DYNAMIC_RANGE)for(D++,z+=r;D<ue.BLOCK_SIZE;D++,z+=r)for(let Z=0;Z<ue.BLOCK_SIZE;Z++)y+=e[z+Z]&255}let M=y>>ue.BLOCK_SIZE_POWER*2;if(T-_<=ue.MIN_DYNAMIC_RANGE&&(M=_/2,u>0&&w>0)){const D=(o[u-1][w]+2*o[u][w-1]+o[u-1][w-1])/4;_<D&&(M=D)}o[u][w]=M}}return o}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class _n{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new We("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new We("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new We("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new Se;for(let n=0;n<this.height;n++){const r=this.getRow(n,e);for(let i=0;i<this.width;i++){const s=r[i]&255;let a;s<64?a="#":s<128?a="+":s<192?a=".":a=" ",t.append(a)}t.append(`
`)}return t.toString()}}class Ut extends _n{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),r=this.getWidth();for(let i=0;i<r;i++)n[i]=255-(n[i]&255);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(e[r]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new Ut(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ut(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ut(this.delegate.rotateCounterClockwise45())}}class Vt extends _n{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Vt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Vt.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const r=new Uint8ClampedArray(t*n);for(let i=0,s=0,a=e.length;i<a;i+=4,s++){let o;if(e[i+3]===0)o=255;else{const d=e[i],w=e[i+1],m=e[i+2];o=306*d+601*w+117*m+512>>10}r[s]=o}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const n=this.getWidth(),r=e*n;return t===null?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),r=e*Vt.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(r))*i+Math.abs(Math.sin(r))*s),o=Math.ceil(Math.abs(Math.sin(r))*i+Math.abs(Math.cos(r))*s);return t.width=a,t.height=o,n.translate(a/2,o/2),n.rotate(r),n.drawImage(this.canvas,i/-2,s/-2),this.buffer=Vt.makeBufferFromCanvasImageData(t),this}invert(){return new Ut(this)}}Vt.DEGREE_TO_RADIANS=Math.PI/180;class Ei{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var at=(globalThis||ur||self||window||void 0)&&(globalThis||ur||self||window||void 0).__awaiter||function(p,e,t,n){function r(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(d){try{u(n.next(d))}catch(w){s(w)}}function o(d){try{u(n.throw(d))}catch(w){s(w)}}function u(d){d.done?i(d.value):r(d.value).then(a,o)}u((n=n.apply(p,e||[])).next())})};class Qt{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return at(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const r=n.kind==="video"?"videoinput":n.kind;if(r!=="videoinput")continue;const i=n.deviceId||n.id,s=n.label||`Video device ${t.length+1}`,a=n.groupId,o={deviceId:i,label:s,kind:r,groupId:a};t.push(o)}return t})}getVideoInputDevices(){return at(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new Ei(t.deviceId,t.label))})}findDeviceById(e){return at(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(n=>n.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return at(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return at(this,void 0,void 0,function*(){this.reset();let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const r={video:n};return yield this.decodeOnceFromConstraints(r,t)})}decodeOnceFromConstraints(e,t){return at(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return at(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return at(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return at(this,void 0,void 0,function*(){let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const i={video:r};return yield this.decodeFromConstraints(i,t,n)})}decodeFromConstraints(e,t,n){return at(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)})}decodeFromStream(e,t,n){return at(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return at(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return at(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new N(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new N(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new N("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new N("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new N("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new N("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new N("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new N("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new N("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new N("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return at(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return at(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const r=(i,s)=>{if(this._stopAsyncDecode){s(new P("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const a=this.decode(e);i(a)}catch(a){const o=t&&a instanceof P,d=(a instanceof W||a instanceof G)&&n;if(o||d)return setTimeout(r,this._timeBetweenDecodingAttempts,i,s);s(a)}};return new Promise((i,s)=>r(i,s))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const r=this.decode(e);t(r,null),setTimeout(n,this.timeBetweenScansMillis)}catch(r){t(null,r);const i=r instanceof W||r instanceof G,s=r instanceof P;(i||s)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,n=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new Vt(t),r=new ue(n);return new B(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,r;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=r+"px",t.width=n,t.height=r,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ot{constructor(e,t,n=t==null?0:8*t.length,r,i,s=X.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=r,this.format=i,this.resultMetadata=null,s==null?this.timestamp=X.currentTimeMillis():this.timestamp=s}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const n=new Array(t.length+e.length);X.arraycopy(t,0,n,0,t.length),X.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var yr;(function(p){p[p.AZTEC=0]="AZTEC",p[p.CODABAR=1]="CODABAR",p[p.CODE_39=2]="CODE_39",p[p.CODE_93=3]="CODE_93",p[p.CODE_128=4]="CODE_128",p[p.DATA_MATRIX=5]="DATA_MATRIX",p[p.EAN_8=6]="EAN_8",p[p.EAN_13=7]="EAN_13",p[p.ITF=8]="ITF",p[p.MAXICODE=9]="MAXICODE",p[p.PDF_417=10]="PDF_417",p[p.QR_CODE=11]="QR_CODE",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(yr||(yr={}));var re=yr,Ir;(function(p){p[p.OTHER=0]="OTHER",p[p.ORIENTATION=1]="ORIENTATION",p[p.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",p[p.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",p[p.ISSUE_NUMBER=4]="ISSUE_NUMBER",p[p.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",p[p.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",p[p.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",p[p.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",p[p.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",p[p.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ir||(Ir={}));var Qe=Ir;class Sn{constructor(e,t,n,r,i=-1,s=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Tn{exp(e){return this.expTable[e]}log(e){if(e===0)throw new S;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class ht{constructor(e,t){if(t.length===0)throw new S;this.field=e;const n=t.length;if(n>1&&t[0]===0){let r=1;for(;r<n&&t[r]===0;)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),X.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let n;if(e===1){n=0;for(let s=0,a=t.length;s!==a;s++){const o=t[s];n=Tn.addOrSubtract(n,o)}return n}n=t[0];const r=t.length,i=this.field;for(let s=1;s<r;s++)n=Tn.addOrSubtract(i.multiply(e,n),t[s]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const s=t;t=n,n=s}let r=new Int32Array(n.length);const i=n.length-t.length;X.arraycopy(n,0,r,0,i);for(let s=i;s<n.length;s++)r[s]=Tn.addOrSubtract(t[s-i],n[s]);return new ht(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,s=new Int32Array(n+i-1),a=this.field;for(let o=0;o<n;o++){const u=t[o];for(let d=0;d<i;d++)s[o+d]=Tn.addOrSubtract(s[o+d],a.multiply(u,r[d]))}return new ht(a,s)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,n=this.field,r=new Int32Array(t),i=this.coefficients;for(let s=0;s<t;s++)r[s]=n.multiply(i[s],e);return new ht(n,r)}multiplyByMonomial(e,t){if(e<0)throw new S;if(t===0)return this.field.getZero();const n=this.coefficients,r=n.length,i=new Int32Array(r+e),s=this.field;for(let a=0;a<r;a++)i[a]=s.multiply(n[a],t);return new ht(s,i)}divide(e){if(!this.field.equals(e.field))throw new S("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new S("Divide by 0");const t=this.field;let n=t.getZero(),r=this;const i=e.getCoefficient(e.getDegree()),s=t.inverse(i);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){const a=r.getDegree()-e.getDegree(),o=t.multiply(r.getCoefficient(r.getDegree()),s),u=e.multiplyByMonomial(a,o),d=t.buildMonomial(a,o);n=n.addOrSubtract(d),r=r.addOrSubtract(u)}return[n,r]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){const r=this.field.log(n);r===0?e+="1":r===1?e+="a":(e+="a^",e+=r)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class Kn extends C{}Kn.kind="ArithmeticException";class Ae extends Tn{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const r=new Int32Array(t);let i=1;for(let a=0;a<t;a++)r[a]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=r;const s=new Int32Array(t);for(let a=0;a<t-1;a++)s[r[a]]=a;this.logTable=s,this.zero=new ht(this,Int32Array.from([0])),this.one=new ht(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new S;if(t===0)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new ht(this,n)}inverse(e){if(e===0)throw new Kn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Ae.AZTEC_DATA_12=new Ae(4201,4096,1),Ae.AZTEC_DATA_10=new Ae(1033,1024,1),Ae.AZTEC_DATA_6=new Ae(67,64,1),Ae.AZTEC_PARAM=new Ae(19,16,1),Ae.QR_CODE_FIELD_256=new Ae(285,256,0),Ae.DATA_MATRIX_FIELD_256=new Ae(301,256,1),Ae.AZTEC_DATA_8=Ae.DATA_MATRIX_FIELD_256,Ae.MAXICODE_FIELD_64=Ae.AZTEC_DATA_6;class un extends C{}un.kind="ReedSolomonException";class _t extends C{}_t.kind="IllegalStateException";class Nn{constructor(e){this.field=e}decode(e,t){const n=this.field,r=new ht(n,e),i=new Int32Array(t);let s=!0;for(let y=0;y<t;y++){const _=r.evaluateAt(n.exp(y+n.getGeneratorBase()));i[i.length-1-y]=_,_!==0&&(s=!1)}if(s)return;const a=new ht(n,i),o=this.runEuclideanAlgorithm(n.buildMonomial(t,1),a,t),u=o[0],d=o[1],w=this.findErrorLocations(u),m=this.findErrorMagnitudes(d,w);for(let y=0;y<w.length;y++){const _=e.length-1-n.log(w[y]);if(_<0)throw new un("Bad error location");e[_]=Ae.addOrSubtract(e[_],m[y])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const y=e;e=t,t=y}const r=this.field;let i=e,s=t,a=r.getZero(),o=r.getOne();for(;s.getDegree()>=(n/2|0);){let y=i,_=a;if(i=s,a=o,i.isZero())throw new un("r_{i-1} was zero");s=y;let T=r.getZero();const M=i.getCoefficient(i.getDegree()),D=r.inverse(M);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){const z=s.getDegree()-i.getDegree(),Z=r.multiply(s.getCoefficient(s.getDegree()),D);T=T.addOrSubtract(r.buildMonomial(z,Z)),s=s.addOrSubtract(i.multiplyByMonomial(z,Z))}if(o=T.multiply(a).addOrSubtract(_),s.getDegree()>=i.getDegree())throw new _t("Division algorithm failed to reduce polynomial?")}const u=o.getCoefficient(0);if(u===0)throw new un("sigmaTilde(0) was zero");const d=r.inverse(u),w=o.multiplyScalar(d),m=s.multiplyScalar(d);return[w,m]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let r=0;const i=this.field;for(let s=1;s<i.getSize()&&r<t;s++)e.evaluateAt(s)===0&&(n[r]=i.inverse(s),r++);if(r!==t)throw new un("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,r=new Int32Array(n),i=this.field;for(let s=0;s<n;s++){const a=i.inverse(t[s]);let o=1;for(let u=0;u<n;u++)if(s!==u){const d=i.multiply(t[u],a),w=(d&1)===0?d|1:d&-2;o=i.multiply(o,w)}r[s]=i.multiply(e.evaluateAt(a),i.inverse(o)),i.getGeneratorBase()!==0&&(r[s]=i.multiply(r[s],a))}return r}}var et;(function(p){p[p.UPPER=0]="UPPER",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.DIGIT=3]="DIGIT",p[p.PUNCT=4]="PUNCT",p[p.BINARY=5]="BINARY"})(et||(et={}));class Oe{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),i=Oe.convertBoolArrayToByteArray(r),s=Oe.getEncodedData(r),a=new Sn(i,s,null,null);return a.setNumBits(r.length),a}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=et.UPPER,r=et.UPPER,i="",s=0;for(;s<t;)if(r===et.BINARY){if(t-s<5)break;let a=Oe.readCode(e,s,5);if(s+=5,a===0){if(t-s<11)break;a=Oe.readCode(e,s,11)+31,s+=11}for(let o=0;o<a;o++){if(t-s<8){s=t;break}const u=Oe.readCode(e,s,8);i+=oe.castAsNonUtf8Char(u),s+=8}r=n}else{let a=r===et.DIGIT?4:5;if(t-s<a)break;let o=Oe.readCode(e,s,a);s+=a;let u=Oe.getCharacter(r,o);u.startsWith("CTRL_")?(n=r,r=Oe.getTable(u.charAt(5)),u.charAt(6)==="L"&&(n=r)):(i+=u,r=n)}return i}static getTable(e){switch(e){case"L":return et.LOWER;case"P":return et.PUNCT;case"M":return et.MIXED;case"D":return et.DIGIT;case"B":return et.BINARY;case"U":default:return et.UPPER}}static getCharacter(e,t){switch(e){case et.UPPER:return Oe.UPPER_TABLE[t];case et.LOWER:return Oe.LOWER_TABLE[t];case et.MIXED:return Oe.MIXED_TABLE[t];case et.PUNCT:return Oe.PUNCT_TABLE[t];case et.DIGIT:return Oe.DIGIT_TABLE[t];default:throw new _t("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=Ae.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Ae.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Ae.AZTEC_DATA_10):(n=12,t=Ae.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),i=e.length/n;if(i<r)throw new G;let s=e.length%n,a=new Int32Array(i);for(let m=0;m<i;m++,s+=n)a[m]=Oe.readCode(e,s,n);try{new Nn(t).decode(a,i-r)}catch(m){throw new G(m)}let o=(1<<n)-1,u=0;for(let m=0;m<r;m++){let y=a[m];if(y===0||y===o)throw new G;(y===1||y===o-1)&&u++}let d=new Array(r*n-u),w=0;for(let m=0;m<r;m++){let y=a[m];if(y===1||y===o-1)d.fill(y>1,w,w+n-1),w+=n-1;else for(let _=n-1;_>=0;--_)d[w++]=(y&1<<_)!==0}return d}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+n*4,i=new Int32Array(r),s=new Array(this.totalBitsInLayer(n,t));if(t)for(let a=0;a<i.length;a++)i[a]=a;else{let a=r+1+2*U.truncDivision(U.truncDivision(r,2)-1,15),o=r/2,u=U.truncDivision(a,2);for(let d=0;d<o;d++){let w=d+U.truncDivision(d,15);i[o-d-1]=u-w-1,i[o+d]=u+w+1}}for(let a=0,o=0;a<n;a++){let u=(n-a)*4+(t?9:12),d=a*2,w=r-1-d;for(let m=0;m<u;m++){let y=m*2;for(let _=0;_<2;_++)s[o+y+_]=e.get(i[d+_],i[d+m]),s[o+2*u+y+_]=e.get(i[d+m],i[w-_]),s[o+4*u+y+_]=e.get(i[w-_],i[w-m]),s[o+6*u+y+_]=e.get(i[w-m],i[d+_])}o+=u*8}return s}static readCode(e,t,n){let r=0;for(let i=t;i<t+n;i++)r<<=1,e[i]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?Oe.readCode(e,t,8):Oe.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=Oe.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Oe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Oe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Oe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Oe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Oe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class me{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){const i=e-n,s=t-r;return Math.sqrt(i*i+s*s)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++){const i=e[n];t+=i}return t}}class qn{static floatToIntBits(e){return e}}qn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ee){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*qn.floatToIntBits(this.x)+qn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]);let i,s,a;if(n>=t&&n>=r?(s=e[0],i=e[1],a=e[2]):r>=n&&r>=t?(s=e[1],i=e[0],a=e[2]):(s=e[2],i=e[0],a=e[1]),this.crossProductZ(i,s,a)<0){const o=i;i=a,a=o}e[0]=i,e[1]=s,e[2]=a}static distance(e,t){return me.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const r=t.x,i=t.y;return(n.x-r)*(e.y-i)-(n.y-i)*(e.x-r)}}class Qn{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Ai extends Qn{constructor(e,t,n,r,i){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pt{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=Pt.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),r==null&&(r=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=r-i,this.downInit=r+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new P}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,i=!1,s=!0,a=!1,o=!1,u=!1,d=!1,w=!1;const m=this.width,y=this.height;for(;s;){s=!1;let _=!0;for(;(_||!o)&&t<m;)_=this.containsBlackPoint(n,r,t,!1),_?(t++,s=!0,o=!0):o||t++;if(t>=m){i=!0;break}let T=!0;for(;(T||!u)&&r<y;)T=this.containsBlackPoint(e,t,r,!0),T?(r++,s=!0,u=!0):u||r++;if(r>=y){i=!0;break}let M=!0;for(;(M||!d)&&e>=0;)M=this.containsBlackPoint(n,r,e,!1),M?(e--,s=!0,d=!0):d||e--;if(e<0){i=!0;break}let D=!0;for(;(D||!w)&&n>=0;)D=this.containsBlackPoint(e,t,n,!0),D?(n--,s=!0,w=!0):w||n--;if(n<0){i=!0;break}s&&(a=!0)}if(!i&&a){const _=t-e;let T=null;for(let Z=1;T===null&&Z<_;Z++)T=this.getBlackPointOnSegment(e,r-Z,e+Z,r);if(T==null)throw new P;let M=null;for(let Z=1;M===null&&Z<_;Z++)M=this.getBlackPointOnSegment(e,n+Z,e+Z,n);if(M==null)throw new P;let D=null;for(let Z=1;D===null&&Z<_;Z++)D=this.getBlackPointOnSegment(t,n+Z,t-Z,n);if(D==null)throw new P;let z=null;for(let Z=1;z===null&&Z<_;Z++)z=this.getBlackPointOnSegment(t,r-Z,t-Z,r);if(z==null)throw new P;return this.centerEdges(z,T,D,M)}else throw new P}getBlackPointOnSegment(e,t,n,r){const i=me.round(me.distance(e,t,n,r)),s=(n-e)/i,a=(r-t)/i,o=this.image;for(let u=0;u<i;u++){const d=me.round(e+u*s),w=me.round(t+u*a);if(o.get(d,w))return new ee(d,w)}return null}centerEdges(e,t,n,r){const i=e.getX(),s=e.getY(),a=t.getX(),o=t.getY(),u=n.getX(),d=n.getY(),w=r.getX(),m=r.getY(),y=Pt.CORR;return i<this.width/2?[new ee(w-y,m+y),new ee(a+y,o+y),new ee(u-y,d-y),new ee(i+y,s-y)]:[new ee(w+y,m+y),new ee(a+y,o-y),new ee(u-y,d+y),new ee(i-y,s-y)]}containsBlackPoint(e,t,n,r){const i=this.image;if(r){for(let s=e;s<=t;s++)if(i.get(s,n))return!0}else for(let s=e;s<=t;s++)if(i.get(n,s))return!0;return!1}}Pt.INIT_SIZE=10,Pt.CORR=1;class br{static checkAndNudgePoints(e,t){const n=e.getWidth(),r=e.getHeight();let i=!0;for(let s=0;s<t.length&&i;s+=2){const a=Math.floor(t[s]),o=Math.floor(t[s+1]);if(a<-1||a>n||o<-1||o>r)throw new P;i=!1,a===-1?(t[s]=0,i=!0):a===n&&(t[s]=n-1,i=!0),o===-1?(t[s+1]=0,i=!0):o===r&&(t[s+1]=r-1,i=!0)}i=!0;for(let s=t.length-2;s>=0&&i;s-=2){const a=Math.floor(t[s]),o=Math.floor(t[s+1]);if(a<-1||a>n||o<-1||o>r)throw new P;i=!1,a===-1?(t[s]=0,i=!0):a===n&&(t[s]=n-1,i=!0),o===-1?(t[s+1]=0,i=!0):o===r&&(t[s+1]=r-1,i=!0)}}}class yt{constructor(e,t,n,r,i,s,a,o,u){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=i,this.a32=s,this.a13=a,this.a23=o,this.a33=u}static quadrilateralToQuadrilateral(e,t,n,r,i,s,a,o,u,d,w,m,y,_,T,M){const D=yt.quadrilateralToSquare(e,t,n,r,i,s,a,o);return yt.squareToQuadrilateral(u,d,w,m,y,_,T,M).times(D)}transformPoints(e){const t=e.length,n=this.a11,r=this.a12,i=this.a13,s=this.a21,a=this.a22,o=this.a23,u=this.a31,d=this.a32,w=this.a33;for(let m=0;m<t;m+=2){const y=e[m],_=e[m+1],T=i*y+o*_+w;e[m]=(n*y+s*_+u)/T,e[m+1]=(r*y+a*_+d)/T}}transformPointsWithValues(e,t){const n=this.a11,r=this.a12,i=this.a13,s=this.a21,a=this.a22,o=this.a23,u=this.a31,d=this.a32,w=this.a33,m=e.length;for(let y=0;y<m;y++){const _=e[y],T=t[y],M=i*_+o*T+w;e[y]=(n*_+s*T+u)/M,t[y]=(r*_+a*T+d)/M}}static squareToQuadrilateral(e,t,n,r,i,s,a,o){const u=e-n+i-a,d=t-r+s-o;if(u===0&&d===0)return new yt(n-e,i-n,e,r-t,s-r,t,0,0,1);{const w=n-i,m=a-i,y=r-s,_=o-s,T=w*_-m*y,M=(u*_-m*d)/T,D=(w*d-u*y)/T;return new yt(n-e+M*n,a-e+D*a,e,r-t+M*r,o-t+D*o,t,M,D,1)}}static quadrilateralToSquare(e,t,n,r,i,s,a,o){return yt.squareToQuadrilateral(e,t,n,r,i,s,a,o).buildAdjoint()}buildAdjoint(){return new yt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new yt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class yi extends br{sampleGrid(e,t,n,r,i,s,a,o,u,d,w,m,y,_,T,M,D,z,Z){const H=yt.quadrilateralToQuadrilateral(r,i,s,a,o,u,d,w,m,y,_,T,M,D,z,Z);return this.sampleGridWithTransform(e,t,n,H)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new P;const i=new Ke(t,n),s=new Float32Array(2*t);for(let a=0;a<n;a++){const o=s.length,u=a+.5;for(let d=0;d<o;d+=2)s[d]=d/2+.5,s[d+1]=u;r.transformPoints(s),br.checkAndNudgePoints(e,s);try{for(let d=0;d<o;d+=2)e.get(Math.floor(s[d]),Math.floor(s[d+1]))&&i.set(d/2,a)}catch{throw new P}}return i}}class jt{static setGridSampler(e){jt.gridSampler=e}static getInstance(){return jt.gridSampler}}jt.gridSampler=new yi;class lt{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ii{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let s=n[0];n[0]=n[2],n[2]=s}this.extractParameters(n);let r=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),i=this.getMatrixCornerPoints(n);return new Ai(r,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new P;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let s=0;s<4;s++){let a=n[(this.shift+s)%4];this.compact?(r<<=7,r+=a>>1&127):(r<<=10,r+=(a>>2&992)+(a>>1&31))}let i=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,t){let n=0;e.forEach((r,i,s)=>{let a=(r>>t-2<<1)+(r&1);n=(n<<3)+a}),n=((n&1)<<11)+(n>>1);for(let r=0;r<4;r++)if(U.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new P}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let i=n-r,s=new Int32Array(n);for(let o=n-1;o>=0;--o)s[o]=e&15,e>>=4;try{new Nn(Ae.AZTEC_PARAM).decode(s,i)}catch{throw new P}let a=0;for(let o=0;o<r;o++)a=(a<<4)+s[o];return a}getBullsEyeCorners(e){let t=e,n=e,r=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let w=this.getFirstDifferent(t,s,1,-1),m=this.getFirstDifferent(n,s,1,1),y=this.getFirstDifferent(r,s,-1,1),_=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){let T=this.distancePoint(_,w)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(T<.75||T>1.25||!this.isWhiteOrBlackRectangle(w,m,y,_))break}t=w,n=m,r=y,i=_,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new P;this.compact=this.nbCenterLayers===5;let a=new ee(t.getX()+.5,t.getY()-.5),o=new ee(n.getX()+.5,n.getY()+.5),u=new ee(r.getX()-.5,r.getY()+.5),d=new ee(i.getX()-.5,i.getY()-.5);return this.expandSquare([a,o,u,d],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let a=new Pt(this.image).detect();e=a[0],t=a[1],n=a[2],r=a[3]}catch{let o=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new lt(o+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new lt(o+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new lt(o-7,u+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new lt(o-7,u-7),!1,-1,-1).toResultPoint()}let i=me.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=me.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let a=new Pt(this.image,15,i,s).detect();e=a[0],t=a[1],n=a[2],r=a[3]}catch{e=this.getFirstDifferent(new lt(i+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new lt(i+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new lt(i-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new lt(i-7,s-7),!1,-1,-1).toResultPoint()}return i=me.round((e.getX()+r.getX()+t.getX()+n.getX())/4),s=me.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new lt(i,s)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,i){let s=jt.getInstance(),a=this.getDimension(),o=a/2-this.nbCenterLayers,u=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,o,o,u,o,u,u,o,u,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY())}sampleLine(e,t,n){let r=0,i=this.distanceResultPoint(e,t),s=i/n,a=e.getX(),o=e.getY(),u=s*(t.getX()-e.getX())/i,d=s*(t.getY()-e.getY())/i;for(let w=0;w<n;w++)this.image.get(me.round(a+w*u),me.round(o+w*d))&&(r|=1<<n-w-1);return r}isWhiteOrBlackRectangle(e,t,n,r){let i=3;e=new lt(e.getX()-i,e.getY()+i),t=new lt(t.getX()-i,t.getY()-i),n=new lt(n.getX()+i,n.getY()-i),r=new lt(r.getX()+i,r.getY()+i);let s=this.getColor(r,e);if(s===0)return!1;let a=this.getColor(e,t);return a!==s||(a=this.getColor(t,n),a!==s)?!1:(a=this.getColor(n,r),a===s)}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,i=(t.getY()-e.getY())/n,s=0,a=e.getX(),o=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n);for(let m=0;m<d;m++)a+=r,o+=i,this.image.get(me.round(a),me.round(o))!==u&&s++;let w=s/n;return w>.1&&w<.9?0:w<=.1===u?1:-1}getFirstDifferent(e,t,n,r){let i=e.getX()+n,s=e.getY()+r;for(;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=n,s+=r;for(i-=n,s-=r;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=n;for(i-=n;this.isValid(i,s)&&this.image.get(i,s)===t;)s+=r;return s-=r,new lt(i,s)}expandSquare(e,t,n){let r=n/(2*t),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,o=(e[0].getY()+e[2].getY())/2,u=new ee(a+r*i,o+r*s),d=new ee(a-r*i,o-r*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,o=(e[1].getY()+e[3].getY())/2;let w=new ee(a+r*i,o+r*s),m=new ee(a-r*i,o-r*s);return[u,w,d,m]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=me.round(e.getX()),n=me.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return me.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return me.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Jn{decode(e,t=null){let n=null,r=new Ii(e.getBlackMatrix()),i=null,s=null;try{let d=r.detectMirror(!1);i=d.getPoints(),this.reportFoundResultPoints(t,i),s=new Oe().decode(d)}catch(d){n=d}if(s==null)try{let d=r.detectMirror(!0);i=d.getPoints(),this.reportFoundResultPoints(t,i),s=new Oe().decode(d)}catch(d){throw n??d}let a=new ot(s.getText(),s.getRawBytes(),s.getNumBits(),i,re.AZTEC,X.currentTimeMillis()),o=s.getByteSegments();o!=null&&a.putMetadata(Qe.BYTE_SEGMENTS,o);let u=s.getECLevel();return u!=null&&a.putMetadata(Qe.ERROR_CORRECTION_LEVEL,u),a}reportFoundResultPoints(e,t){if(e!=null){let n=e.get(pe.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((r,i,s)=>{n.foundPossibleResultPoint(r)})}}reset(){}}class Ia extends Qt{constructor(e=500){super(new Jn,e)}}class Xe{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(pe.TRY_HARDER)===!0&&e.isRotateSupported()){const i=e.rotateCounterClockwise(),s=this.doDecode(i,t),a=s.getResultMetadata();let o=270;a!==null&&a.get(Qe.ORIENTATION)===!0&&(o=o+a.get(Qe.ORIENTATION)%360),s.putMetadata(Qe.ORIENTATION,o);const u=s.getResultPoints();if(u!==null){const d=i.getHeight();for(let w=0;w<u.length;w++)u[w]=new ee(d-u[w].getY()-1,u[w].getX())}return s}else throw new P}}reset(){}doDecode(e,t){const n=e.getWidth(),r=e.getHeight();let i=new Y(n);const s=t&&t.get(pe.TRY_HARDER)===!0,a=Math.max(1,r>>(s?8:5));let o;s?o=r:o=15;const u=Math.trunc(r/2);for(let d=0;d<o;d++){const w=Math.trunc((d+1)/2),m=(d&1)===0,y=u+a*(m?w:-w);if(y<0||y>=r)break;try{i=e.getBlackRow(y,i)}catch{continue}for(let _=0;_<2;_++){if(_===1&&(i.reverse(),t&&t.get(pe.NEED_RESULT_POINT_CALLBACK)===!0)){const T=new Map;t.forEach((M,D)=>T.set(D,M)),T.delete(pe.NEED_RESULT_POINT_CALLBACK),t=T}try{const T=this.decodeRow(y,i,t);if(_===1){T.putMetadata(Qe.ORIENTATION,180);const M=T.getResultPoints();M!==null&&(M[0]=new ee(n-M[0].getX()-1,M[0].getY()),M[1]=new ee(n-M[1].getX()-1,M[1].getY()))}return T}catch{}}}throw new P}static recordPattern(e,t,n){const r=n.length;for(let u=0;u<r;u++)n[u]=0;const i=e.getSize();if(t>=i)throw new P;let s=!e.get(t),a=0,o=t;for(;o<i;){if(e.get(o)!==s)n[a]++;else{if(++a===r)break;n[a]=1,s=!s}o++}if(!(a===r||a===r-1&&o===i))throw new P}static recordPatternInReverse(e,t,n){let r=n.length,i=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==i&&(r--,i=!i);if(r>=0)throw new P;Xe.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const r=e.length;let i=0,s=0;for(let u=0;u<r;u++)i+=e[u],s+=t[u];if(i<s)return Number.POSITIVE_INFINITY;const a=i/s;n*=a;let o=0;for(let u=0;u<r;u++){const d=e[u],w=t[u]*a,m=d>w?d-w:w-d;if(m>n)return Number.POSITIVE_INFINITY;o+=m}return o/i}}class K extends Xe{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let r=0,i=Int32Array.from([0,0,0,0,0,0]),s=n,a=!1;const o=6;for(let u=n;u<t;u++)if(e.get(u)!==a)i[r]++;else{if(r===o-1){let d=K.MAX_AVG_VARIANCE,w=-1;for(let m=K.CODE_START_A;m<=K.CODE_START_C;m++){const y=Xe.patternMatchVariance(i,K.CODE_PATTERNS[m],K.MAX_INDIVIDUAL_VARIANCE);y<d&&(d=y,w=m)}if(w>=0&&e.isRange(Math.max(0,s-(u-s)/2),s,!1))return Int32Array.from([s,u,w]);s+=i[0]+i[1],i=i.slice(2,i.length-1),i[r-1]=0,i[r]=0,r--}else r++;i[r]=1,a=!a}throw new P}static decodeCode(e,t,n){Xe.recordPattern(e,n,t);let r=K.MAX_AVG_VARIANCE,i=-1;for(let s=0;s<K.CODE_PATTERNS.length;s++){const a=K.CODE_PATTERNS[s],o=this.patternMatchVariance(t,a,K.MAX_INDIVIDUAL_VARIANCE);o<r&&(r=o,i=s)}if(i>=0)return i;throw new P}decodeRow(e,t,n){const r=n&&n.get(pe.ASSUME_GS1)===!0,i=K.findStartPattern(t),s=i[2];let a=0;const o=new Uint8Array(20);o[a++]=s;let u;switch(s){case K.CODE_START_A:u=K.CODE_CODE_A;break;case K.CODE_START_B:u=K.CODE_CODE_B;break;case K.CODE_START_C:u=K.CODE_CODE_C;break;default:throw new G}let d=!1,w=!1,m="",y=i[0],_=i[1];const T=Int32Array.from([0,0,0,0,0,0]);let M=0,D=0,z=s,Z=0,H=!0,xe=!1,ce=!1;for(;!d;){const En=w;switch(w=!1,M=D,D=K.decodeCode(t,T,_),o[a++]=D,D!==K.CODE_STOP&&(H=!0),D!==K.CODE_STOP&&(Z++,z+=Z*D),y=_,_+=T.reduce((Ja,$a)=>Ja+$a,0),D){case K.CODE_START_A:case K.CODE_START_B:case K.CODE_START_C:throw new G}switch(u){case K.CODE_CODE_A:if(D<64)ce===xe?m+=String.fromCharCode(32+D):m+=String.fromCharCode(32+D+128),ce=!1;else if(D<96)ce===xe?m+=String.fromCharCode(D-64):m+=String.fromCharCode(D+64),ce=!1;else switch(D!==K.CODE_STOP&&(H=!1),D){case K.CODE_FNC_1:r&&(m.length===0?m+="]C1":m+="");break;case K.CODE_FNC_2:case K.CODE_FNC_3:break;case K.CODE_FNC_4_A:!xe&&ce?(xe=!0,ce=!1):xe&&ce?(xe=!1,ce=!1):ce=!0;break;case K.CODE_SHIFT:w=!0,u=K.CODE_CODE_B;break;case K.CODE_CODE_B:u=K.CODE_CODE_B;break;case K.CODE_CODE_C:u=K.CODE_CODE_C;break;case K.CODE_STOP:d=!0;break}break;case K.CODE_CODE_B:if(D<96)ce===xe?m+=String.fromCharCode(32+D):m+=String.fromCharCode(32+D+128),ce=!1;else switch(D!==K.CODE_STOP&&(H=!1),D){case K.CODE_FNC_1:r&&(m.length===0?m+="]C1":m+="");break;case K.CODE_FNC_2:case K.CODE_FNC_3:break;case K.CODE_FNC_4_B:!xe&&ce?(xe=!0,ce=!1):xe&&ce?(xe=!1,ce=!1):ce=!0;break;case K.CODE_SHIFT:w=!0,u=K.CODE_CODE_A;break;case K.CODE_CODE_A:u=K.CODE_CODE_A;break;case K.CODE_CODE_C:u=K.CODE_CODE_C;break;case K.CODE_STOP:d=!0;break}break;case K.CODE_CODE_C:if(D<100)D<10&&(m+="0"),m+=D;else switch(D!==K.CODE_STOP&&(H=!1),D){case K.CODE_FNC_1:r&&(m.length===0?m+="]C1":m+="");break;case K.CODE_CODE_A:u=K.CODE_CODE_A;break;case K.CODE_CODE_B:u=K.CODE_CODE_B;break;case K.CODE_STOP:d=!0;break}break}En&&(u=u===K.CODE_CODE_A?K.CODE_CODE_B:K.CODE_CODE_A)}const gt=_-y;if(_=t.getNextUnset(_),!t.isRange(_,Math.min(t.getSize(),_+(_-y)/2),!1))throw new P;if(z-=Z*M,z%103!==M)throw new W;const bt=m.length;if(bt===0)throw new P;bt>0&&H&&(u===K.CODE_CODE_C?m=m.substring(0,bt-2):m=m.substring(0,bt-1));const xt=(i[1]+i[0])/2,Re=y+gt/2,rt=o.length,pt=new Uint8Array(rt);for(let En=0;En<rt;En++)pt[En]=o[En];const Cn=[new ee(xt,e),new ee(Re,e)];return new ot(m,pt,0,Cn,re.CODE_128,new Date().getTime())}}K.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],K.MAX_AVG_VARIANCE=.25,K.MAX_INDIVIDUAL_VARIANCE=.7,K.CODE_SHIFT=98,K.CODE_CODE_C=99,K.CODE_CODE_B=100,K.CODE_CODE_A=101,K.CODE_FNC_1=102,K.CODE_FNC_2=97,K.CODE_FNC_3=96,K.CODE_FNC_4_A=101,K.CODE_FNC_4_B=100,K.CODE_START_A=103,K.CODE_START_B=104,K.CODE_START_C=105,K.CODE_STOP=106;class ze extends Xe{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult="";let i=ze.findAsteriskPattern(t,r),s=t.getNextSet(i[1]),a=t.getSize(),o,u;do{ze.recordPattern(t,s,r);let T=ze.toNarrowWidePattern(r);if(T<0)throw new P;o=ze.patternToChar(T),this.decodeRowResult+=o,u=s;for(let M of r)s+=M;s=t.getNextSet(s)}while(o!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let d=0;for(let T of r)d+=T;let w=s-u-d;if(s!==a&&w*2<d)throw new P;if(this.usingCheckDigit){let T=this.decodeRowResult.length-1,M=0;for(let D=0;D<T;D++)M+=ze.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(D));if(this.decodeRowResult.charAt(T)!==ze.ALPHABET_STRING.charAt(M%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,T)}if(this.decodeRowResult.length===0)throw new P;let m;this.extendedMode?m=ze.decodeExtended(this.decodeRowResult):m=this.decodeRowResult;let y=(i[1]+i[0])/2,_=u+d/2;return new ot(m,null,0,[new ee(y,e),new ee(_,e)],re.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),i=0,s=r,a=!1,o=t.length;for(let u=r;u<n;u++)if(e.get(u)!==a)t[i]++;else{if(i===o-1){if(this.toNarrowWidePattern(t)===ze.ASTERISK_ENCODING&&e.isRange(Math.max(0,s-Math.floor((u-s)/2)),s,!1))return[s,u];s+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,a=!a}throw new P}static toNarrowWidePattern(e){let t=e.length,n=0,r;do{let i=2147483647;for(let o of e)o<i&&o>n&&(i=o);n=i,r=0;let s=0,a=0;for(let o=0;o<t;o++){let u=e[o];u>n&&(a|=1<<t-1-o,r++,s+=u)}if(r===3){for(let o=0;o<t&&r>0;o++){let u=e[o];if(u>n&&(r--,u*2>=s))return-1}return a}}while(r>3);return-1}static patternToChar(e){for(let t=0;t<ze.CHARACTER_ENCODINGS.length;t++)if(ze.CHARACTER_ENCODINGS[t]===e)return ze.ALPHABET_STRING.charAt(t);if(e===ze.ASTERISK_ENCODING)return"*";throw new P}static decodeExtended(e){let t=e.length,n="";for(let r=0;r<t;r++){let i=e.charAt(r);if(i==="+"||i==="$"||i==="%"||i==="/"){let s=e.charAt(r+1),a="\0";switch(i){case"+":if(s>="A"&&s<="Z")a=String.fromCharCode(s.charCodeAt(0)+32);else throw new G;break;case"$":if(s>="A"&&s<="Z")a=String.fromCharCode(s.charCodeAt(0)-64);else throw new G;break;case"%":if(s>="A"&&s<="E")a=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")a=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")a=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")a="\0";else if(s==="V")a="@";else if(s==="W")a="`";else if(s==="X"||s==="Y"||s==="Z")a="";else throw new G;break;case"/":if(s>="A"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")a=":";else throw new G;break}n+=a,r++}else n+=i}return n}}ze.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ze.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ze.ASTERISK_ENCODING=148;class Ne extends Xe{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),i=this.decodeEnd(t),s=new Se;Ne.decodeMiddle(t,r[1],i[0],s);let a=s.toString(),o=null;n!=null&&(o=n.get(pe.ALLOWED_LENGTHS)),o==null&&(o=Ne.DEFAULT_ALLOWED_LENGTHS);let u=a.length,d=!1,w=0;for(let _ of o){if(u===_){d=!0;break}_>w&&(w=_)}if(!d&&u>w&&(d=!0),!d)throw new G;const m=[new ee(r[1],e),new ee(i[0],e)];return new ot(a,null,0,m,re.ITF,new Date().getTime())}static decodeMiddle(e,t,n,r){let i=new Int32Array(10),s=new Int32Array(5),a=new Int32Array(5);for(i.fill(0),s.fill(0),a.fill(0);t<n;){Xe.recordPattern(e,t,i);for(let u=0;u<5;u++){let d=2*u;s[u]=i[d],a[u]=i[d+1]}let o=Ne.decodeDigit(s);r.append(o.toString()),o=this.decodeDigit(a),r.append(o.toString()),i.forEach(function(u){t+=u})}}decodeStart(e){let t=Ne.skipWhiteSpace(e),n=Ne.findGuardPattern(e,t,Ne.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(n!==0)throw new P}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new P;return n}decodeEnd(e){e.reverse();try{let t=Ne.skipWhiteSpace(e),n;try{n=Ne.findGuardPattern(e,t,Ne.END_PATTERN_REVERSED[0])}catch(i){i instanceof P&&(n=Ne.findGuardPattern(e,t,Ne.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let r=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-r,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,i=new Int32Array(r),s=e.getSize(),a=!1,o=0,u=t;i.fill(0);for(let d=t;d<s;d++)if(e.get(d)!==a)i[o]++;else{if(o===r-1){if(Xe.patternMatchVariance(i,n,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return[u,d];u+=i[0]+i[1],X.arraycopy(i,2,i,0,o-1),i[o-1]=0,i[o]=0,o--}else o++;i[o]=1,a=!a}throw new P}static decodeDigit(e){let t=Ne.MAX_AVG_VARIANCE,n=-1,r=Ne.PATTERNS.length;for(let i=0;i<r;i++){let s=Ne.PATTERNS[i],a=Xe.patternMatchVariance(e,s,Ne.MAX_INDIVIDUAL_VARIANCE);a<t?(t=a,n=i):a===t&&(n=-1)}if(n>=0)return n%10;throw new P}}Ne.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ne.MAX_AVG_VARIANCE=.38,Ne.MAX_INDIVIDUAL_VARIANCE=.5,Ne.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ne.START_PATTERN=Int32Array.from([1,1,1,1]),Ne.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Fe extends Xe{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,n,r=0,i=Int32Array.from([0,0,0]);for(;!t;){i=Int32Array.from([0,0,0]),n=Fe.findGuardPattern(e,r,!1,this.START_END_PATTERN,i);let s=n[0];r=n[1];let a=s-(r-s);a>=0&&(t=e.isRange(a,s,!1))}return n}static checkChecksum(e){return Fe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return Fe.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let i=e.charAt(r).charCodeAt(0)-48;if(i<0||i>9)throw new G;n+=i}n*=3;for(let r=t-2;r>=0;r-=2){let i=e.charAt(r).charCodeAt(0)-48;if(i<0||i>9)throw new G;n+=i}return(1e3-n)%10}static decodeEnd(e,t){return Fe.findGuardPattern(e,t,!1,Fe.START_END_PATTERN,new Int32Array(Fe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,i){let s=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let a=0,o=t,u=r.length,d=n;for(let w=t;w<s;w++)if(e.get(w)!==d)i[a]++;else{if(a===u-1){if(Xe.patternMatchVariance(i,r,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return Int32Array.from([o,w]);o+=i[0]+i[1];let m=i.slice(2,i.length-1);for(let y=0;y<a-1;y++)i[y]=m[y];i[a-1]=0,i[a]=0,a--}else a++;i[a]=1,d=!d}throw new P}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let i=this.MAX_AVG_VARIANCE,s=-1,a=r.length;for(let o=0;o<a;o++){let u=r[o],d=Xe.patternMatchVariance(t,u,Fe.MAX_INDIVIDUAL_VARIANCE);d<i&&(i=d,s=o)}if(s>=0)return s;throw new P}}Fe.MAX_AVG_VARIANCE=.48,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.START_END_PATTERN=Int32Array.from([1,1,1]),Fe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Fe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Mn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),s=r.toString(),a=Mn.parseExtensionString(s),o=[new ee((n[0]+n[1])/2,e),new ee(i,e)],u=new ot(s,null,0,o,re.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),s=t[1],a=0;for(let u=0;u<5&&s<i;u++){let d=Fe.decodeDigit(e,r,s,Fe.L_AND_G_PATTERNS);n+=String.fromCharCode(48+d%10);for(let w of r)s+=w;d>=10&&(a|=1<<4-u),u!==4&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(n.length!==5)throw new P;let o=this.determineCheckDigit(a);if(Mn.extensionChecksum(n.toString())!==o)throw new P;return s}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new P}static parseExtensionString(e){if(e.length!==5)return null;let t=Mn.parseExtension5String(e);return t==null?null:new Map([[Qe.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let n=parseInt(e.substring(1)),r=(n/100).toString(),i=n%100,s=i<10?"0"+i:i.toString();return t+r+"."+s}}class vr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),s=r.toString(),a=vr.parseExtensionString(s),o=[new ee((n[0]+n[1])/2,e),new ee(i,e)],u=new ot(s,null,0,o,re.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),s=t[1],a=0;for(let o=0;o<2&&s<i;o++){let u=Fe.decodeDigit(e,r,s,Fe.L_AND_G_PATTERNS);n+=String.fromCharCode(48+u%10);for(let d of r)s+=d;u>=10&&(a|=1<<1-o),o!==1&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(n.length!==2)throw new P;if(parseInt(n.toString())%4!==a)throw new P;return s}static parseExtensionString(e){return e.length!==2?null:new Map([[Qe.ISSUE_NUMBER,parseInt(e)]])}}class bi{static decodeRow(e,t,n){let r=Fe.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Mn().decodeRow(e,t,r)}catch{return new vr().decodeRow(e,t,r)}}}bi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ye extends Fe{constructor(){super(),this.decodeRowStringBuffer="",ye.L_AND_G_PATTERNS=ye.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=ye.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[t.length-r-1];ye.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=ye.findStartGuardPattern(t),i=n==null?null:n.get(pe.NEED_RESULT_POINT_CALLBACK);if(i!=null){const H=new ee((r[0]+r[1])/2,e);i.foundPossibleResultPoint(H)}let s=this.decodeMiddle(t,r,this.decodeRowStringBuffer),a=s.rowOffset,o=s.resultString;if(i!=null){const H=new ee(a,e);i.foundPossibleResultPoint(H)}let u=this.decodeEnd(t,a);if(i!=null){const H=new ee((u[0]+u[1])/2,e);i.foundPossibleResultPoint(H)}let d=u[1],w=d+(d-u[0]);if(w>=t.getSize()||!t.isRange(d,w,!1))throw new P;let m=o.toString();if(m.length<8)throw new G;if(!ye.checkChecksum(m))throw new W;let y=(r[1]+r[0])/2,_=(u[1]+u[0])/2,T=this.getBarcodeFormat(),M=[new ee(y,e),new ee(_,e)],D=new ot(m,null,0,M,T,new Date().getTime()),z=0;try{let H=bi.decodeRow(e,t,u[1]);D.putMetadata(Qe.UPC_EAN_EXTENSION,H.getText()),D.putAllMetadata(H.getResultMetadata()),D.addResultPoints(H.getResultPoints()),z=H.getText().length}catch{}let Z=n==null?null:n.get(pe.ALLOWED_EAN_EXTENSIONS);if(Z!=null){let H=!1;for(let xe in Z)if(z.toString()===xe){H=!0;break}if(!H)throw new P}return D}decodeEnd(e,t){return ye.findGuardPattern(e,t,!1,ye.START_END_PATTERN,new Int32Array(ye.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ye.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return ye.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let i=e.charAt(r).charCodeAt(0)-48;if(i<0||i>9)throw new G;n+=i}n*=3;for(let r=t-2;r>=0;r-=2){let i=e.charAt(r).charCodeAt(0)-48;if(i<0||i>9)throw new G;n+=i}return(1e3-n)%10}}class Jt extends ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),s=t[1],a=0;for(let u=0;u<6&&s<i;u++){let d=ye.decodeDigit(e,r,s,ye.L_AND_G_PATTERNS);n+=String.fromCharCode(48+d%10);for(let w of r)s+=w;d>=10&&(a|=1<<5-u)}n=Jt.determineFirstDigit(n,a),s=ye.findGuardPattern(e,s,!0,ye.MIDDLE_PATTERN,new Int32Array(ye.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<6&&s<i;u++){let d=ye.decodeDigit(e,r,s,ye.L_PATTERNS);n+=String.fromCharCode(48+d);for(let w of r)s+=w}return{rowOffset:s,resultString:n}}getBarcodeFormat(){return re.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode(48+n)+e,e;throw new P}}Jt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class vi extends ye{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),s=t[1];for(let o=0;o<4&&s<i;o++){let u=ye.decodeDigit(e,r,s,ye.L_PATTERNS);n+=String.fromCharCode(48+u);for(let d of r)s+=d}s=ye.findGuardPattern(e,s,!0,ye.MIDDLE_PATTERN,new Int32Array(ye.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<4&&s<i;o++){let u=ye.decodeDigit(e,r,s,ye.L_PATTERNS);n+=String.fromCharCode(48+u);for(let d of r)s+=d}return{rowOffset:s,resultString:n}}getBarcodeFormat(){return re.EAN_8}}class _i extends ye{constructor(){super(...arguments),this.ean13Reader=new Jt}getBarcodeFormat(){return re.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let n=new ot(t.substring(1),null,null,e.getResultPoints(),re.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new P}reset(){this.ean13Reader.reset()}}class It extends ye{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters.map(u=>u);r[0]=0,r[1]=0,r[2]=0,r[3]=0;const i=e.getSize();let s=t[1],a=0;for(let u=0;u<6&&s<i;u++){const d=It.decodeDigit(e,r,s,It.L_AND_G_PATTERNS);n+=String.fromCharCode(48+d%10);for(let w of r)s+=w;d>=10&&(a|=1<<5-u)}let o=It.determineNumSysAndCheckDigit(n,a);return{rowOffset:s,resultString:o}}decodeEnd(e,t){return It.findGuardPatternWithoutCounters(e,t,!0,It.MIDDLE_END_PATTERN)}checkChecksum(e){return ye.checkChecksum(It.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r]){let i=String.fromCharCode(48+n),s=String.fromCharCode(48+r);return i+e+s}throw P.getNotFoundInstance()}getBarcodeFormat(){return re.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),n=new Se;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}It.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class _r extends Xe{constructor(e){super();let t=e==null?null:e.get(pe.POSSIBLE_FORMATS),n=[];f(t)?(n.push(new Jt),n.push(new _i),n.push(new vi),n.push(new It)):(t.indexOf(re.EAN_13)>-1&&n.push(new Jt),t.indexOf(re.UPC_A)>-1&&n.push(new _i),t.indexOf(re.EAN_8)>-1&&n.push(new vi),t.indexOf(re.UPC_E)>-1&&n.push(new It)),this.readers=n}decodeRow(e,t,n){for(let r of this.readers)try{const i=r.decodeRow(e,t,n),s=i.getBarcodeFormat()===re.EAN_13&&i.getText().charAt(0)==="0",a=n==null?null:n.get(pe.POSSIBLE_FORMATS),o=a==null||a.includes(re.UPC_A);if(s&&o){const u=i.getRawBytes(),d=new ot(i.getText().substring(1),u,u?u.length:null,i.getResultPoints(),re.UPC_A);return d.putAllMetadata(i.getResultMetadata()),d}return i}catch{}throw new P}reset(){for(let e of this.readers)e.reset()}}class it extends Xe{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(Xe.patternMatchVariance(e,t[n],it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return n;throw new P}static count(e){return me.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]>r&&(r=t[i],n=i);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]<r&&(r=t[i],n=i);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t+e[2]+e[3],r=t/n;if(r>=it.MIN_FINDER_PATTERN_RATIO&&r<=it.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;for(let a of e)a>s&&(s=a),a<i&&(i=a);return s<10*i}return!1}}it.MAX_AVG_VARIANCE=.2,it.MAX_INDIVIDUAL_VARIANCE=.45,it.MIN_FINDER_PATTERN_RATIO=9.5/12,it.MAX_FINDER_PATTERN_RATIO=12.5/14;class dn{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof dn))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $n{constructor(e,t,n,r,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ee(n,i)),this.resultPoints.push(new ee(r,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof $n))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class St{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let o of e)r+=o;let i=0,s=0,a=e.length;for(let o=0;o<a-1;o++){let u;for(u=1,s|=1<<o;u<e[o];u++,s&=~(1<<o)){let d=St.combins(r-u-1,a-o-2);if(n&&s===0&&r-u-(a-o-1)>=a-o-1&&(d-=St.combins(r-u-(a-o),a-o-2)),a-o-1>1){let w=0;for(let m=r-u-(a-o-2);m>t;m--)w+=St.combins(r-u-m-1,a-o-3);d-=w*(a-1-o)}else r-u>t&&d--;i+=d}r-=u}return i}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let i=1,s=1;for(let a=e;a>n;a--)i*=a,s<=r&&(i/=s,s++);for(;s<=r;)i/=s,s++;return i}}class ba{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let n=12*t,r=new Y(n),i=0,a=e[0].getRightChar().getValue();for(let o=11;o>=0;--o)(a&1<<o)!=0&&r.set(i),i++;for(let o=1;o<e.length;++o){let u=e[o],d=u.getLeftChar().getValue();for(let w=11;w>=0;--w)(d&1<<w)!=0&&r.set(i),i++;if(u.getRightChar()!=null){let w=u.getRightChar().getValue();for(let m=11;m>=0;--m)(w&1<<m)!=0&&r.set(i),i++}}return r}}class $t{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Sr{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class ut extends Sr{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===ut.FNC1}}ut.FNC1="$";class en extends Sr{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mt extends Sr{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new G;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mt.FNC1}isSecondDigitFNC1(){return this.secondDigit===mt.FNC1}isAnyFNC1(){return this.firstDigit===mt.FNC1||this.secondDigit===mt.FNC1}}mt.FNC1=10;class J{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new P;let t=e.substring(0,2);for(let i of J.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===J.VARIABLE_LENGTH?J.processVariableAI(2,i[2],e):J.processFixedAI(2,i[1],e);if(e.length<3)throw new P;let n=e.substring(0,3);for(let i of J.THREE_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===J.VARIABLE_LENGTH?J.processVariableAI(3,i[2],e):J.processFixedAI(3,i[1],e);for(let i of J.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===J.VARIABLE_LENGTH?J.processVariableAI(4,i[2],e):J.processFixedAI(4,i[1],e);if(e.length<4)throw new P;let r=e.substring(0,4);for(let i of J.FOUR_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===J.VARIABLE_LENGTH?J.processVariableAI(4,i[2],e):J.processFixedAI(4,i[1],e);throw new P}static processFixedAI(e,t,n){if(n.length<e)throw new P;let r=n.substring(0,e);if(n.length<e+t)throw new P;let i=n.substring(e,e+t),s=n.substring(e+t),a="("+r+")"+i,o=J.parseFieldsInGeneralPurpose(s);return o==null?a:a+o}static processVariableAI(e,t,n){let r=n.substring(0,e),i;n.length<e+t?i=n.length:i=e+t;let s=n.substring(e,i),a=n.substring(i),o="("+r+")"+s,u=J.parseFieldsInGeneralPurpose(a);return u==null?o:o+u}}J.VARIABLE_LENGTH=[],J.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",J.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",J.VARIABLE_LENGTH,20],["22",J.VARIABLE_LENGTH,29],["30",J.VARIABLE_LENGTH,8],["37",J.VARIABLE_LENGTH,8],["90",J.VARIABLE_LENGTH,30],["91",J.VARIABLE_LENGTH,30],["92",J.VARIABLE_LENGTH,30],["93",J.VARIABLE_LENGTH,30],["94",J.VARIABLE_LENGTH,30],["95",J.VARIABLE_LENGTH,30],["96",J.VARIABLE_LENGTH,30],["97",J.VARIABLE_LENGTH,3],["98",J.VARIABLE_LENGTH,30],["99",J.VARIABLE_LENGTH,30]],J.THREE_DIGIT_DATA_LENGTH=[["240",J.VARIABLE_LENGTH,30],["241",J.VARIABLE_LENGTH,30],["242",J.VARIABLE_LENGTH,6],["250",J.VARIABLE_LENGTH,30],["251",J.VARIABLE_LENGTH,30],["253",J.VARIABLE_LENGTH,17],["254",J.VARIABLE_LENGTH,20],["400",J.VARIABLE_LENGTH,30],["401",J.VARIABLE_LENGTH,30],["402",17],["403",J.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",J.VARIABLE_LENGTH,20],["421",J.VARIABLE_LENGTH,15],["422",3],["423",J.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],J.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",J.VARIABLE_LENGTH,15],["391",J.VARIABLE_LENGTH,18],["392",J.VARIABLE_LENGTH,15],["393",J.VARIABLE_LENGTH,18],["703",J.VARIABLE_LENGTH,30]],J.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",J.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",J.VARIABLE_LENGTH,20],["8003",J.VARIABLE_LENGTH,30],["8004",J.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",J.VARIABLE_LENGTH,30],["8008",J.VARIABLE_LENGTH,12],["8018",18],["8020",J.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",J.VARIABLE_LENGTH,70],["8200",J.VARIABLE_LENGTH,70]];class fn{constructor(e){this.buffer=new Se,this.information=e}decodeAllCodes(e,t){let n=t,r=null;do{let i=this.decodeGeneralPurposeField(n,r),s=J.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?r=""+i.getRemainingValue():r=null,n===i.getNewPosition())break;n=i.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(e,4);return i===0?new mt(this.information.getSize(),mt.FNC1,mt.FNC1):new mt(this.information.getSize(),i-1,mt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,r=(t-8)%11;return new mt(e+7,n,r)}extractNumericValueFromBitArray(e,t){return fn.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let i=0;i<n;++i)e.get(t+i)&&(r|=1<<n-i-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new en(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new en(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new en(this.current.getPosition(),this.buffer.toString()):t=new en(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new $t(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new en(this.current.getPosition(),this.buffer.toString());return new $t(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $t(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new en(this.current.getPosition(),this.buffer.toString());return new $t(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $t(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new en(this.current.getPosition(),this.buffer.toString());return new $t(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $t(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new ut(e+5,ut.FNC1);if(t>=5&&t<15)return new ut(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new ut(e+7,""+(n+1));if(n>=90&&n<116)return new ut(e+7,""+(n+7));let r=this.extractNumericValueFromBitArray(e,8),i;switch(r){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new G}return new ut(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new ut(e+5,ut.FNC1);if(t>=5&&t<15)return new ut(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new ut(e+6,""+(n+33));let r;switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new _t("Decoding invalid alphanumeric value: "+n)}return new ut(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Tr{constructor(e){this.information=e,this.generalDecoder=new fn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class dt extends Tr{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let r=0;r<4;++r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}dt.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let i=e.charAt(r+t).charCodeAt(0)-48;n+=(r&1)===0?3*i:i}n=10-n%10,n===10&&(n=0),e.append(n)}}dt.GTIN_SIZE=40;class gn extends dt{constructor(e){super(e)}parseInformation(){let e=new Se;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,gn.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,gn.HEADER_SIZE+44)}}gn.HEADER_SIZE=4;class er extends Tr{constructor(e){super(e)}parseInformation(){let e=new Se;return this.getGeneralDecoder().decodeAllCodes(e,er.HEADER_SIZE)}}er.HEADER_SIZE=5;class tr extends dt{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let i=this.checkWeight(r),s=1e5;for(let a=0;a<5;++a)i/s===0&&e.append("0"),s/=10;e.append(i)}}class Tt extends tr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+tr.GTIN_SIZE+Tt.WEIGHT_SIZE)throw new P;let e=new Se;return this.encodeCompressedGtin(e,Tt.HEADER_SIZE),this.encodeCompressedWeight(e,Tt.HEADER_SIZE+tr.GTIN_SIZE,Tt.WEIGHT_SIZE),e.toString()}}Tt.HEADER_SIZE=5,Tt.WEIGHT_SIZE=15;class va extends Tt{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class _a extends Tt{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Nt extends dt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Nt.HEADER_SIZE+dt.GTIN_SIZE)throw new P;let e=new Se;this.encodeCompressedGtin(e,Nt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Nt.HEADER_SIZE+dt.GTIN_SIZE,Nt.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(Nt.HEADER_SIZE+dt.GTIN_SIZE+Nt.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}Nt.HEADER_SIZE=8,Nt.LAST_DIGIT_SIZE=2;class ct extends dt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ct.HEADER_SIZE+dt.GTIN_SIZE)throw new P;let e=new Se;this.encodeCompressedGtin(e,ct.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(ct.HEADER_SIZE+dt.GTIN_SIZE,ct.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(ct.HEADER_SIZE+dt.GTIN_SIZE+ct.LAST_DIGIT_SIZE,ct.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(ct.HEADER_SIZE+dt.GTIN_SIZE+ct.LAST_DIGIT_SIZE+ct.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}ct.HEADER_SIZE=8,ct.LAST_DIGIT_SIZE=2,ct.FIRST_THREE_DIGITS_SIZE=10;class Pe extends tr{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=Pe.HEADER_SIZE+Pe.GTIN_SIZE+Pe.WEIGHT_SIZE+Pe.DATE_SIZE)throw new P;let e=new Se;return this.encodeCompressedGtin(e,Pe.HEADER_SIZE),this.encodeCompressedWeight(e,Pe.HEADER_SIZE+Pe.GTIN_SIZE,Pe.WEIGHT_SIZE),this.encodeCompressedDate(e,Pe.HEADER_SIZE+Pe.GTIN_SIZE+Pe.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,Pe.DATE_SIZE);if(n==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let r=n%32;n/=32;let i=n%12+1;n/=12;let s=n;s/10==0&&e.append("0"),e.append(s),i/10==0&&e.append("0"),e.append(i),r/10==0&&e.append("0"),e.append(r)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}Pe.HEADER_SIZE=8,Pe.WEIGHT_SIZE=20,Pe.DATE_SIZE=16;function Si(p){try{if(p.get(1))return new gn(p);if(!p.get(2))return new er(p);switch(fn.extractNumericValueFromBitArray(p,1,4)){case 4:return new va(p);case 5:return new _a(p)}switch(fn.extractNumericValueFromBitArray(p,1,5)){case 12:return new Nt(p);case 13:return new ct(p)}switch(fn.extractNumericValueFromBitArray(p,1,7)){case 56:return new Pe(p,"310","11");case 57:return new Pe(p,"320","11");case 58:return new Pe(p,"310","13");case 59:return new Pe(p,"320","13");case 60:return new Pe(p,"310","15");case 61:return new Pe(p,"320","15");case 62:return new Pe(p,"310","17");case 63:return new Pe(p,"320","17")}}catch(e){throw console.log(e),new _t("unknown decoder: "+p)}}class Ht{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Ht?Ht.equalsOrNull(e.leftchar,t.leftchar)&&Ht.equalsOrNull(e.rightchar,t.rightchar)&&Ht.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Ht.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Nr{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Nr?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((r,i)=>{t.forEach(s=>{r.getLeftChar().getValue()===s.getLeftChar().getValue()&&r.getRightChar().getValue()===s.getRightChar().getValue()&&r.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(n=!0)})}),n}}class F extends it{constructor(e){super(...arguments),this.pairs=new Array(F.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return F.constructResult(this.decodeRow2pairs(e,t))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,F.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof P){if(!this.pairs.length)throw new P;n=!0}}if(this.checkChecksum())return this.pairs;let r;if(this.rows.length?r=!0:r=!1,this.storeRow(e,!1),r){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new P}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let r=this.rows[n];this.pairs.length=0;for(let s of e)this.pairs.push(s.getPairs());if(this.pairs.push(r.getPairs()),!F.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(r);try{return this.checkRows(i,n+1)}catch(s){this.verbose&&console.log(s)}}throw new P}static isValidSequence(e){for(let t of F.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,i=!1;for(;n<this.rows.length;){let s=this.rows[n];if(s.getRowNumber()>e){i=s.isEquivalent(this.pairs);break}r=s.isEquivalent(this.pairs),n++}i||r||F.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new Nr(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let r of n.getPairs())for(let i of e)if(Ht.equals(r,i))break}}static isPartialRow(e,t){for(let n of t){let r=!0;for(let i of e){let s=!1;for(let a of n.getPairs())if(i.equals(a)){s=!0;break}if(!s){r=!1;break}}if(r)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=ba.buildBitArray(e),r=Si(t).parseInformation(),i=e[0].getFinderPattern().getResultPoints(),s=e[e.length-1].getFinderPattern().getResultPoints(),a=[i[0],i[1],s[0],s[1]];return new ot(r,null,null,a,re.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let r=n.getChecksumPortion(),i=2;for(let a=1;a<this.pairs.size();++a){let o=this.pairs.get(a);r+=o.getLeftChar().getChecksumPortion(),i++;let u=o.getRightChar();u!=null&&(r+=u.getChecksumPortion(),i++)}return r%=211,211*(i-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r=t.length%2==0;this.startFromEven&&(r=!r);let i,s=!0,a=-1;do this.findNextPair(e,t,a),i=this.parseFoundFinderPattern(e,n,r),i==null?a=F.getNextSecondBar(e,this.startEnd[0]):s=!1;while(s);let o=this.decodeDataCharacter(e,i,r,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new P;let u;try{u=this.decodeDataCharacter(e,i,r,!1)}catch(d){u=null,this.verbose&&console.log(d)}return new Ht(o,u,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),s;n>=0?s=n:this.isEmptyPair(t)?s=0:s=t[t.length-1].getFinderPattern().getStartEnd()[1];let a=t.length%2!=0;this.startFromEven&&(a=!a);let o=!1;for(;s<i&&(o=!e.get(s),!!o);)s++;let u=0,d=s;for(let w=s;w<i;w++)if(e.get(w)!=o)r[u]++;else{if(u==3){if(a&&F.reverseCounters(r),F.isFinderPattern(r)){this.startEnd[0]=d,this.startEnd[1]=w;return}a&&F.reverseCounters(r),d+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new P}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,i,s;if(n){let u=this.startEnd[0]-1;for(;u>=0&&!e.get(u);)u--;u++,r=this.startEnd[0]-u,i=u,s=this.startEnd[1]}else i=this.startEnd[0],s=e.getNextUnset(this.startEnd[1]+1),r=s-this.startEnd[1];let a=this.getDecodeFinderCounters();X.arraycopy(a,0,a,1,a.length-1),a[0]=r;let o;try{o=this.parseFinderValue(a,F.FINDER_PATTERNS)}catch{return null}return new $n(o,[i,s],i,s,t)}decodeDataCharacter(e,t,n,r){let i=this.getDataCharacterCounters();for(let Re=0;Re<i.length;Re++)i[Re]=0;if(r)F.recordPatternInReverse(e,t.getStartEnd()[0],i);else{F.recordPattern(e,t.getStartEnd()[1],i);for(let Re=0,rt=i.length-1;Re<rt;Re++,rt--){let pt=i[Re];i[Re]=i[rt],i[rt]=pt}}let s=17,a=me.sum(new Int32Array(i))/s,o=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(a-o)/o>.3)throw new P;let u=this.getOddCounts(),d=this.getEvenCounts(),w=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(let Re=0;Re<i.length;Re++){let rt=1*i[Re]/a,pt=rt+.5;if(pt<1){if(rt<.3)throw new P;pt=1}else if(pt>8){if(rt>8.7)throw new P;pt=8}let Cn=Re/2;(Re&1)==0?(u[Cn]=pt,w[Cn]=rt-pt):(d[Cn]=pt,m[Cn]=rt-pt)}this.adjustOddEvenCounts(s);let y=4*t.getValue()+(n?0:2)+(r?0:1)-1,_=0,T=0;for(let Re=u.length-1;Re>=0;Re--){if(F.isNotA1left(t,n,r)){let rt=F.WEIGHTS[y][2*Re];T+=u[Re]*rt}_+=u[Re]}let M=0;for(let Re=d.length-1;Re>=0;Re--)if(F.isNotA1left(t,n,r)){let rt=F.WEIGHTS[y][2*Re+1];M+=d[Re]*rt}let D=T+M;if((_&1)!=0||_>13||_<4)throw new P;let z=(13-_)/2,Z=F.SYMBOL_WIDEST[z],H=9-Z,xe=St.getRSSvalue(u,Z,!0),ce=St.getRSSvalue(d,H,!1),gt=F.EVEN_TOTAL_SUBSET[z],bt=F.GSUM[z],xt=xe*gt+ce+bt;return new dn(xt,D)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=me.sum(new Int32Array(this.getOddCounts())),n=me.sum(new Int32Array(this.getEvenCounts())),r=!1,i=!1;t>13?i=!0:t<4&&(r=!0);let s=!1,a=!1;n>13?a=!0:n<4&&(s=!0);let o=t+n-e,u=(t&1)==1,d=(n&1)==0;if(o==1)if(u){if(d)throw new P;i=!0}else{if(!d)throw new P;a=!0}else if(o==-1)if(u){if(d)throw new P;r=!0}else{if(!d)throw new P;s=!0}else if(o==0){if(u){if(!d)throw new P;t<n?(r=!0,a=!0):(i=!0,s=!0)}else if(d)throw new P}else throw new P;if(r){if(i)throw new P;F.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&F.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new P;F.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&F.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}F.SYMBOL_WIDEST=[7,5,4,3,1],F.EVEN_TOTAL_SUBSET=[4,20,52,104,204],F.GSUM=[0,348,1388,2948,3988],F.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],F.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],F.FINDER_PAT_A=0,F.FINDER_PAT_B=1,F.FINDER_PAT_C=2,F.FINDER_PAT_D=3,F.FINDER_PAT_E=4,F.FINDER_PAT_F=5,F.FINDER_PATTERN_SEQUENCES=[[F.FINDER_PAT_A,F.FINDER_PAT_A],[F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B],[F.FINDER_PAT_A,F.FINDER_PAT_C,F.FINDER_PAT_B,F.FINDER_PAT_D],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_C],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_D,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_E,F.FINDER_PAT_B,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_D],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_E],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F],[F.FINDER_PAT_A,F.FINDER_PAT_A,F.FINDER_PAT_B,F.FINDER_PAT_B,F.FINDER_PAT_C,F.FINDER_PAT_D,F.FINDER_PAT_D,F.FINDER_PAT_E,F.FINDER_PAT_E,F.FINDER_PAT_F,F.FINDER_PAT_F]],F.MAX_PAIRS=11;class Sa extends dn{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ue extends it{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const r=this.decodePair(t,!1,e,n);Ue.addOrTally(this.possibleLeftPairs,r),t.reverse();let i=this.decodePair(t,!0,e,n);Ue.addOrTally(this.possibleRightPairs,i),t.reverse();for(let s of this.possibleLeftPairs)if(s.getCount()>1){for(let a of this.possibleRightPairs)if(a.getCount()>1&&Ue.checkChecksum(s,a))return Ue.constructResult(s,a)}throw new P}static addOrTally(e,t){if(t==null)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),i=new Se;for(let u=13-r.length;u>0;u--)i.append("0");i.append(r);let s=0;for(let u=0;u<13;u++){let d=i.charAt(u).charCodeAt(0)-48;s+=(u&1)===0?3*d:d}s=10-s%10,s===10&&(s=0),i.append(s.toString());let a=e.getFinderPattern().getResultPoints(),o=t.getFinderPattern().getResultPoints();return new ot(i.toString(),null,0,[a[0],a[1],o[0],o[1]],re.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let i=this.findFinderPattern(e,t),s=this.parseFoundFinderPattern(e,n,t,i),a=r==null?null:r.get(pe.NEED_RESULT_POINT_CALLBACK);if(a!=null){let d=(i[0]+i[1])/2;t&&(d=e.getSize()-1-d),a.foundPossibleResultPoint(new ee(d,n))}let o=this.decodeDataCharacter(e,s,!0),u=this.decodeDataCharacter(e,s,!1);return new Sa(1597*o.getValue()+u.getValue(),o.getChecksumPortion()+4*u.getChecksumPortion(),s)}catch{return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let M=0;M<r.length;M++)r[M]=0;if(n)Xe.recordPatternInReverse(e,t.getStartEnd()[0],r);else{Xe.recordPattern(e,t.getStartEnd()[1]+1,r);for(let M=0,D=r.length-1;M<D;M++,D--){let z=r[M];r[M]=r[D],r[D]=z}}let i=n?16:15,s=me.sum(new Int32Array(r))/i,a=this.getOddCounts(),o=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let M=0;M<r.length;M++){let D=r[M]/s,z=Math.floor(D+.5);z<1?z=1:z>8&&(z=8);let Z=Math.floor(M/2);(M&1)===0?(a[Z]=z,u[Z]=D-z):(o[Z]=z,d[Z]=D-z)}this.adjustOddEvenCounts(n,i);let w=0,m=0;for(let M=a.length-1;M>=0;M--)m*=9,m+=a[M],w+=a[M];let y=0,_=0;for(let M=o.length-1;M>=0;M--)y*=9,y+=o[M],_+=o[M];let T=m+3*y;if(n){if((w&1)!==0||w>12||w<4)throw new P;let M=(12-w)/2,D=Ue.OUTSIDE_ODD_WIDEST[M],z=9-D,Z=St.getRSSvalue(a,D,!1),H=St.getRSSvalue(o,z,!0),xe=Ue.OUTSIDE_EVEN_TOTAL_SUBSET[M],ce=Ue.OUTSIDE_GSUM[M];return new dn(Z*xe+H+ce,T)}else{if((_&1)!==0||_>10||_<4)throw new P;let M=(10-_)/2,D=Ue.INSIDE_ODD_WIDEST[M],z=9-D,Z=St.getRSSvalue(a,D,!0),H=St.getRSSvalue(o,z,!1),xe=Ue.INSIDE_ODD_TOTAL_SUBSET[M],ce=Ue.INSIDE_GSUM[M];return new dn(H*xe+Z+ce,T)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),i=!1,s=0;for(;s<r&&(i=!e.get(s),t!==i);)s++;let a=0,o=s;for(let u=s;u<r;u++)if(e.get(u)!==i)n[a]++;else{if(a===3){if(it.isFinderPattern(n))return[o,u];o+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,i=!i}throw new P}parseFoundFinderPattern(e,t,n,r){let i=e.get(r[0]),s=r[0]-1;for(;s>=0&&i!==e.get(s);)s--;s++;const a=r[0]-s,o=this.getDecodeFinderCounters(),u=new Int32Array(o.length);X.arraycopy(o,0,u,1,o.length-1),u[0]=a;const d=this.parseFinderValue(u,Ue.FINDER_PATTERNS);let w=s,m=r[1];return n&&(w=e.getSize()-1-w,m=e.getSize()-1-m),new $n(d,[s,r[1]],w,m,t)}adjustOddEvenCounts(e,t){let n=me.sum(new Int32Array(this.getOddCounts())),r=me.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1,a=!1,o=!1;e?(n>12?s=!0:n<4&&(i=!0),r>12?o=!0:r<4&&(a=!0)):(n>11?s=!0:n<5&&(i=!0),r>10?o=!0:r<4&&(a=!0));let u=n+r-t,d=(n&1)===(e?1:0),w=(r&1)===1;if(u===1)if(d){if(w)throw new P;s=!0}else{if(!w)throw new P;o=!0}else if(u===-1)if(d){if(w)throw new P;i=!0}else{if(!w)throw new P;a=!0}else if(u===0){if(d){if(!w)throw new P;n<r?(i=!0,o=!0):(s=!0,a=!0)}else if(w)throw new P}else throw new P;if(i){if(s)throw new P;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(o)throw new P;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ue.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ue.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ue.OUTSIDE_GSUM=[0,161,961,2015,2715],Ue.INSIDE_GSUM=[0,336,1036,1516],Ue.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ue.INSIDE_ODD_WIDEST=[2,4,6,8],Ue.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xn extends Xe{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const n=e?e.get(pe.POSSIBLE_FORMATS):null,r=e&&e.get(pe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n?((n.includes(re.EAN_13)||n.includes(re.UPC_A)||n.includes(re.EAN_8)||n.includes(re.UPC_E))&&this.readers.push(new _r(e)),n.includes(re.CODE_39)&&this.readers.push(new ze(r)),n.includes(re.CODE_128)&&this.readers.push(new K),n.includes(re.ITF)&&this.readers.push(new Ne),n.includes(re.RSS_14)&&this.readers.push(new Ue),n.includes(re.RSS_EXPANDED)&&this.readers.push(new F(this.verbose))):(this.readers.push(new _r(e)),this.readers.push(new ze),this.readers.push(new _r(e)),this.readers.push(new K),this.readers.push(new Ne),this.readers.push(new Ue),this.readers.push(new F(this.verbose)))}decodeRow(e,t,n){for(let r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(e,t,n)}catch{}throw new P}reset(){this.readers.forEach(e=>e.reset())}}class Ta extends Qt{constructor(e=500,t){super(new xn(t),e,t)}}class ve{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ie{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class we{constructor(e,t,n,r,i,s){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=i,this.ecBlocks=s;let a=0;const o=s.getECCodewords(),u=s.getECBlocks();for(let d of u)a+=d.getCount()*(d.getDataCodewords()+o);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new G;for(let n of we.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new we(1,10,10,8,8,new ve(5,new Ie(1,3))),new we(2,12,12,10,10,new ve(7,new Ie(1,5))),new we(3,14,14,12,12,new ve(10,new Ie(1,8))),new we(4,16,16,14,14,new ve(12,new Ie(1,12))),new we(5,18,18,16,16,new ve(14,new Ie(1,18))),new we(6,20,20,18,18,new ve(18,new Ie(1,22))),new we(7,22,22,20,20,new ve(20,new Ie(1,30))),new we(8,24,24,22,22,new ve(24,new Ie(1,36))),new we(9,26,26,24,24,new ve(28,new Ie(1,44))),new we(10,32,32,14,14,new ve(36,new Ie(1,62))),new we(11,36,36,16,16,new ve(42,new Ie(1,86))),new we(12,40,40,18,18,new ve(48,new Ie(1,114))),new we(13,44,44,20,20,new ve(56,new Ie(1,144))),new we(14,48,48,22,22,new ve(68,new Ie(1,174))),new we(15,52,52,24,24,new ve(42,new Ie(2,102))),new we(16,64,64,14,14,new ve(56,new Ie(2,140))),new we(17,72,72,16,16,new ve(36,new Ie(4,92))),new we(18,80,80,18,18,new ve(48,new Ie(4,114))),new we(19,88,88,20,20,new ve(56,new Ie(4,144))),new we(20,96,96,22,22,new ve(68,new Ie(4,174))),new we(21,104,104,24,24,new ve(56,new Ie(6,136))),new we(22,120,120,18,18,new ve(68,new Ie(6,175))),new we(23,132,132,20,20,new ve(62,new Ie(8,163))),new we(24,144,144,22,22,new ve(62,new Ie(8,156),new Ie(2,155))),new we(25,8,18,6,16,new ve(7,new Ie(1,5))),new we(26,8,32,6,14,new ve(11,new Ie(1,10))),new we(27,12,26,10,24,new ve(14,new Ie(1,16))),new we(28,12,36,10,16,new ve(18,new Ie(1,22))),new we(29,16,36,14,16,new ve(24,new Ie(1,32))),new we(30,16,48,14,22,new ve(28,new Ie(1,49)))]}}we.VERSIONS=we.buildVersions();class Mr{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new G;this.version=Mr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return we.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,r=0;const i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth();let a=!1,o=!1,u=!1,d=!1;do if(n===i&&r===0&&!a)e[t++]=this.readCorner1(i,s)&255,n-=2,r+=2,a=!0;else if(n===i-2&&r===0&&(s&3)!==0&&!o)e[t++]=this.readCorner2(i,s)&255,n-=2,r+=2,o=!0;else if(n===i+4&&r===2&&(s&7)===0&&!u)e[t++]=this.readCorner3(i,s)&255,n-=2,r+=2,u=!0;else if(n===i-2&&r===0&&(s&7)===4&&!d)e[t++]=this.readCorner4(i,s)&255,n-=2,r+=2,d=!0;else{do n<i&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,i,s)&255),n-=2,r+=2;while(n>=0&&r<s);n+=1,r+=3;do n>=0&&r<s&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,i,s)&255),n+=2,r-=2;while(n<i&&r>=0);n+=3,r+=1}while(n<i||r<s);if(t!==this.version.getTotalCodewords())throw new G;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let i=0;return this.readModule(e-2,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-2,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t,n,r)&&(i|=1),i<<=1,this.readModule(e,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e,t,n,r)&&(i|=1),i}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new S("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=t/r|0,a=n/i|0,o=s*r,u=a*i,d=new Ke(u,o);for(let w=0;w<s;++w){const m=w*r;for(let y=0;y<a;++y){const _=y*i;for(let T=0;T<r;++T){const M=w*(r+2)+1+T,D=m+T;for(let z=0;z<i;++z){const Z=y*(i+2)+1+z;if(e.get(Z,M)){const H=_+z;d.set(H,D)}}}}}return d}}class Rr{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let r=0;const i=n.getECBlocks();for(let T of i)r+=T.getCount();const s=new Array(r);let a=0;for(let T of i)for(let M=0;M<T.getCount();M++){const D=T.getDataCodewords(),z=n.getECCodewords()+D;s[a++]=new Rr(D,new Uint8Array(z))}const u=s[0].codewords.length-n.getECCodewords(),d=u-1;let w=0;for(let T=0;T<d;T++)for(let M=0;M<a;M++)s[M].codewords[T]=e[w++];const m=t.getVersionNumber()===24,y=m?8:a;for(let T=0;T<y;T++)s[T].codewords[u-1]=e[w++];const _=s[0].codewords.length;for(let T=u;T<_;T++)for(let M=0;M<a;M++){const D=m?(M+8)%a:M,z=m&&D>7?T-1:T;s[D].codewords[z]=e[w++]}if(w!==e.length)throw new S;return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Or{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new S(""+e);let t=0,n=this.bitOffset,r=this.byteOffset;const i=this.bytes;if(n>0){const s=8-n,a=e<s?e:s,o=s-a,u=255>>8-a<<o;t=(i[r]&u)>>o,e-=a,n+=a,n===8&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|i[r]&255,r++,e-=8;if(e>0){const s=8-e,a=255>>s<<s;t=t<<e|(i[r]&a)>>s,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ye;(function(p){p[p.PAD_ENCODE=0]="PAD_ENCODE",p[p.ASCII_ENCODE=1]="ASCII_ENCODE",p[p.C40_ENCODE=2]="C40_ENCODE",p[p.TEXT_ENCODE=3]="TEXT_ENCODE",p[p.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",p[p.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",p[p.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ye||(Ye={}));class Gt{static decode(e){const t=new Or(e),n=new Se,r=new Se,i=new Array;let s=Ye.ASCII_ENCODE;do if(s===Ye.ASCII_ENCODE)s=this.decodeAsciiSegment(t,n,r);else{switch(s){case Ye.C40_ENCODE:this.decodeC40Segment(t,n);break;case Ye.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case Ye.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case Ye.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case Ye.BASE256_ENCODE:this.decodeBase256Segment(t,n,i);break;default:throw new G}s=Ye.ASCII_ENCODE}while(s!==Ye.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new Sn(e,n.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let i=e.readBits(8);if(i===0)throw new G;if(i<=128)return r&&(i+=128),t.append(String.fromCharCode(i-1)),Ye.ASCII_ENCODE;if(i===129)return Ye.PAD_ENCODE;if(i<=229){const s=i-130;s<10&&t.append("0"),t.append(""+s)}else switch(i){case 230:return Ye.C40_ENCODE;case 231:return Ye.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:r=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return Ye.ANSIX12_ENCODE;case 239:return Ye.TEXT_ENCODE;case 240:return Ye.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new G;break}}while(e.available()>0);return Ye.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const r=[];let i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let a=0;a<3;a++){const o=r[a];switch(i){case 0:if(o<3)i=o+1;else if(o<this.C40_BASIC_SET_CHARS.length){const u=this.C40_BASIC_SET_CHARS[o];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else throw new G;break;case 1:n?(t.append(String.fromCharCode(o+128)),n=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const u=this.C40_SHIFT2_SET_CHARS[o];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(o){case 27:t.append("");break;case 30:n=!0;break;default:throw new G}i=0;break;case 3:n?(t.append(String.fromCharCode(o+224)),n=!1):t.append(String.fromCharCode(o+96)),i=0;break;default:throw new G}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let a=0;a<3;a++){const o=r[a];switch(i){case 0:if(o<3)i=o+1;else if(o<this.TEXT_BASIC_SET_CHARS.length){const u=this.TEXT_BASIC_SET_CHARS[o];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else throw new G;break;case 1:n?(t.append(String.fromCharCode(o+128)),n=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const u=this.TEXT_SHIFT2_SET_CHARS[o];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u)}else switch(o){case 27:t.append("");break;case 30:n=!0;break;default:throw new G}i=0;break;case 3:if(o<this.TEXT_SHIFT3_SET_CHARS.length){const u=this.TEXT_SHIFT3_SET_CHARS[o];n?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):t.append(u),i=0}else throw new G;break;default:throw new G}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(e.available()===8)return;const r=e.readBits(8);if(r===254)return;this.parseTwoBytes(r,e.readBits(8),n);for(let i=0;i<3;i++){const s=n[i];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new G;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,i=Math.floor(r/1600);n[0]=i,r-=i*1600,i=Math.floor(r/40),n[1]=i,n[2]=r-i*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let r=e.readBits(6);if(r===31){const i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(r&32)===0&&(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),r++);let s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),r++),s<0)throw new G;const a=new Uint8Array(s);for(let o=0;o<s;o++){if(e.available()<8)throw new G;a[o]=this.unrandomize255State(e.readBits(8),r++)}n.push(a);try{t.append(_e.decode(a,oe.ISO88591))}catch(o){throw new _t("Platform does not support required encoding: "+o.message)}}static unrandomize255State(e,t){const n=149*t%255+1,r=e-n;return r>=0?r:r+256}}Gt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Gt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Gt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Gt.TEXT_SHIFT2_SET_CHARS=Gt.C40_SHIFT2_SET_CHARS,Gt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Na{constructor(){this.rsDecoder=new Nn(Ae.DATA_MATRIX_FIELD_256)}decode(e){const t=new Mr(e),n=t.getVersion(),r=t.readCodewords(),i=Rr.getDataBlocks(r,n);let s=0;for(let u of i)s+=u.getNumDataCodewords();const a=new Uint8Array(s),o=i.length;for(let u=0;u<o;u++){const d=i[u],w=d.getCodewords(),m=d.getNumDataCodewords();this.correctErrors(w,m);for(let y=0;y<m;y++)a[y*o+u]=w[y]}return Gt.decode(a)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new W}for(let r=0;r<t;r++)e[r]=n[r]}}class Ge{constructor(e){this.image=e,this.rectangleDetector=new Pt(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new P;t=this.shiftToModuleCenter(t);const n=t[0],r=t[1],i=t[2],s=t[3];let a=this.transitionsBetween(n,s)+1,o=this.transitionsBetween(i,s)+1;(a&1)===1&&(a+=1),(o&1)===1&&(o+=1),4*a<7*o&&4*o<7*a&&(a=o=Math.max(a,o));let u=Ge.sampleGrid(this.image,n,r,i,s,a,o);return new Qn(u,[n,r,i,s])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),i=(t.getY()-e.getY())/(n+1);return new ee(e.getX()+r,e.getY()+i)}static moveAway(e,t,n){let r=e.getX(),i=e.getY();return r<t?r-=1:r+=1,i<n?i-=1:i+=1,new ee(r,i)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],i=e[2],s=this.transitionsBetween(t,n),a=this.transitionsBetween(n,r),o=this.transitionsBetween(r,i),u=this.transitionsBetween(i,t),d=s,w=[i,t,n,r];return d>a&&(d=a,w[0]=t,w[1]=n,w[2]=r,w[3]=i),d>o&&(d=o,w[0]=n,w[1]=r,w[2]=i,w[3]=t),d>u&&(w[0]=r,w[1]=i,w[2]=t,w[3]=n),w}detectSolid2(e){let t=e[0],n=e[1],r=e[2],i=e[3],s=this.transitionsBetween(t,i),a=Ge.shiftPoint(n,r,(s+1)*4),o=Ge.shiftPoint(r,n,(s+1)*4),u=this.transitionsBetween(a,t),d=this.transitionsBetween(o,i);return u<d?(e[0]=t,e[1]=n,e[2]=r,e[3]=i):(e[0]=n,e[1]=r,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],i=e[3],s=this.transitionsBetween(t,i),a=this.transitionsBetween(n,i),o=Ge.shiftPoint(t,n,(a+1)*4),u=Ge.shiftPoint(r,n,(s+1)*4);s=this.transitionsBetween(o,i),a=this.transitionsBetween(u,i);let d=new ee(i.getX()+(r.getX()-n.getX())/(s+1),i.getY()+(r.getY()-n.getY())/(s+1)),w=new ee(i.getX()+(t.getX()-n.getX())/(a+1),i.getY()+(t.getY()-n.getY())/(a+1));if(!this.isValid(d))return this.isValid(w)?w:null;if(!this.isValid(w))return d;let m=this.transitionsBetween(o,d)+this.transitionsBetween(u,d),y=this.transitionsBetween(o,w)+this.transitionsBetween(u,w);return m>y?d:w}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],i=e[3],s=this.transitionsBetween(t,i)+1,a=this.transitionsBetween(r,i)+1,o=Ge.shiftPoint(t,n,a*4),u=Ge.shiftPoint(r,n,s*4);s=this.transitionsBetween(o,i)+1,a=this.transitionsBetween(u,i)+1,(s&1)===1&&(s+=1),(a&1)===1&&(a+=1);let d=(t.getX()+n.getX()+r.getX()+i.getX())/4,w=(t.getY()+n.getY()+r.getY()+i.getY())/4;t=Ge.moveAway(t,d,w),n=Ge.moveAway(n,d,w),r=Ge.moveAway(r,d,w),i=Ge.moveAway(i,d,w);let m,y;return o=Ge.shiftPoint(t,n,a*4),o=Ge.shiftPoint(o,i,s*4),m=Ge.shiftPoint(n,t,a*4),m=Ge.shiftPoint(m,r,s*4),u=Ge.shiftPoint(r,i,a*4),u=Ge.shiftPoint(u,n,s*4),y=Ge.shiftPoint(i,r,a*4),y=Ge.shiftPoint(y,t,s*4),[o,m,u,y]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,i,s,a){return jt.getInstance().sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,t.getX(),t.getY(),i.getX(),i.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),a=Math.abs(s-r)>Math.abs(i-n);if(a){let T=n;n=r,r=T,T=i,i=s,s=T}let o=Math.abs(i-n),u=Math.abs(s-r),d=-o/2,w=r<s?1:-1,m=n<i?1:-1,y=0,_=this.image.get(a?r:n,a?n:r);for(let T=n,M=r;T!==i;T+=m){let D=this.image.get(a?M:T,a?T:M);if(D!==_&&(y++,_=D),d+=u,d>0){if(M===s)break;M+=w,d-=o}}return y}}class Wt{constructor(){this.decoder=new Na}decode(e,t=null){let n,r;if(t!=null&&t.has(pe.PURE_BARCODE)){const u=Wt.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(u),r=Wt.NO_POINTS}else{const u=new Ge(e.getBlackMatrix()).detect();n=this.decoder.decode(u.getBits()),r=u.getPoints()}const i=n.getRawBytes(),s=new ot(n.getText(),i,8*i.length,r,re.DATA_MATRIX,X.currentTimeMillis()),a=n.getByteSegments();a!=null&&s.putMetadata(Qe.BYTE_SEGMENTS,a);const o=n.getECLevel();return o!=null&&s.putMetadata(Qe.ERROR_CORRECTION_LEVEL,o),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new P;const r=this.moduleSize(t,e);let i=t[1];const s=n[1];let a=t[0];const u=(n[0]-a+1)/r,d=(s-i+1)/r;if(u<=0||d<=0)throw new P;const w=r/2;i+=w,a+=w;const m=new Ke(u,d);for(let y=0;y<d;y++){const _=i+y*r;for(let T=0;T<u;T++)e.get(a+T*r,_)&&m.set(T,y)}return m}static moduleSize(e,t){const n=t.getWidth();let r=e[0];const i=e[1];for(;r<n&&t.get(r,i);)r++;if(r===n)throw new P;const s=r-e[0];if(s===0)throw new P;return s}}Wt.NO_POINTS=[];class Ma extends Qt{constructor(e=500){super(new Wt,e)}}var pn;(function(p){p[p.L=0]="L",p[p.M=1]="M",p[p.Q=2]="Q",p[p.H=3]="H"})(pn||(pn={}));class De{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,De.FOR_BITS.set(n,this),De.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return De.L;case"M":return De.M;case"Q":return De.Q;case"H":return De.H;default:throw new N(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof De))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=De.FOR_BITS.size)throw new S;return De.FOR_BITS.get(e)}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.L=new De(pn.L,"L",1),De.M=new De(pn.M,"M",0),De.Q=new De(pn.Q,"Q",3),De.H=new De(pn.H,"H",2);class st{constructor(e){this.errorCorrectionLevel=De.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return U.bitCount(e^t)}static decodeFormatInformation(e,t){const n=st.doDecodeFormatInformation(e,t);return n!==null?n:st.doDecodeFormatInformation(e^st.FORMAT_INFO_MASK_QR,t^st.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;for(const i of st.FORMAT_INFO_DECODE_LOOKUP){const s=i[0];if(s===e||s===t)return new st(i[1]);let a=st.numBitsDiffering(e,s);a<n&&(r=i[1],n=a),e!==t&&(a=st.numBitsDiffering(t,s),a<n&&(r=i[1],n=a))}return n<=3?new st(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof st))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}st.FORMAT_INFO_MASK_QR=21522,st.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class R{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class A{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class te{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let r=0;const i=n[0].getECCodewordsPerBlock(),s=n[0].getECBlocks();for(const a of s)r+=a.getCount()*(a.getDataCodewords()+i);this.totalCodewords=r}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new G;try{return this.getVersionForNumber((e-17)/4)}catch{throw new G}}static getVersionForNumber(e){if(e<1||e>40)throw new S;return te.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let r=0;r<te.VERSION_DECODE_INFO.length;r++){const i=te.VERSION_DECODE_INFO[r];if(i===e)return te.getVersionForNumber(r+7);const s=st.numBitsDiffering(e,i);s<t&&(n=r+7,t=s)}return t<=3?te.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new Ke(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let r=0;r<n;r++){const i=this.alignmentPatternCenters[r]-2;for(let s=0;s<n;s++)r===0&&(s===0||s===n-1)||r===n-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,i,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}te.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),te.VERSIONS=[new te(1,new Int32Array(0),new R(7,new A(1,19)),new R(10,new A(1,16)),new R(13,new A(1,13)),new R(17,new A(1,9))),new te(2,Int32Array.from([6,18]),new R(10,new A(1,34)),new R(16,new A(1,28)),new R(22,new A(1,22)),new R(28,new A(1,16))),new te(3,Int32Array.from([6,22]),new R(15,new A(1,55)),new R(26,new A(1,44)),new R(18,new A(2,17)),new R(22,new A(2,13))),new te(4,Int32Array.from([6,26]),new R(20,new A(1,80)),new R(18,new A(2,32)),new R(26,new A(2,24)),new R(16,new A(4,9))),new te(5,Int32Array.from([6,30]),new R(26,new A(1,108)),new R(24,new A(2,43)),new R(18,new A(2,15),new A(2,16)),new R(22,new A(2,11),new A(2,12))),new te(6,Int32Array.from([6,34]),new R(18,new A(2,68)),new R(16,new A(4,27)),new R(24,new A(4,19)),new R(28,new A(4,15))),new te(7,Int32Array.from([6,22,38]),new R(20,new A(2,78)),new R(18,new A(4,31)),new R(18,new A(2,14),new A(4,15)),new R(26,new A(4,13),new A(1,14))),new te(8,Int32Array.from([6,24,42]),new R(24,new A(2,97)),new R(22,new A(2,38),new A(2,39)),new R(22,new A(4,18),new A(2,19)),new R(26,new A(4,14),new A(2,15))),new te(9,Int32Array.from([6,26,46]),new R(30,new A(2,116)),new R(22,new A(3,36),new A(2,37)),new R(20,new A(4,16),new A(4,17)),new R(24,new A(4,12),new A(4,13))),new te(10,Int32Array.from([6,28,50]),new R(18,new A(2,68),new A(2,69)),new R(26,new A(4,43),new A(1,44)),new R(24,new A(6,19),new A(2,20)),new R(28,new A(6,15),new A(2,16))),new te(11,Int32Array.from([6,30,54]),new R(20,new A(4,81)),new R(30,new A(1,50),new A(4,51)),new R(28,new A(4,22),new A(4,23)),new R(24,new A(3,12),new A(8,13))),new te(12,Int32Array.from([6,32,58]),new R(24,new A(2,92),new A(2,93)),new R(22,new A(6,36),new A(2,37)),new R(26,new A(4,20),new A(6,21)),new R(28,new A(7,14),new A(4,15))),new te(13,Int32Array.from([6,34,62]),new R(26,new A(4,107)),new R(22,new A(8,37),new A(1,38)),new R(24,new A(8,20),new A(4,21)),new R(22,new A(12,11),new A(4,12))),new te(14,Int32Array.from([6,26,46,66]),new R(30,new A(3,115),new A(1,116)),new R(24,new A(4,40),new A(5,41)),new R(20,new A(11,16),new A(5,17)),new R(24,new A(11,12),new A(5,13))),new te(15,Int32Array.from([6,26,48,70]),new R(22,new A(5,87),new A(1,88)),new R(24,new A(5,41),new A(5,42)),new R(30,new A(5,24),new A(7,25)),new R(24,new A(11,12),new A(7,13))),new te(16,Int32Array.from([6,26,50,74]),new R(24,new A(5,98),new A(1,99)),new R(28,new A(7,45),new A(3,46)),new R(24,new A(15,19),new A(2,20)),new R(30,new A(3,15),new A(13,16))),new te(17,Int32Array.from([6,30,54,78]),new R(28,new A(1,107),new A(5,108)),new R(28,new A(10,46),new A(1,47)),new R(28,new A(1,22),new A(15,23)),new R(28,new A(2,14),new A(17,15))),new te(18,Int32Array.from([6,30,56,82]),new R(30,new A(5,120),new A(1,121)),new R(26,new A(9,43),new A(4,44)),new R(28,new A(17,22),new A(1,23)),new R(28,new A(2,14),new A(19,15))),new te(19,Int32Array.from([6,30,58,86]),new R(28,new A(3,113),new A(4,114)),new R(26,new A(3,44),new A(11,45)),new R(26,new A(17,21),new A(4,22)),new R(26,new A(9,13),new A(16,14))),new te(20,Int32Array.from([6,34,62,90]),new R(28,new A(3,107),new A(5,108)),new R(26,new A(3,41),new A(13,42)),new R(30,new A(15,24),new A(5,25)),new R(28,new A(15,15),new A(10,16))),new te(21,Int32Array.from([6,28,50,72,94]),new R(28,new A(4,116),new A(4,117)),new R(26,new A(17,42)),new R(28,new A(17,22),new A(6,23)),new R(30,new A(19,16),new A(6,17))),new te(22,Int32Array.from([6,26,50,74,98]),new R(28,new A(2,111),new A(7,112)),new R(28,new A(17,46)),new R(30,new A(7,24),new A(16,25)),new R(24,new A(34,13))),new te(23,Int32Array.from([6,30,54,78,102]),new R(30,new A(4,121),new A(5,122)),new R(28,new A(4,47),new A(14,48)),new R(30,new A(11,24),new A(14,25)),new R(30,new A(16,15),new A(14,16))),new te(24,Int32Array.from([6,28,54,80,106]),new R(30,new A(6,117),new A(4,118)),new R(28,new A(6,45),new A(14,46)),new R(30,new A(11,24),new A(16,25)),new R(30,new A(30,16),new A(2,17))),new te(25,Int32Array.from([6,32,58,84,110]),new R(26,new A(8,106),new A(4,107)),new R(28,new A(8,47),new A(13,48)),new R(30,new A(7,24),new A(22,25)),new R(30,new A(22,15),new A(13,16))),new te(26,Int32Array.from([6,30,58,86,114]),new R(28,new A(10,114),new A(2,115)),new R(28,new A(19,46),new A(4,47)),new R(28,new A(28,22),new A(6,23)),new R(30,new A(33,16),new A(4,17))),new te(27,Int32Array.from([6,34,62,90,118]),new R(30,new A(8,122),new A(4,123)),new R(28,new A(22,45),new A(3,46)),new R(30,new A(8,23),new A(26,24)),new R(30,new A(12,15),new A(28,16))),new te(28,Int32Array.from([6,26,50,74,98,122]),new R(30,new A(3,117),new A(10,118)),new R(28,new A(3,45),new A(23,46)),new R(30,new A(4,24),new A(31,25)),new R(30,new A(11,15),new A(31,16))),new te(29,Int32Array.from([6,30,54,78,102,126]),new R(30,new A(7,116),new A(7,117)),new R(28,new A(21,45),new A(7,46)),new R(30,new A(1,23),new A(37,24)),new R(30,new A(19,15),new A(26,16))),new te(30,Int32Array.from([6,26,52,78,104,130]),new R(30,new A(5,115),new A(10,116)),new R(28,new A(19,47),new A(10,48)),new R(30,new A(15,24),new A(25,25)),new R(30,new A(23,15),new A(25,16))),new te(31,Int32Array.from([6,30,56,82,108,134]),new R(30,new A(13,115),new A(3,116)),new R(28,new A(2,46),new A(29,47)),new R(30,new A(42,24),new A(1,25)),new R(30,new A(23,15),new A(28,16))),new te(32,Int32Array.from([6,34,60,86,112,138]),new R(30,new A(17,115)),new R(28,new A(10,46),new A(23,47)),new R(30,new A(10,24),new A(35,25)),new R(30,new A(19,15),new A(35,16))),new te(33,Int32Array.from([6,30,58,86,114,142]),new R(30,new A(17,115),new A(1,116)),new R(28,new A(14,46),new A(21,47)),new R(30,new A(29,24),new A(19,25)),new R(30,new A(11,15),new A(46,16))),new te(34,Int32Array.from([6,34,62,90,118,146]),new R(30,new A(13,115),new A(6,116)),new R(28,new A(14,46),new A(23,47)),new R(30,new A(44,24),new A(7,25)),new R(30,new A(59,16),new A(1,17))),new te(35,Int32Array.from([6,30,54,78,102,126,150]),new R(30,new A(12,121),new A(7,122)),new R(28,new A(12,47),new A(26,48)),new R(30,new A(39,24),new A(14,25)),new R(30,new A(22,15),new A(41,16))),new te(36,Int32Array.from([6,24,50,76,102,128,154]),new R(30,new A(6,121),new A(14,122)),new R(28,new A(6,47),new A(34,48)),new R(30,new A(46,24),new A(10,25)),new R(30,new A(2,15),new A(64,16))),new te(37,Int32Array.from([6,28,54,80,106,132,158]),new R(30,new A(17,122),new A(4,123)),new R(28,new A(29,46),new A(14,47)),new R(30,new A(49,24),new A(10,25)),new R(30,new A(24,15),new A(46,16))),new te(38,Int32Array.from([6,32,58,84,110,136,162]),new R(30,new A(4,122),new A(18,123)),new R(28,new A(13,46),new A(32,47)),new R(30,new A(48,24),new A(14,25)),new R(30,new A(42,15),new A(32,16))),new te(39,Int32Array.from([6,26,54,82,110,138,166]),new R(30,new A(20,117),new A(4,118)),new R(28,new A(40,47),new A(7,48)),new R(30,new A(43,24),new A(22,25)),new R(30,new A(10,15),new A(67,16))),new te(40,Int32Array.from([6,30,58,86,114,142,170]),new R(30,new A(19,118),new A(6,119)),new R(28,new A(18,47),new A(31,48)),new R(30,new A(34,24),new A(34,25)),new R(30,new A(20,15),new A(61,16)))];var Je;(function(p){p[p.DATA_MASK_000=0]="DATA_MASK_000",p[p.DATA_MASK_001=1]="DATA_MASK_001",p[p.DATA_MASK_010=2]="DATA_MASK_010",p[p.DATA_MASK_011=3]="DATA_MASK_011",p[p.DATA_MASK_100=4]="DATA_MASK_100",p[p.DATA_MASK_101=5]="DATA_MASK_101",p[p.DATA_MASK_110=6]="DATA_MASK_110",p[p.DATA_MASK_111=7]="DATA_MASK_111"})(Je||(Je={}));class Ct{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}Ct.values=new Map([[Je.DATA_MASK_000,new Ct(Je.DATA_MASK_000,(p,e)=>(p+e&1)===0)],[Je.DATA_MASK_001,new Ct(Je.DATA_MASK_001,(p,e)=>(p&1)===0)],[Je.DATA_MASK_010,new Ct(Je.DATA_MASK_010,(p,e)=>e%3===0)],[Je.DATA_MASK_011,new Ct(Je.DATA_MASK_011,(p,e)=>(p+e)%3===0)],[Je.DATA_MASK_100,new Ct(Je.DATA_MASK_100,(p,e)=>(Math.floor(p/2)+Math.floor(e/3)&1)===0)],[Je.DATA_MASK_101,new Ct(Je.DATA_MASK_101,(p,e)=>p*e%6===0)],[Je.DATA_MASK_110,new Ct(Je.DATA_MASK_110,(p,e)=>p*e%6<3)],[Je.DATA_MASK_111,new Ct(Je.DATA_MASK_111,(p,e)=>(p+e+p*e%3&1)===0)]]);class Ra{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new G;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let n=0;const r=t-7;for(let i=t-1;i>=r;i--)n=this.copyBit(8,i,n);for(let i=t-8;i<t;i++)n=this.copyBit(i,8,n);if(this.parsedFormatInfo=st.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return te.getVersionForNumber(t);let n=0;const r=e-11;for(let s=5;s>=0;s--)for(let a=e-9;a>=r;a--)n=this.copyBit(a,s,n);let i=te.decodeVersionInformation(n);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;n=0;for(let s=5;s>=0;s--)for(let a=e-9;a>=r;a--)n=this.copyBit(s,a,n);if(i=te.decodeVersionInformation(n),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new G}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=Ct.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);const i=t.buildFunctionPattern();let s=!0;const a=new Uint8Array(t.getTotalCodewords());let o=0,u=0,d=0;for(let w=r-1;w>0;w-=2){w===6&&w--;for(let m=0;m<r;m++){const y=s?r-1-m:m;for(let _=0;_<2;_++)i.get(w-_,y)||(d++,u<<=1,this.bitMatrix.get(w-_,y)&&(u|=1),d===8&&(a[o++]=u,d=0,u=0))}s=!s}if(o!==t.getTotalCodewords())throw new G;return a}remask(){if(this.parsedFormatInfo===null)return;const e=Ct.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let r=t+1,i=e.getHeight();r<i;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class Dr{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new S;const r=t.getECBlocksForLevel(n);let i=0;const s=r.getECBlocks();for(const _ of s)i+=_.getCount();const a=new Array(i);let o=0;for(const _ of s)for(let T=0;T<_.getCount();T++){const M=_.getDataCodewords(),D=r.getECCodewordsPerBlock()+M;a[o++]=new Dr(M,new Uint8Array(D))}const u=a[0].codewords.length;let d=a.length-1;for(;d>=0&&a[d].codewords.length!==u;)d--;d++;const w=u-r.getECCodewordsPerBlock();let m=0;for(let _=0;_<w;_++)for(let T=0;T<o;T++)a[T].codewords[_]=e[m++];for(let _=d;_<o;_++)a[_].codewords[w]=e[m++];const y=a[0].codewords.length;for(let _=w;_<y;_++)for(let T=0;T<o;T++){const M=T<d?_:_+1;a[T].codewords[M]=e[m++]}return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Et;(function(p){p[p.TERMINATOR=0]="TERMINATOR",p[p.NUMERIC=1]="NUMERIC",p[p.ALPHANUMERIC=2]="ALPHANUMERIC",p[p.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",p[p.BYTE=4]="BYTE",p[p.ECI=5]="ECI",p[p.KANJI=6]="KANJI",p[p.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",p[p.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",p[p.HANZI=9]="HANZI"})(Et||(Et={}));class ne{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,ne.FOR_BITS.set(r,this),ne.FOR_VALUE.set(e,this)}static forBits(e){const t=ne.FOR_BITS.get(e);if(t===void 0)throw new S;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof ne))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}ne.FOR_BITS=new Map,ne.FOR_VALUE=new Map,ne.TERMINATOR=new ne(Et.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ne.NUMERIC=new ne(Et.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ne.ALPHANUMERIC=new ne(Et.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ne.STRUCTURED_APPEND=new ne(Et.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ne.BYTE=new ne(Et.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ne.ECI=new ne(Et.ECI,"ECI",Int32Array.from([0,0,0]),7),ne.KANJI=new ne(Et.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ne.FNC1_FIRST_POSITION=new ne(Et.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ne.FNC1_SECOND_POSITION=new ne(Et.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ne.HANZI=new ne(Et.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Le{static decode(e,t,n,r){const i=new Or(e);let s=new Se;const a=new Array;let o=-1,u=-1;try{let d=null,w=!1,m;do{if(i.available()<4)m=ne.TERMINATOR;else{const y=i.readBits(4);m=ne.forBits(y)}switch(m){case ne.TERMINATOR:break;case ne.FNC1_FIRST_POSITION:case ne.FNC1_SECOND_POSITION:w=!0;break;case ne.STRUCTURED_APPEND:if(i.available()<16)throw new G;o=i.readBits(8),u=i.readBits(8);break;case ne.ECI:const y=Le.parseECIValue(i);if(d=V.getCharacterSetECIByValue(y),d===null)throw new G;break;case ne.HANZI:const _=i.readBits(4),T=i.readBits(m.getCharacterCountBits(t));_===Le.GB2312_SUBSET&&Le.decodeHanziSegment(i,s,T);break;default:const M=i.readBits(m.getCharacterCountBits(t));switch(m){case ne.NUMERIC:Le.decodeNumericSegment(i,s,M);break;case ne.ALPHANUMERIC:Le.decodeAlphanumericSegment(i,s,M,w);break;case ne.BYTE:Le.decodeByteSegment(i,s,M,d,a,r);break;case ne.KANJI:Le.decodeKanjiSegment(i,s,M);break;default:throw new G}break}}while(m!==ne.TERMINATOR)}catch{throw new G}return new Sn(e,s.toString(),a.length===0?null:a,n===null?null:n.toString(),o,u)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new G;const r=new Uint8Array(2*n);let i=0;for(;n>0;){const s=e.readBits(13);let a=s/96<<8&4294967295|s%96;a<959?a+=41377:a+=42657,r[i]=a>>8&255,r[i+1]=a&255,i+=2,n--}try{t.append(_e.decode(r,oe.GB2312))}catch(s){throw new G(s)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new G;const r=new Uint8Array(2*n);let i=0;for(;n>0;){const s=e.readBits(13);let a=s/192<<8&4294967295|s%192;a<7936?a+=33088:a+=49472,r[i]=a>>8,r[i+1]=a,i+=2,n--}try{t.append(_e.decode(r,oe.SHIFT_JIS))}catch(s){throw new G(s)}}static decodeByteSegment(e,t,n,r,i,s){if(8*n>e.available())throw new G;const a=new Uint8Array(n);for(let u=0;u<n;u++)a[u]=e.readBits(8);let o;r===null?o=oe.guessEncoding(a,s):o=r.getName();try{t.append(_e.decode(a,o))}catch(u){throw new G(u)}i.push(a)}static toAlphaNumericChar(e){if(e>=Le.ALPHANUMERIC_CHARS.length)throw new G;return Le.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){const i=t.length();for(;n>1;){if(e.available()<11)throw new G;const s=e.readBits(11);t.append(Le.toAlphaNumericChar(Math.floor(s/45))),t.append(Le.toAlphaNumericChar(s%45)),n-=2}if(n===1){if(e.available()<6)throw new G;t.append(Le.toAlphaNumericChar(e.readBits(6)))}if(r)for(let s=i;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new G;const r=e.readBits(10);if(r>=1e3)throw new G;t.append(Le.toAlphaNumericChar(Math.floor(r/100))),t.append(Le.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(Le.toAlphaNumericChar(r%10)),n-=3}if(n===2){if(e.available()<7)throw new G;const r=e.readBits(7);if(r>=100)throw new G;t.append(Le.toAlphaNumericChar(Math.floor(r/10))),t.append(Le.toAlphaNumericChar(r%10))}else if(n===1){if(e.available()<4)throw new G;const r=e.readBits(4);if(r>=10)throw new G;t.append(Le.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){const n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new G}}Le.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Le.GB2312_SUBSET=1;class Ti{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Oa{constructor(){this.rsDecoder=new Nn(Ae.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(Ke.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new Ra(e);let r=null;try{return this.decodeBitMatrixParser(n,t)}catch(i){r=i}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const i=this.decodeBitMatrixParser(n,t);return i.setOther(new Ti(!0)),i}catch(i){throw r!==null?r:i}}decodeBitMatrixParser(e,t){const n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),s=Dr.getDataBlocks(i,n,r);let a=0;for(const d of s)a+=d.getNumDataCodewords();const o=new Uint8Array(a);let u=0;for(const d of s){const w=d.getCodewords(),m=d.getNumDataCodewords();this.correctErrors(w,m);for(let y=0;y<m;y++)o[u++]=w[y]}return Le.decode(o,n,r,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new W}for(let r=0;r<t;r++)e[r]=n[r]}}class kr extends ee{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=(this.getX()+t)/2,i=(this.getY()+e)/2,s=(this.estimatedModuleSize+n)/2;return new kr(r,i,s)}}class nr{constructor(e,t,n,r,i,s,a){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=i,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=this.width,r=e+n,i=this.startY+t/2,s=new Int32Array(3),a=this.image;for(let o=0;o<t;o++){const u=i+((o&1)===0?Math.floor((o+1)/2):-Math.floor((o+1)/2));s[0]=0,s[1]=0,s[2]=0;let d=e;for(;d<r&&!a.get(d,u);)d++;let w=0;for(;d<r;){if(a.get(d,u))if(w===1)s[1]++;else if(w===2){if(this.foundPatternCross(s)){const m=this.handlePossibleCenter(s,u,d);if(m!==null)return m}s[0]=s[2],s[1]=1,s[2]=0,w=1}else s[++w]++;else w===1&&w++,s[w]++;d++}if(this.foundPatternCross(s)){const m=this.handlePossibleCenter(s,u,r);if(m!==null)return m}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new P}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){const i=this.image,s=i.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;let o=e;for(;o>=0&&i.get(t,o)&&a[1]<=n;)a[1]++,o--;if(o<0||a[1]>n)return NaN;for(;o>=0&&!i.get(t,o)&&a[0]<=n;)a[0]++,o--;if(a[0]>n)return NaN;for(o=e+1;o<s&&i.get(t,o)&&a[1]<=n;)a[1]++,o++;if(o===s||a[1]>n)return NaN;for(;o<s&&!i.get(t,o)&&a[2]<=n;)a[2]++,o++;if(a[2]>n)return NaN;const u=a[0]+a[1]+a[2];return 5*Math.abs(u-r)>=2*r?NaN:this.foundPatternCross(a)?nr.centerFromEnd(a,o):NaN}handlePossibleCenter(e,t,n){const r=e[0]+e[1]+e[2],i=nr.centerFromEnd(e,n),s=this.crossCheckVertical(t,i,2*e[1],r);if(!isNaN(s)){const a=(e[0]+e[1]+e[2])/3;for(const u of this.possibleCenters)if(u.aboutEquals(a,s,i))return u.combineEstimate(s,i,a);const o=new kr(i,s,a);this.possibleCenters.push(o),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(o)}return null}}class Br extends ee{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,r===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const r=Math.abs(e-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=this.count+1,i=(this.count*this.getX()+t)/r,s=(this.count*this.getY()+e)/r,a=(this.count*this.estimatedModuleSize+n)/r;return new Br(i,s,a,r)}}class Da{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $e{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(pe.TRY_HARDER)!==void 0,n=e!=null&&e.get(pe.PURE_BARCODE)!==void 0,r=this.image,i=r.getHeight(),s=r.getWidth();let a=Math.floor(3*i/(4*$e.MAX_MODULES));(a<$e.MIN_SKIP||t)&&(a=$e.MIN_SKIP);let o=!1;const u=new Int32Array(5);for(let w=a-1;w<i&&!o;w+=a){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;let m=0;for(let y=0;y<s;y++)if(r.get(y,w))(m&1)===1&&m++,u[m]++;else if((m&1)===0)if(m===4)if($e.foundPatternCross(u)){if(this.handlePossibleCenter(u,w,y,n)===!0)if(a=2,this.hasSkipped===!0)o=this.haveMultiplyConfirmedCenters();else{const T=this.findRowSkip();T>u[2]&&(w+=T-u[2]-a,y=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,m=3;continue}m=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,m=3;else u[++m]++;else u[m]++;$e.foundPatternCross(u)&&this.handlePossibleCenter(u,w,s,n)===!0&&(a=u[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}const d=this.selectBestPatterns();return ee.orderBestPatterns(d),new Da(d)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const s=e[i];if(s===0)return!1;t+=s}if(t<7)return!1;const n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){const i=this.getCrossCheckStateCount();let s=0;const a=this.image;for(;e>=s&&t>=s&&a.get(t-s,e-s);)i[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!a.get(t-s,e-s)&&i[1]<=n;)i[1]++,s++;if(e<s||t<s||i[1]>n)return!1;for(;e>=s&&t>=s&&a.get(t-s,e-s)&&i[0]<=n;)i[0]++,s++;if(i[0]>n)return!1;const o=a.getHeight(),u=a.getWidth();for(s=1;e+s<o&&t+s<u&&a.get(t+s,e+s);)i[2]++,s++;if(e+s>=o||t+s>=u)return!1;for(;e+s<o&&t+s<u&&!a.get(t+s,e+s)&&i[3]<n;)i[3]++,s++;if(e+s>=o||t+s>=u||i[3]>=n)return!1;for(;e+s<o&&t+s<u&&a.get(t+s,e+s)&&i[4]<n;)i[4]++,s++;if(i[4]>=n)return!1;const d=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(d-r)<2*r&&$e.foundPatternCross(i)}crossCheckVertical(e,t,n,r){const i=this.image,s=i.getHeight(),a=this.getCrossCheckStateCount();let o=e;for(;o>=0&&i.get(t,o);)a[2]++,o--;if(o<0)return NaN;for(;o>=0&&!i.get(t,o)&&a[1]<=n;)a[1]++,o--;if(o<0||a[1]>n)return NaN;for(;o>=0&&i.get(t,o)&&a[0]<=n;)a[0]++,o--;if(a[0]>n)return NaN;for(o=e+1;o<s&&i.get(t,o);)a[2]++,o++;if(o===s)return NaN;for(;o<s&&!i.get(t,o)&&a[3]<n;)a[3]++,o++;if(o===s||a[3]>=n)return NaN;for(;o<s&&i.get(t,o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return NaN;const u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-r)>=2*r?NaN:$e.foundPatternCross(a)?$e.centerFromEnd(a,o):NaN}crossCheckHorizontal(e,t,n,r){const i=this.image,s=i.getWidth(),a=this.getCrossCheckStateCount();let o=e;for(;o>=0&&i.get(o,t);)a[2]++,o--;if(o<0)return NaN;for(;o>=0&&!i.get(o,t)&&a[1]<=n;)a[1]++,o--;if(o<0||a[1]>n)return NaN;for(;o>=0&&i.get(o,t)&&a[0]<=n;)a[0]++,o--;if(a[0]>n)return NaN;for(o=e+1;o<s&&i.get(o,t);)a[2]++,o++;if(o===s)return NaN;for(;o<s&&!i.get(o,t)&&a[3]<n;)a[3]++,o++;if(o===s||a[3]>=n)return NaN;for(;o<s&&i.get(o,t)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return NaN;const u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-r)>=r?NaN:$e.foundPatternCross(a)?$e.centerFromEnd(a,o):NaN}handlePossibleCenter(e,t,n,r){const i=e[0]+e[1]+e[2]+e[3]+e[4];let s=$e.centerFromEnd(e,n),a=this.crossCheckVertical(t,Math.floor(s),e[2],i);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],i),!isNaN(s)&&(!r||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],i)))){const o=i/7;let u=!1;const d=this.possibleCenters;for(let w=0,m=d.length;w<m;w++){const y=d[w];if(y.aboutEquals(o,a,s)){d[w]=y.combineEstimate(a,s,o),u=!0;break}}if(!u){const w=new Br(s,a,o);d.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const n of this.possibleCenters)if(n.getCount()>=$e.CENTER_QUORUM)if(t==null)t=n;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-n.getX())-Math.abs(t.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const s of this.possibleCenters)s.getCount()>=$e.CENTER_QUORUM&&(e++,t+=s.getEstimatedModuleSize());if(e<3)return!1;const r=t/n;let i=0;for(const s of this.possibleCenters)i+=Math.abs(s.getEstimatedModuleSize()-r);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new P;const t=this.possibleCenters;let n;if(e>3){let r=0,i=0;for(const o of this.possibleCenters){const u=o.getEstimatedModuleSize();r+=u,i+=u*u}n=r/e;let s=Math.sqrt(i/e-n*n);t.sort((o,u)=>{const d=Math.abs(u.getEstimatedModuleSize()-n),w=Math.abs(o.getEstimatedModuleSize()-n);return d<w?-1:d>w?1:0});const a=Math.max(.2*n,s);for(let o=0;o<t.length&&t.length>3;o++){const u=t[o];Math.abs(u.getEstimatedModuleSize()-n)>a&&(t.splice(o,1),o--)}}if(t.length>3){let r=0;for(const i of t)r+=i.getEstimatedModuleSize();n=r/t.length,t.sort((i,s)=>{if(s.getCount()===i.getCount()){const a=Math.abs(s.getEstimatedModuleSize()-n),o=Math.abs(i.getEstimatedModuleSize()-n);return a<o?1:a>o?-1:0}else return s.getCount()-i.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}$e.CENTER_QUORUM=2,$e.MIN_SKIP=3,$e.MAX_MODULES=57;class Rn{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(pe.NEED_RESULT_POINT_CALLBACK);const n=new $e(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),i=this.calculateModuleSize(t,n,r);if(i<1)throw new P("No pattern found in proccess finder.");const s=Rn.computeDimension(t,n,r,i),a=te.getProvisionalVersionForDimension(s),o=a.getDimensionForVersion()-7;let u=null;if(a.getAlignmentPatternCenters().length>0){const y=n.getX()-t.getX()+r.getX(),_=n.getY()-t.getY()+r.getY(),T=1-3/o,M=Math.floor(t.getX()+T*(y-t.getX())),D=Math.floor(t.getY()+T*(_-t.getY()));for(let z=4;z<=16;z<<=1)try{u=this.findAlignmentInRegion(i,M,D,z);break}catch(Z){if(!(Z instanceof P))throw Z}}const d=Rn.createTransform(t,n,r,u,s),w=Rn.sampleGrid(this.image,d,s);let m;return u===null?m=[r,t,n]:m=[r,t,n,u],new Qn(w,m)}static createTransform(e,t,n,r,i){const s=i-3.5;let a,o,u,d;return r!==null?(a=r.getX(),o=r.getY(),u=s-3,d=u):(a=t.getX()-e.getX()+n.getX(),o=t.getY()-e.getY()+n.getY(),u=s,d=s),yt.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,d,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),a,o,n.getX(),n.getY())}static sampleGrid(e,t,n){return jt.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){const i=me.round(ee.distance(e,t)/r),s=me.round(ee.distance(e,n)/r);let a=Math.floor((i+s)/2)+7;switch(a&3){case 0:a++;break;case 2:a--;break;case 3:throw new P("Dimensions could be not found.")}return a}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let i=this.sizeOfBlackWhiteBlackRun(e,t,n,r),s=1,a=e-(n-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);let o=Math.floor(t-(r-t)*s);return s=1,o<0?(s=t/(t-o),o=0):o>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(o-t),o=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,t,a,o),i-1}sizeOfBlackWhiteBlackRun(e,t,n,r){const i=Math.abs(r-t)>Math.abs(n-e);if(i){let y=e;e=t,t=y,y=n,n=r,r=y}const s=Math.abs(n-e),a=Math.abs(r-t);let o=-s/2;const u=e<n?1:-1,d=t<r?1:-1;let w=0;const m=n+u;for(let y=e,_=t;y!==m;y+=u){const T=i?_:y,M=i?y:_;if(w===1===this.image.get(T,M)){if(w===2)return me.distance(y,_,e,t);w++}if(o+=a,o>0){if(_===r)break;_+=d,o-=s}}return w===2?me.distance(n+u,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){const i=Math.floor(r*e),s=Math.max(0,t-i),a=Math.min(this.image.getWidth()-1,t+i);if(a-s<e*3)throw new P("Alignment top exceeds estimated module size.");const o=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-o<e*3)throw new P("Alignment bottom exceeds estimated module size.");return new nr(this.image,s,o,a-s,u-o,e,this.resultPointCallback).find()}}class Xt{constructor(){this.decoder=new Oa}getDecoder(){return this.decoder}decode(e,t){let n,r;if(t!=null&&t.get(pe.PURE_BARCODE)!==void 0){const o=Xt.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,t),r=Xt.NO_POINTS}else{const o=new Rn(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(o.getBits(),t),r=o.getPoints()}n.getOther()instanceof Ti&&n.getOther().applyMirroredCorrection(r);const i=new ot(n.getText(),n.getRawBytes(),void 0,r,re.QR_CODE,void 0),s=n.getByteSegments();s!==null&&i.putMetadata(Qe.BYTE_SEGMENTS,s);const a=n.getECLevel();return a!==null&&i.putMetadata(Qe.ERROR_CORRECTION_LEVEL,a),n.hasStructuredAppend()&&(i.putMetadata(Qe.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),i.putMetadata(Qe.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new P;const r=this.moduleSize(t,e);let i=t[1],s=n[1],a=t[0],o=n[0];if(a>=o||i>=s)throw new P;if(s-i!==o-a&&(o=a+(s-i),o>=e.getWidth()))throw new P;const u=Math.round((o-a+1)/r),d=Math.round((s-i+1)/r);if(u<=0||d<=0)throw new P;if(d!==u)throw new P;const w=Math.floor(r/2);i+=w,a+=w;const m=a+Math.floor((u-1)*r)-o;if(m>0){if(m>w)throw new P;a-=m}const y=i+Math.floor((d-1)*r)-s;if(y>0){if(y>w)throw new P;i-=y}const _=new Ke(u,d);for(let T=0;T<d;T++){const M=i+Math.floor(T*r);for(let D=0;D<u;D++)e.get(a+Math.floor(D*r),M)&&_.set(D,T)}return _}static moduleSize(e,t){const n=t.getHeight(),r=t.getWidth();let i=e[0],s=e[1],a=!0,o=0;for(;i<r&&s<n;){if(a!==t.get(i,s)){if(++o===5)break;a=!a}i++,s++}if(i===r||s===n)throw new P;return(i-e[0])/7}}Xt.NO_POINTS=new Array;class se{PDF417Common(){}static getBitCountSum(e){return me.sum(e)}static toIntArray(e){if(e==null||!e.length)return se.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const r of e)t[n++]=r;return t}static getCodeword(e){const t=j.binarySearch(se.SYMBOL_TABLE,e&262143);return t<0?-1:(se.CODEWORD_TABLE[t]-1)%se.NUMBER_OF_CODEWORDS}}se.NUMBER_OF_CODEWORDS=929,se.MAX_CODEWORDS_IN_BARCODE=se.NUMBER_OF_CODEWORDS-1,se.MIN_ROWS_IN_BARCODE=3,se.MAX_ROWS_IN_BARCODE=90,se.MODULES_IN_CODEWORD=17,se.MODULES_IN_STOP_PATTERN=18,se.BARS_IN_MODULE=8,se.EMPTY_INT_ARRAY=new Int32Array([]),se.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),se.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ka{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class de{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),i=de.detect(n,r);return i.length||(r=r.clone(),r.rotate180(),i=de.detect(n,r)),new ka(r,i)}static detect(e,t){const n=new Array;let r=0,i=0,s=!1;for(;r<t.getHeight();){const a=de.findVertices(t,r,i);if(a[0]==null&&a[3]==null){if(!s)break;s=!1,i=0;for(const o of n)o[1]!=null&&(r=Math.trunc(Math.max(r,o[1].getY()))),o[3]!=null&&(r=Math.max(r,Math.trunc(o[3].getY())));r+=de.ROW_STEP;continue}if(s=!0,n.push(a),!e)break;a[2]!=null?(i=Math.trunc(a[2].getX()),r=Math.trunc(a[2].getY())):(i=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY()))}return n}static findVertices(e,t,n){const r=e.getHeight(),i=e.getWidth(),s=new Array(8);return de.copyToResult(s,de.findRowsWithPattern(e,r,i,t,n,de.START_PATTERN),de.INDEXES_START_PATTERN),s[4]!=null&&(n=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),de.copyToResult(s,de.findRowsWithPattern(e,r,i,t,n,de.STOP_PATTERN),de.INDEXES_STOP_PATTERN),s}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,i,s){const a=new Array(4);let o=!1;const u=new Int32Array(s.length);for(;r<t;r+=de.ROW_STEP){let w=de.findGuardPattern(e,i,r,n,!1,s,u);if(w!=null){for(;r>0;){const m=de.findGuardPattern(e,i,--r,n,!1,s,u);if(m!=null)w=m;else{r++;break}}a[0]=new ee(w[0],r),a[1]=new ee(w[1],r),o=!0;break}}let d=r+1;if(o){let w=0,m=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);for(;d<t;d++){const y=de.findGuardPattern(e,m[0],d,n,!1,s,u);if(y!=null&&Math.abs(m[0]-y[0])<de.MAX_PATTERN_DRIFT&&Math.abs(m[1]-y[1])<de.MAX_PATTERN_DRIFT)m=y,w=0;else{if(w>de.SKIPPED_ROW_COUNT_MAX)break;w++}}d-=w+1,a[2]=new ee(m[0],d),a[3]=new ee(m[1],d)}return d-r<de.BARCODE_MIN_HEIGHT&&j.fill(a,null),a}static findGuardPattern(e,t,n,r,i,s,a){j.fillWithin(a,0,a.length,0);let o=t,u=0;for(;e.get(o,n)&&o>0&&u++<de.MAX_PIXEL_DRIFT;)o--;let d=o,w=0,m=s.length;for(let y=i;d<r;d++)if(e.get(d,n)!==y)a[w]++;else{if(w===m-1){if(de.patternMatchVariance(a,s,de.MAX_INDIVIDUAL_VARIANCE)<de.MAX_AVG_VARIANCE)return new Int32Array([o,d]);o+=a[0]+a[1],X.arraycopy(a,2,a,0,w-1),a[w-1]=0,a[w]=0,w--}else w++;a[w]=1,y=!y}return w===m-1&&de.patternMatchVariance(a,s,de.MAX_INDIVIDUAL_VARIANCE)<de.MAX_AVG_VARIANCE?new Int32Array([o,d-1]):null}static patternMatchVariance(e,t,n){let r=e.length,i=0,s=0;for(let u=0;u<r;u++)i+=e[u],s+=t[u];if(i<s)return 1/0;let a=i/s;n*=a;let o=0;for(let u=0;u<r;u++){let d=e[u],w=t[u]*a,m=d>w?d-w:w-d;if(m>n)return 1/0;o+=m}return o/i}}de.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),de.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),de.MAX_AVG_VARIANCE=.42,de.MAX_INDIVIDUAL_VARIANCE=.8,de.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),de.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),de.MAX_PIXEL_DRIFT=3,de.MAX_PATTERN_DRIFT=5,de.SKIPPED_ROW_COUNT_MAX=25,de.ROW_STEP=5,de.BARCODE_MIN_HEIGHT=10;class tt{constructor(e,t){if(t.length===0)throw new S;this.field=e;let n=t.length;if(n>1&&t[0]===0){let r=1;for(;r<n&&t[r]===0;)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),X.arraycopy(t,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let r=0;for(let i of this.coefficients)r=this.field.add(r,i);return r}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let s=t;t=n,n=s}let r=new Int32Array(n.length),i=n.length-t.length;X.arraycopy(n,0,r,0,i);for(let s=i;s<n.length;s++)r[s]=this.field.add(t[s-i],n[s]);return new tt(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof tt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new tt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,s=new Int32Array(n+i-1);for(let a=0;a<n;a++){let o=t[a];for(let u=0;u<i;u++)s[a+u]=this.field.add(s[a+u],this.field.multiply(o,r[u]))}return new tt(this.field,s)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new tt(this.field,t)}multiplyScalar(e){if(e===0)return new tt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new tt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new S;if(t===0)return new tt(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new tt(this.field,r)}toString(){let e=new Se;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Ba{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new S;return this.logTable[e]}inverse(e){if(e===0)throw new Kn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Pr extends Ba{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let r=0;r<e-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new tt(this,new Int32Array([0])),this.one=new tt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new S;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new tt(this,n)}}Pr.PDF417_GF=new Pr(se.NUMBER_OF_CODEWORDS,3);class Ni{constructor(){this.field=Pr.PDF417_GF}decode(e,t,n){let r=new tt(this.field,e),i=new Int32Array(t),s=!1;for(let _=t;_>0;_--){let T=r.evaluateAt(this.field.exp(_));i[t-_]=T,T!==0&&(s=!0)}if(!s)return 0;let a=this.field.getOne();if(n!=null)for(const _ of n){let T=this.field.exp(e.length-1-_),M=new tt(this.field,new Int32Array([this.field.subtract(0,T),1]));a=a.multiply(M)}let o=new tt(this.field,i),u=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),o,t),d=u[0],w=u[1],m=this.findErrorLocations(d),y=this.findErrorMagnitudes(w,d,m);for(let _=0;_<m.length;_++){let T=e.length-1-this.field.log(m[_]);if(T<0)throw W.getChecksumInstance();e[T]=this.field.subtract(e[T],y[_])}return m.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let m=e;e=t,t=m}let r=e,i=t,s=this.field.getZero(),a=this.field.getOne();for(;i.getDegree()>=Math.round(n/2);){let m=r,y=s;if(r=i,s=a,r.isZero())throw W.getChecksumInstance();i=m;let _=this.field.getZero(),T=r.getCoefficient(r.getDegree()),M=this.field.inverse(T);for(;i.getDegree()>=r.getDegree()&&!i.isZero();){let D=i.getDegree()-r.getDegree(),z=this.field.multiply(i.getCoefficient(i.getDegree()),M);_=_.add(this.field.buildMonomial(D,z)),i=i.subtract(r.multiplyByMonomial(D,z))}a=_.multiply(s).subtract(y).negative()}let o=a.getCoefficient(0);if(o===0)throw W.getChecksumInstance();let u=this.field.inverse(o),d=a.multiply(u),w=i.multiply(u);return[d,w]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let i=1;i<this.field.getSize()&&r<t;i++)e.evaluateAt(i)===0&&(n[r]=this.field.inverse(i),r++);if(r!==t)throw W.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),i=new Int32Array(r);for(let u=1;u<=r;u++)i[r-u]=this.field.multiply(u,t.getCoefficient(u));let s=new tt(this.field,i),a=n.length,o=new Int32Array(a);for(let u=0;u<a;u++){let d=this.field.inverse(n[u]),w=this.field.subtract(0,e.evaluateAt(d)),m=this.field.inverse(s.evaluateAt(d));o[u]=this.field.multiply(w,m)}return o}}class tn{constructor(e,t,n,r,i){e instanceof tn?this.constructor_2(e):this.constructor_1(e,t,n,r,i)}constructor_1(e,t,n,r,i){const s=t==null||n==null,a=r==null||i==null;if(s&&a)throw new P;s?(t=new ee(0,r.getY()),n=new ee(0,i.getY())):a&&(r=new ee(e.getWidth()-1,t.getY()),i=new ee(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new tn(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,i=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){let o=n?this.topLeft:this.topRight,u=Math.trunc(o.getY()-e);u<0&&(u=0);let d=new ee(o.getX(),u);n?r=d:s=d}if(t>0){let o=n?this.bottomLeft:this.bottomRight,u=Math.trunc(o.getY()+t);u>=this.image.getHeight()&&(u=this.image.getHeight()-1);let d=new ee(o.getX(),u);n?i=d:a=d}return new tn(this.image,r,i,s,a)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Pa{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class On{constructor(){this.buffer=""}static form(e,t){let n=-1;function r(s,a,o,u,d,w){if(s==="%%")return"%";if(t[++n]===void 0)return;s=u?parseInt(u.substr(1)):void 0;let m=d?parseInt(d.substr(1)):void 0,y;switch(w){case"s":y=t[n];break;case"c":y=t[n][0];break;case"f":y=parseFloat(t[n]).toFixed(s);break;case"p":y=parseFloat(t[n]).toPrecision(s);break;case"e":y=parseFloat(t[n]).toExponential(s);break;case"x":y=parseInt(t[n]).toString(m||16);break;case"d":y=parseFloat(parseInt(t[n],m||10).toPrecision(s)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(m);let _=parseInt(o),T=o&&o[0]+""=="0"?"0":" ";for(;y.length<_;)y=a!==void 0?y+T:T+y;return y}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,r)}format(e,...t){this.buffer+=On.form(e,t)}toString(){return this.buffer}}class Dn{constructor(e){this.boundingBox=new tn(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<Dn.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],t!=null)||(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new On;let t=0;for(const n of this.codewords){if(n==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue())}return e.toString()}}Dn.MAX_NEARBY_DISTANCE=5;class kn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,r]of this.values.entries()){const i={getKey:()=>n,getValue:()=>r};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return se.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Mi extends Dn{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=-1,u=1,d=0;for(let w=s;w<a;w++){if(t[w]==null)continue;let m=t[w],y=m.getRowNumber()-o;if(y===0)d++;else if(y===1)u=Math.max(u,d),d=1,o=m.getRowNumber();else if(y<0||m.getRowNumber()>=e.getRowCount()||y>w)t[w]=null;else{let _;u>2?_=(u-2)*y:_=y;let T=_>=w;for(let M=1;M<=_&&!T;M++)T=t[w-M]!=null;T?t[w]=null:(o=m.getRowNumber(),d=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(n!=null){let r=n.getRowNumber();if(r>=t.length)continue;t[r]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),o=-1;for(let u=i;u<s;u++){if(a[u]==null)continue;let d=a[u];d.setRowNumberAsRowIndicatorColumn();let w=d.getRowNumber()-o;w===0||(w===1?o=d.getRowNumber():d.getRowNumber()>=e.getRowCount()?a[u]=null:o=d.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new kn,n=new kn,r=new kn,i=new kn;for(let a of e){if(a==null)continue;a.setRowNumberAsRowIndicatorColumn();let o=a.getValue()%30,u=a.getRowNumber();switch(this._isLeft||(u+=2),u%3){case 0:n.setValue(o*3+1);break;case 1:i.setValue(o/3),r.setValue(o%3);break;case 2:t.setValue(o+1);break}}if(t.getValue().length===0||n.getValue().length===0||r.getValue().length===0||i.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<se.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>se.MAX_ROWS_IN_BARCODE)return null;let s=new Pa(t.getValue()[0],n.getValue()[0],r.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,s),s}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(e[n]==null)continue;let i=r.getValue()%30,s=r.getRowNumber();if(s>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:i*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(i/3)!==t.getErrorCorrectionLevel()||i%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:i+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bn{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=se.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let n=this.detectionResultColumns[t].getCodewords();for(let r=0;r<n.length;r++)n[r]!=null&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,n))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let r=1;r<=this.barcodeColumnCount;r++){let i=this.detectionResultColumns[r].getCodewords()[n];i!=null&&(i.setRowNumber(e[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),i=0;for(let s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){let a=this.detectionResultColumns[s].getCodewords()[n];a!=null&&(i=Bn.adjustRowNumberIfValid(r,i,a),a.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),i=0;for(let s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){let a=this.detectionResultColumns[s].getCodewords()[n];a!=null&&(i=Bn.adjustRowNumberIfValid(r,i,a),a.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],i=this.detectionResultColumns[e-1].getCodewords(),s=i;this.detectionResultColumns[e+1]!=null&&(s=this.detectionResultColumns[e+1].getCodewords());let a=new Array(14);a[2]=i[t],a[3]=s[t],t>0&&(a[0]=n[t-1],a[4]=i[t-1],a[5]=s[t-1]),t>1&&(a[8]=n[t-2],a[10]=i[t-2],a[11]=s[t-2]),t<n.length-1&&(a[1]=n[t+1],a[6]=i[t+1],a[7]=s[t+1]),t<n.length-2&&(a[9]=n[t+2],a[12]=i[t+2],a[13]=s[t+2]);for(let o of a)if(Bn.adjustRowNumber(r,o))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new On;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let r=0;r<this.barcodeColumnCount+2;r++){if(this.detectionResultColumns[r]==null){t.format("    |   ");continue}let i=this.detectionResultColumns[r].getCodewords()[n];if(i==null){t.format("    |   ");continue}t.format(" %3d|%3d",i.getRowNumber(),i.getValue())}t.format("%n")}return t.toString()}}class Pn{constructor(e,t,n,r){this.rowNumber=Pn.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Pn.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Pn.BARCODE_ROW_UNKNOWN=-1;class ft{static initialize(){for(let e=0;e<se.SYMBOL_TABLE.length;e++){let t=se.SYMBOL_TABLE[e],n=t&1;for(let r=0;r<se.BARS_IN_MODULE;r++){let i=0;for(;(t&1)===n;)i+=1,t>>=1;n=t&1,ft.RATIOS_TABLE[e]||(ft.RATIOS_TABLE[e]=new Array(se.BARS_IN_MODULE)),ft.RATIOS_TABLE[e][se.BARS_IN_MODULE-r-1]=Math.fround(i/se.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=ft.getDecodedCodewordValue(ft.sampleBitCounts(e));return t!==-1?t:ft.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=me.sum(e),n=new Int32Array(se.BARS_IN_MODULE),r=0,i=0;for(let s=0;s<se.MODULES_IN_CODEWORD;s++){let a=t/(2*se.MODULES_IN_CODEWORD)+s*t/se.MODULES_IN_CODEWORD;i+e[r]<=a&&(i+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=ft.getBitValue(e);return se.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=me.sum(e),n=new Array(se.BARS_IN_MODULE);if(t>1)for(let s=0;s<n.length;s++)n[s]=Math.fround(e[s]/t);let r=qn.MAX_VALUE,i=-1;this.bSymbolTableReady||ft.initialize();for(let s=0;s<ft.RATIOS_TABLE.length;s++){let a=0,o=ft.RATIOS_TABLE[s];for(let u=0;u<se.BARS_IN_MODULE;u++){let d=Math.fround(o[u]-n[u]);if(a+=Math.fround(d*d),a>=r)break}a<r&&(r=a,i=se.SYMBOL_TABLE[s])}return i}}ft.bSymbolTableReady=!1,ft.RATIOS_TABLE=new Array(se.SYMBOL_TABLE.length).map(p=>new Array(se.BARS_IN_MODULE));class Ri{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Oi{static parseLong(e,t=void 0){return parseInt(e,t)}}class Di extends C{}Di.kind="NullPointerException";class La{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new Di;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new Q;if(n===0)return;for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class Fa extends C{}class Ua extends La{constructor(e=32){if(super(),this.count=0,e<0)throw new S("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let n=this.buf.length<<1;if(n-e<0&&(n=e),n<0){if(e<0)throw new Fa;n=U.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,n)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new Q;this.ensureCapacity(this.count+n),X.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Te;(function(p){p[p.ALPHA=0]="ALPHA",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.PUNCT=3]="PUNCT",p[p.ALPHA_SHIFT=4]="ALPHA_SHIFT",p[p.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Te||(Te={}));function ki(){if(typeof window<"u")return window.BigInt||null;if(typeof ur<"u")return ur.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let rr;function zt(p){if(typeof rr>"u"&&(rr=ki()),rr===null)throw new Error("BigInt is not supported!");return rr(p)}function Va(){let p=[];p[0]=zt(1);let e=zt(900);p[1]=e;for(let t=2;t<16;t++)p[t]=p[t-1]*e;return p}class O{static decode(e,t){let n=new Se(""),r=V.ISO8859_1;n.enableDecoding(r);let i=1,s=e[i++],a=new Ri;for(;i<e[0];){switch(s){case O.TEXT_COMPACTION_MODE_LATCH:i=O.textCompaction(e,i,n);break;case O.BYTE_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:i=O.byteCompaction(s,e,r,i,n);break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case O.NUMERIC_COMPACTION_MODE_LATCH:i=O.numericCompaction(e,i,n);break;case O.ECI_CHARSET:V.getCharacterSetECIByValue(e[i++]);break;case O.ECI_GENERAL_PURPOSE:i+=2;break;case O.ECI_USER_DEFINED:i++;break;case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=O.decodeMacroBlock(e,i,a);break;case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:throw new G;default:i--,i=O.textCompaction(e,i,n);break}if(i<e.length)s=e[i++];else throw G.getFormatInstance()}if(n.length()===0)throw G.getFormatInstance();let o=new Sn(null,n.toString(),null,t);return o.setOther(a),o}static decodeMacroBlock(e,t,n){if(t+O.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw G.getFormatInstance();let r=new Int32Array(O.NUMBER_OF_SEQUENCE_CODEWORDS);for(let a=0;a<O.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)r[a]=e[t];n.setSegmentIndex(U.parseInt(O.decodeBase900toBase10(r,O.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new Se;t=O.textCompaction(e,t,i),n.setFileId(i.toString());let s=-1;for(e[t]===O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case O.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let a=new Se;t=O.textCompaction(e,t+1,a),n.setFileName(a.toString());break;case O.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let o=new Se;t=O.textCompaction(e,t+1,o),n.setSender(o.toString());break;case O.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let u=new Se;t=O.textCompaction(e,t+1,u),n.setAddressee(u.toString());break;case O.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let d=new Se;t=O.numericCompaction(e,t+1,d),n.setSegmentCount(U.parseInt(d.toString()));break;case O.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let w=new Se;t=O.numericCompaction(e,t+1,w),n.setTimestamp(Oi.parseLong(w.toString()));break;case O.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let m=new Se;t=O.numericCompaction(e,t+1,m),n.setChecksum(U.parseInt(m.toString()));break;case O.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let y=new Se;t=O.numericCompaction(e,t+1,y),n.setFileSize(Oi.parseLong(y.toString()));break;default:throw G.getFormatInstance()}break;case O.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(s!==-1){let a=t-s;n.isLastSegment()&&a--,n.setOptionalData(j.copyOfRange(e,s,s+a))}return t}static textCompaction(e,t,n){let r=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),s=0,a=!1;for(;t<e[0]&&!a;){let o=e[t++];if(o<O.TEXT_COMPACTION_MODE_LATCH)r[s]=o/30,r[s+1]=o%30,s+=2;else switch(o){case O.TEXT_COMPACTION_MODE_LATCH:r[s++]=O.TEXT_COMPACTION_MODE_LATCH;break;case O.BYTE_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.NUMERIC_COMPACTION_MODE_LATCH:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:t--,a=!0;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[s]=O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,o=e[t++],i[s]=o,s++;break}}return O.decodeTextCompaction(r,i,s,n),t}static decodeTextCompaction(e,t,n,r){let i=Te.ALPHA,s=Te.ALPHA,a=0;for(;a<n;){let o=e[a],u="";switch(i){case Te.ALPHA:if(o<26)u=String.fromCharCode(65+o);else switch(o){case 26:u=" ";break;case O.LL:i=Te.LOWER;break;case O.ML:i=Te.MIXED;break;case O.PS:s=i,i=Te.PUNCT_SHIFT;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case O.TEXT_COMPACTION_MODE_LATCH:i=Te.ALPHA;break}break;case Te.LOWER:if(o<26)u=String.fromCharCode(97+o);else switch(o){case 26:u=" ";break;case O.AS:s=i,i=Te.ALPHA_SHIFT;break;case O.ML:i=Te.MIXED;break;case O.PS:s=i,i=Te.PUNCT_SHIFT;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case O.TEXT_COMPACTION_MODE_LATCH:i=Te.ALPHA;break}break;case Te.MIXED:if(o<O.PL)u=O.MIXED_CHARS[o];else switch(o){case O.PL:i=Te.PUNCT;break;case 26:u=" ";break;case O.LL:i=Te.LOWER;break;case O.AL:i=Te.ALPHA;break;case O.PS:s=i,i=Te.PUNCT_SHIFT;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case O.TEXT_COMPACTION_MODE_LATCH:i=Te.ALPHA;break}break;case Te.PUNCT:if(o<O.PAL)u=O.PUNCT_CHARS[o];else switch(o){case O.PAL:i=Te.ALPHA;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case O.TEXT_COMPACTION_MODE_LATCH:i=Te.ALPHA;break}break;case Te.ALPHA_SHIFT:if(i=s,o<26)u=String.fromCharCode(65+o);else switch(o){case 26:u=" ";break;case O.TEXT_COMPACTION_MODE_LATCH:i=Te.ALPHA;break}break;case Te.PUNCT_SHIFT:if(i=s,o<O.PAL)u=O.PUNCT_CHARS[o];else switch(o){case O.PAL:i=Te.ALPHA;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[a]);break;case O.TEXT_COMPACTION_MODE_LATCH:i=Te.ALPHA;break}break}u!==""&&r.append(u),a++}}static byteCompaction(e,t,n,r,i){let s=new Ua,a=0,o=0,u=!1;switch(e){case O.BYTE_COMPACTION_MODE_LATCH:let d=new Int32Array(6),w=t[r++];for(;r<t[0]&&!u;)switch(d[a++]=w,o=900*o+w,w=t[r++],w){case O.TEXT_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH:case O.NUMERIC_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:r--,u=!0;break;default:if(a%5===0&&a>0){for(let m=0;m<6;++m)s.write(Number(zt(o)>>zt(8*(5-m))));o=0,a=0}break}r===t[0]&&w<O.TEXT_COMPACTION_MODE_LATCH&&(d[a++]=w);for(let m=0;m<a;m++)s.write(d[m]);break;case O.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!u;){let m=t[r++];if(m<O.TEXT_COMPACTION_MODE_LATCH)a++,o=900*o+m;else switch(m){case O.TEXT_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH:case O.NUMERIC_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:r--,u=!0;break}if(a%5===0&&a>0){for(let y=0;y<6;++y)s.write(Number(zt(o)>>zt(8*(5-y))));o=0,a=0}}break}return i.append(_e.decode(s.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,i=!1,s=new Int32Array(O.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let a=e[t++];if(t===e[0]&&(i=!0),a<O.TEXT_COMPACTION_MODE_LATCH)s[r]=a,r++;else switch(a){case O.TEXT_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(r%O.MAX_NUMERIC_CODEWORDS===0||a===O.NUMERIC_COMPACTION_MODE_LATCH||i)&&r>0&&(n.append(O.decodeBase900toBase10(s,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=zt(0);for(let i=0;i<t;i++)n+=O.EXP900[t-i-1]*zt(e[i]);let r=n.toString();if(r.charAt(0)!=="1")throw new G;return r.substring(1)}}O.TEXT_COMPACTION_MODE_LATCH=900,O.BYTE_COMPACTION_MODE_LATCH=901,O.NUMERIC_COMPACTION_MODE_LATCH=902,O.BYTE_COMPACTION_MODE_LATCH_6=924,O.ECI_USER_DEFINED=925,O.ECI_GENERAL_PURPOSE=926,O.ECI_CHARSET=927,O.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,O.MACRO_PDF417_TERMINATOR=922,O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,O.MAX_NUMERIC_CODEWORDS=15,O.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,O.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,O.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,O.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,O.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,O.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,O.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,O.PL=25,O.LL=27,O.AS=27,O.ML=28,O.AL=28,O.PS=29,O.PAL=29,O.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,O.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",O.EXP900=ki()?Va():[],O.NUMBER_OF_SEQUENCE_CODEWORDS=2;class fe{constructor(){}static decode(e,t,n,r,i,s,a){let o=new tn(e,t,n,r,i),u=null,d=null,w;for(let _=!0;;_=!1){if(t!=null&&(u=fe.getRowIndicatorColumn(e,o,t,!0,s,a)),r!=null&&(d=fe.getRowIndicatorColumn(e,o,r,!1,s,a)),w=fe.merge(u,d),w==null)throw P.getNotFoundInstance();let T=w.getBoundingBox();if(_&&T!=null&&(T.getMinY()<o.getMinY()||T.getMaxY()>o.getMaxY()))o=T;else break}w.setBoundingBox(o);let m=w.getBarcodeColumnCount()+1;w.setDetectionResultColumn(0,u),w.setDetectionResultColumn(m,d);let y=u!=null;for(let _=1;_<=m;_++){let T=y?_:m-_;if(w.getDetectionResultColumn(T)!==void 0)continue;let M;T===0||T===m?M=new Mi(o,T===0):M=new Dn(o),w.setDetectionResultColumn(T,M);let D=-1,z=D;for(let Z=o.getMinY();Z<=o.getMaxY();Z++){if(D=fe.getStartColumn(w,T,Z,y),D<0||D>o.getMaxX()){if(z===-1)continue;D=z}let H=fe.detectCodeword(e,o.getMinX(),o.getMaxX(),y,D,Z,s,a);H!=null&&(M.setCodeword(Z,H),z=D,s=Math.min(s,H.getWidth()),a=Math.max(a,H.getWidth()))}}return fe.createDecoderResult(w)}static merge(e,t){if(e==null&&t==null)return null;let n=fe.getBarcodeMetadata(e,t);if(n==null)return null;let r=tn.merge(fe.adjustBoundingBox(e),fe.adjustBoundingBox(t));return new Bn(n,r)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=fe.getMax(t),r=0;for(let a of t)if(r+=n-a,a>0)break;let i=e.getCodewords();for(let a=0;r>0&&i[a]==null;a++)r--;let s=0;for(let a=t.length-1;a>=0&&(s+=n-t[a],!(t[a]>0));a--);for(let a=i.length-1;s>0&&i[a]==null;a--)s--;return e.getBoundingBox().addMissingRows(r,s,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let r;return t==null||(r=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,i,s){let a=new Mi(t,r);for(let o=0;o<2;o++){let u=o===0?1:-1,d=Math.trunc(Math.trunc(n.getX()));for(let w=Math.trunc(Math.trunc(n.getY()));w<=t.getMaxY()&&w>=t.getMinY();w+=u){let m=fe.detectCodeword(e,0,e.getWidth(),r,d,w,i,s);m!=null&&(a.setCodeword(w,m),r?d=m.getStartX():d=m.getEndX())}}return a}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-fe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(r.length===0){if(i<1||i>se.MAX_CODEWORDS_IN_BARCODE)throw P.getNotFoundInstance();n.setValue(i)}else r[0]!==i&&n.setValue(i)}static createDecoderResult(e){let t=fe.createBarcodeMatrix(e);fe.adjustCodewordCount(e,t);let n=new Array,r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array;for(let o=0;o<e.getBarcodeRowCount();o++)for(let u=0;u<e.getBarcodeColumnCount();u++){let d=t[o][u+1].getValue(),w=o*e.getBarcodeColumnCount()+u;d.length===0?n.push(w):d.length===1?r[w]=d[0]:(s.push(w),i.push(d))}let a=new Array(i.length);for(let o=0;o<a.length;o++)a[o]=i[o];return fe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,se.toIntArray(n),se.toIntArray(s),a)}static createDecoderResultFromAmbiguousValues(e,t,n,r,i){let s=new Int32Array(r.length),a=100;for(;a-- >0;){for(let o=0;o<s.length;o++)t[r[o]]=i[o][s[o]];try{return fe.decodeCodewords(t,e,n)}catch(o){if(!(o instanceof W))throw o}if(s.length===0)throw W.getChecksumInstance();for(let o=0;o<s.length;o++)if(s[o]<i[o].length-1){s[o]++;break}else if(s[o]=0,o===s.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)t[r][i]=new kn;let n=0;for(let r of e.getDetectionResultColumns()){if(r!=null){for(let i of r.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=0){if(s>=t.length)continue;t[s][n].setValue(i.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let i=r?1:-1,s=null;if(fe.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodeword(n)),s!=null)return r?s.getEndX():s.getStartX();if(s=e.getDetectionResultColumn(t).getCodewordNearby(n),s!=null)return r?s.getStartX():s.getEndX();if(fe.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodewordNearby(n)),s!=null)return r?s.getEndX():s.getStartX();let a=0;for(;fe.isValidBarcodeColumn(e,t-i);){t-=i;for(let o of e.getDetectionResultColumn(t).getCodewords())if(o!=null)return(r?o.getEndX():o.getStartX())+i*a*(o.getEndX()-o.getStartX());a++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,i,s,a,o){i=fe.adjustCodewordStartColumn(e,t,n,r,i,s);let u=fe.getModuleBitCount(e,t,n,r,i,s);if(u==null)return null;let d,w=me.sum(u);if(r)d=i+w;else{for(let _=0;_<u.length/2;_++){let T=u[_];u[_]=u[u.length-1-_],u[u.length-1-_]=T}d=i,i=d-w}if(!fe.checkCodewordSkew(w,a,o))return null;let m=ft.getDecodedValue(u),y=se.getCodeword(m);return y===-1?null:new Pn(i,d,fe.getCodewordBucketNumber(m),y)}static getModuleBitCount(e,t,n,r,i,s){let a=i,o=new Int32Array(8),u=0,d=r?1:-1,w=r;for(;(r?a<n:a>=t)&&u<o.length;)e.get(a,s)===w?(o[u]++,a+=d):(u++,w=!w);return u===o.length||a===(r?n:t)&&u===o.length-1?o:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,i,s){let a=i,o=r?-1:1;for(let u=0;u<2;u++){for(;(r?a>=t:a<n)&&r===e.get(a,s);){if(Math.abs(i-a)>fe.CODEWORD_SKEW_SIZE)return i;a+=o}o=-o,r=!r}return a}static checkCodewordSkew(e,t,n){return t-fe.CODEWORD_SKEW_SIZE<=e&&e<=n+fe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw G.getFormatInstance();let r=1<<t+1,i=fe.correctErrors(e,n,r);fe.verifyCodewordCount(e,r);let s=O.decode(e,""+t);return s.setErrorsCorrected(i),s.setErasures(n.length),s}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+fe.MAX_ERRORS||n<0||n>fe.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return fe.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw G.getFormatInstance();let n=e[0];if(n>e.length)throw G.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw G.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((e&1)!==n&&(n=e&1,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return fe.getCodewordBucketNumber(fe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new On;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let r=0;r<e[n].length;r++){let i=e[n][r];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}fe.CODEWORD_SKEW_SIZE=2,fe.MAX_ERRORS=3,fe.MAX_EC_CODEWORDS=512,fe.errorCorrection=new Ni;class nt{decode(e,t=null){let n=nt.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw P.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return nt.decode(e,t,!0)}catch(n){throw n instanceof G||n instanceof W?P.getNotFoundInstance():n}}static decode(e,t,n){const r=new Array,i=de.detectMultiple(e,t,n);for(const s of i.getPoints()){const a=fe.decode(i.getBits(),s[4],s[5],s[6],s[7],nt.getMinCodewordWidth(s),nt.getMaxCodewordWidth(s)),o=new ot(a.getText(),a.getRawBytes(),void 0,s,re.PDF_417);o.putMetadata(Qe.ERROR_CORRECTION_LEVEL,a.getECLevel());const u=a.getOther();u!=null&&o.putMetadata(Qe.PDF417_EXTRA_METADATA,u),r.push(o)}return r.map(s=>s)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?U.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(nt.getMaxWidth(e[0],e[4]),nt.getMaxWidth(e[6],e[2])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN),Math.max(nt.getMaxWidth(e[1],e[5]),nt.getMaxWidth(e[7],e[3])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(nt.getMinWidth(e[0],e[4]),nt.getMinWidth(e[6],e[2])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN),Math.min(nt.getMinWidth(e[1],e[5]),nt.getMinWidth(e[7],e[3])*se.MODULES_IN_CODEWORD/se.MODULES_IN_STOP_PATTERN)))}reset(){}}class ir extends C{}ir.kind="ReaderException";class Bi{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!f(e)&&e.get(pe.TRY_HARDER)===!0,n=f(e)?null:e.get(pe.POSSIBLE_FORMATS),r=new Array;if(!f(n)){const i=n.some(s=>s===re.UPC_A||s===re.UPC_E||s===re.EAN_13||s===re.EAN_8||s===re.CODABAR||s===re.CODE_39||s===re.CODE_93||s===re.CODE_128||s===re.ITF||s===re.RSS_14||s===re.RSS_EXPANDED);i&&!t&&r.push(new xn(e,this.verbose)),n.includes(re.QR_CODE)&&r.push(new Xt),n.includes(re.DATA_MATRIX)&&r.push(new Wt),n.includes(re.AZTEC)&&r.push(new Jn),n.includes(re.PDF_417)&&r.push(new nt),i&&t&&r.push(new xn(e,this.verbose))}r.length===0&&(t||r.push(new xn(e,this.verbose)),r.push(new Xt),r.push(new Wt),r.push(new Jn),r.push(new nt),t&&r.push(new xn(e,this.verbose))),this.readers=r}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ir("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(n){if(n instanceof ir)continue}throw new P("No MultiFormat Readers were able to detect the code.")}}class ja extends Qt{constructor(e=null,t=500){const n=new Bi;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ha extends Qt{constructor(e=500){super(new nt,e)}}class Ga extends Qt{constructor(e=500){super(new Xt,e)}}var Lr;(function(p){p[p.ERROR_CORRECTION=0]="ERROR_CORRECTION",p[p.CHARACTER_SET=1]="CHARACTER_SET",p[p.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",p[p.MIN_SIZE=3]="MIN_SIZE",p[p.MAX_SIZE=4]="MAX_SIZE",p[p.MARGIN=5]="MARGIN",p[p.PDF417_COMPACT=6]="PDF417_COMPACT",p[p.PDF417_COMPACTION=7]="PDF417_COMPACTION",p[p.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",p[p.AZTEC_LAYERS=9]="AZTEC_LAYERS",p[p.QR_VERSION=10]="QR_VERSION"})(Lr||(Lr={}));var Ze=Lr;class Fr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ht(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const r=this.field;for(let i=t.length;i<=e;i++){const s=n.multiply(new ht(r,Int32Array.from([1,r.exp(i-1+r.getGeneratorBase())])));t.push(s),n=s}}return t[e]}encode(e,t){if(t===0)throw new S("No error correction bytes");const n=e.length-t;if(n<=0)throw new S("No data bytes provided");const r=this.buildGenerator(t),i=new Int32Array(n);X.arraycopy(e,0,i,0,n);let s=new ht(this.field,i);s=s.multiplyByMonomial(t,1);const o=s.divide(r)[1].getCoefficients(),u=t-o.length;for(let d=0;d<u;d++)e[n+d]=0;X.arraycopy(o,0,e,n+u,o.length)}}class Ve{constructor(){}static applyMaskPenaltyRule1(e){return Ve.applyMaskPenaltyRule1Internal(e,!0)+Ve.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let s=0;s<i-1;s++){const a=n[s];for(let o=0;o<r-1;o++){const u=a[o];u===a[o+1]&&u===n[s+1][o]&&u===n[s+1][o+1]&&t++}}return Ve.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let s=0;s<i;s++)for(let a=0;a<r;a++){const o=n[s];a+6<r&&o[a]===1&&o[a+1]===0&&o[a+2]===1&&o[a+3]===1&&o[a+4]===1&&o[a+5]===0&&o[a+6]===1&&(Ve.isWhiteHorizontal(o,a-4,a)||Ve.isWhiteHorizontal(o,a+7,a+11))&&t++,s+6<i&&n[s][a]===1&&n[s+1][a]===0&&n[s+2][a]===1&&n[s+3][a]===1&&n[s+4][a]===1&&n[s+5][a]===0&&n[s+6][a]===1&&(Ve.isWhiteVertical(n,a,s-4,s)||Ve.isWhiteVertical(n,a,s+7,s+11))&&t++}return t*Ve.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(e[r]===1)return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let i=n;i<r;i++)if(e[i][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o++){const u=n[o];for(let d=0;d<r;d++)u[d]===1&&t++}const s=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-s)*10/s)*Ve.N4}static getDataMaskBit(e,t,n){let r,i;switch(e){case 0:r=n+t&1;break;case 1:r=n&1;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:i=n*t,r=(i&1)+i%3;break;case 6:i=n*t,r=(i&1)+i%3&1;break;case 7:i=n*t,r=i%3+(n+t&1)&1;break;default:throw new S("Invalid mask pattern: "+e)}return r===0}static applyMaskPenaltyRule1Internal(e,t){let n=0;const r=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),s=e.getArray();for(let a=0;a<r;a++){let o=0,u=-1;for(let d=0;d<i;d++){const w=t?s[a][d]:s[d][a];w===u?o++:(o>=5&&(n+=Ve.N1+(o-5)),o=1,u=w)}o>=5&&(n+=Ve.N1+(o-5))}return n}}Ve.N1=3,Ve.N2=3,Ve.N3=40,Ve.N4=10;class sr{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)j.fill(t,e)}equals(e){if(!(e instanceof sr))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let n=0,r=this.height;n<r;++n){const i=this.bytes[n],s=t.bytes[n];for(let a=0,o=this.width;a<o;++a)if(i[a]!==s[a])return!1}return!0}toString(){const e=new Se;for(let t=0,n=this.height;t<n;++t){const r=this.bytes[t];for(let i=0,s=this.width;i<s;++i)switch(r[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class nn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Se;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<nn.NUM_MASK_PATTERNS}}nn.NUM_MASK_PATTERNS=8;class Me extends C{}Me.kind="WriterException";class ie{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,i){ie.clearMatrix(i),ie.embedBasicPatterns(n,i),ie.embedTypeInfo(t,r,i),ie.maybeEmbedVersionInfo(n,i),ie.embedDataBits(e,r,i)}static embedBasicPatterns(e,t){ie.embedPositionDetectionPatternsAndSeparators(t),ie.embedDarkDotAtLeftBottomCorner(t),ie.maybeEmbedPositionAdjustmentPatterns(e,t),ie.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const r=new Y;ie.makeTypeInfoBits(e,t,r);for(let i=0,s=r.getSize();i<s;++i){const a=r.get(r.getSize()-1-i),o=ie.TYPE_INFO_COORDINATES[i],u=o[0],d=o[1];if(n.setBoolean(u,d,a),i<8){const w=n.getWidth()-i-1;n.setBoolean(w,8,a)}else{const m=n.getHeight()-7+(i-8);n.setBoolean(8,m,a)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new Y;ie.makeVersionInfoBits(e,n);let r=17;for(let i=0;i<6;++i)for(let s=0;s<3;++s){const a=n.get(r);r--,t.setBoolean(i,t.getHeight()-11+s,a),t.setBoolean(t.getHeight()-11+s,i,a)}}static embedDataBits(e,t,n){let r=0,i=-1,s=n.getWidth()-1,a=n.getHeight()-1;for(;s>0;){for(s===6&&(s-=1);a>=0&&a<n.getHeight();){for(let o=0;o<2;++o){const u=s-o;if(!ie.isEmpty(n.get(u,a)))continue;let d;r<e.getSize()?(d=e.get(r),++r):d=!1,t!==255&&Ve.getDataMaskBit(t,u,a)&&(d=!d),n.setBoolean(u,a,d)}a+=i}i=-i,a+=i,s-=2}if(r!==e.getSize())throw new Me("Not all bits consumed: "+r+"/"+e.getSize())}static findMSBSet(e){return 32-U.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new S("0 polynomial");const n=ie.findMSBSet(t);for(e<<=n-1;ie.findMSBSet(e)>=n;)e^=t<<ie.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!nn.isValidMaskPattern(t))throw new Me("Invalid mask pattern");const r=e.getBits()<<3|t;n.appendBits(r,5);const i=ie.calculateBCHCode(r,ie.TYPE_INFO_POLY);n.appendBits(i,10);const s=new Y;if(s.appendBits(ie.TYPE_INFO_MASK_PATTERN,15),n.xor(s),n.getSize()!==15)throw new Me("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=ie.calculateBCHCode(e.getVersionNumber(),ie.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Me("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;ie.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),ie.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Me;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!ie.isEmpty(n.get(e+r,t)))throw new Me;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!ie.isEmpty(n.get(e,t+r)))throw new Me;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){const i=ie.POSITION_ADJUSTMENT_PATTERN[r];for(let s=0;s<5;++s)n.setNumber(e+s,t+r,i[s])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){const i=ie.POSITION_DETECTION_PATTERN[r];for(let s=0;s<7;++s)n.setNumber(e+s,t+r,i[s])}}static embedPositionDetectionPatternsAndSeparators(e){const t=ie.POSITION_DETECTION_PATTERN[0].length;ie.embedPositionDetectionPattern(0,0,e),ie.embedPositionDetectionPattern(e.getWidth()-t,0,e),ie.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;ie.embedHorizontalSeparationPattern(0,n-1,e),ie.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),ie.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const r=7;ie.embedVerticalSeparationPattern(r,0,e),ie.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),ie.embedVerticalSeparationPattern(r,e.getHeight()-r,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,r=ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let i=0,s=r.length;i!==s;i++){const a=r[i];if(a>=0)for(let o=0;o!==s;o++){const u=r[o];u>=0&&ie.isEmpty(t.get(u,a))&&ie.embedPositionAdjustmentPattern(u-2,a-2,t)}}}}ie.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ie.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ie.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ie.VERSION_INFO_POLY=7973,ie.TYPE_INFO_POLY=1335,ie.TYPE_INFO_MASK_PATTERN=21522;class Wa{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ke{constructor(){}static calculateMaskPenalty(e){return Ve.applyMaskPenaltyRule1(e)+Ve.applyMaskPenaltyRule2(e)+Ve.applyMaskPenaltyRule3(e)+Ve.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let r=ke.DEFAULT_BYTE_MODE_ENCODING;const i=n!==null&&n.get(Ze.CHARACTER_SET)!==void 0;i&&(r=n.get(Ze.CHARACTER_SET).toString());const s=this.chooseMode(e,r),a=new Y;if(s===ne.BYTE&&(i||ke.DEFAULT_BYTE_MODE_ENCODING!==r)){const Z=V.getCharacterSetECIByName(r);Z!==void 0&&this.appendECI(Z,a)}this.appendModeInfo(s,a);const o=new Y;this.appendBytes(e,s,o,r);let u;if(n!==null&&n.get(Ze.QR_VERSION)!==void 0){const Z=Number.parseInt(n.get(Ze.QR_VERSION).toString(),10);u=te.getVersionForNumber(Z);const H=this.calculateBitsNeeded(s,a,o,u);if(!this.willFit(H,u,t))throw new Me("Data too big for requested version")}else u=this.recommendVersion(t,s,a,o);const d=new Y;d.appendBitArray(a);const w=s===ne.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(w,u,s,d),d.appendBitArray(o);const m=u.getECBlocksForLevel(t),y=u.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(y,d);const _=this.interleaveWithECBytes(d,u.getTotalCodewords(),y,m.getNumBlocks()),T=new nn;T.setECLevel(t),T.setMode(s),T.setVersion(u);const M=u.getDimensionForVersion(),D=new sr(M,M),z=this.chooseMaskPattern(_,t,u,D);return T.setMaskPattern(z),ie.buildMatrix(_,t,u,z,D),T.setMatrix(D),T}static recommendVersion(e,t,n,r){const i=this.calculateBitsNeeded(t,n,r,te.getVersionForNumber(1)),s=this.chooseVersion(i,e),a=this.calculateBitsNeeded(t,n,r,s);return this.chooseVersion(a,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<ke.ALPHANUMERIC_TABLE.length?ke.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(V.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return ne.KANJI;let n=!1,r=!1;for(let i=0,s=e.length;i<s;++i){const a=e.charAt(i);if(ke.isDigit(a))n=!0;else if(this.getAlphanumericCode(a.charCodeAt(0))!==-1)r=!0;else return ne.BYTE}return r?ne.ALPHANUMERIC:n?ne.NUMERIC:ne.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=_e.encode(e,V.SJIS)}catch{return!1}const n=t.length;if(n%2!==0)return!1;for(let r=0;r<n;r+=2){const i=t[r]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let i=Number.MAX_SAFE_INTEGER,s=-1;for(let a=0;a<nn.NUM_MASK_PATTERNS;a++){ie.buildMatrix(e,t,n,a,r);let o=this.calculateMaskPenalty(r);o<i&&(i=o,s=a)}return s}static chooseVersion(e,t){for(let n=1;n<=40;n++){const r=te.getVersionForNumber(n);if(ke.willFit(e,r,t))return r}throw new Me("Data too big")}static willFit(e,t,n){const r=t.getTotalCodewords(),s=t.getECBlocksForLevel(n).getTotalECCodewords(),a=r-s,o=(e+7)/8;return a>=o}static terminateBits(e,t){const n=e*8;if(t.getSize()>n)throw new Me("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let s=0;s<4&&t.getSize()<n;++s)t.appendBit(!1);const r=t.getSize()&7;if(r>0)for(let s=r;s<8;s++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let s=0;s<i;++s)t.appendBits((s&1)===0?236:17,8);if(t.getSize()!==n)throw new Me("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,i,s){if(r>=n)throw new Me("Block ID too large");const a=e%n,o=n-a,u=Math.floor(e/n),d=u+1,w=Math.floor(t/n),m=w+1,y=u-w,_=d-m;if(y!==_)throw new Me("EC bytes mismatch");if(n!==o+a)throw new Me("RS blocks mismatch");if(e!==(w+y)*o+(m+_)*a)throw new Me("Total bytes mismatch");r<o?(i[0]=w,s[0]=y):(i[0]=m,s[0]=_)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new Me("Number of bits and data bytes does not match");let i=0,s=0,a=0;const o=new Array;for(let d=0;d<r;++d){const w=new Int32Array(1),m=new Int32Array(1);ke.getNumDataBytesAndNumECBytesForBlockID(t,n,r,d,w,m);const y=w[0],_=new Uint8Array(y);e.toBytes(8*i,_,0,y);const T=ke.generateECBytes(_,m[0]);o.push(new Wa(_,T)),s=Math.max(s,y),a=Math.max(a,T.length),i+=w[0]}if(n!==i)throw new Me("Data bytes does not match offset");const u=new Y;for(let d=0;d<s;++d)for(const w of o){const m=w.getDataBytes();d<m.length&&u.appendBits(m[d],8)}for(let d=0;d<a;++d)for(const w of o){const m=w.getErrorCorrectionBytes();d<m.length&&u.appendBits(m[d],8)}if(t!==u.getSizeInBytes())throw new Me("Interleaving error: "+t+" and "+u.getSizeInBytes()+" differ.");return u}static generateECBytes(e,t){const n=e.length,r=new Int32Array(n+t);for(let s=0;s<n;s++)r[s]=e[s]&255;new Fr(Ae.QR_CODE_FIELD_256).encode(r,t);const i=new Uint8Array(t);for(let s=0;s<t;s++)i[s]=r[n+s];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){const i=n.getCharacterCountBits(t);if(e>=1<<i)throw new Me(e+" is bigger than "+((1<<i)-1));r.appendBits(e,i)}static appendBytes(e,t,n,r){switch(t){case ne.NUMERIC:ke.appendNumericBytes(e,n);break;case ne.ALPHANUMERIC:ke.appendAlphanumericBytes(e,n);break;case ne.BYTE:ke.append8BitBytes(e,n,r);break;case ne.KANJI:ke.appendKanjiBytes(e,n);break;default:throw new Me("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=ke.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const i=ke.getDigit(e.charAt(r));if(r+2<n){const s=ke.getDigit(e.charAt(r+1)),a=ke.getDigit(e.charAt(r+2));t.appendBits(i*100+s*10+a,10),r+=3}else if(r+1<n){const s=ke.getDigit(e.charAt(r+1));t.appendBits(i*10+s,7),r+=2}else t.appendBits(i,4),r++}}static appendAlphanumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const i=ke.getAlphanumericCode(e.charCodeAt(r));if(i===-1)throw new Me;if(r+1<n){const s=ke.getAlphanumericCode(e.charCodeAt(r+1));if(s===-1)throw new Me;t.appendBits(i*45+s,11),r+=2}else t.appendBits(i,6),r++}}static append8BitBytes(e,t,n){let r;try{r=_e.encode(e,n)}catch(i){throw new Me(i)}for(let i=0,s=r.length;i!==s;i++){const a=r[i];t.appendBits(a,8)}}static appendKanjiBytes(e,t){let n;try{n=_e.encode(e,V.SJIS)}catch(i){throw new Me(i)}const r=n.length;for(let i=0;i<r;i+=2){const s=n[i]&255,a=n[i+1]&255,o=s<<8&4294967295|a;let u=-1;if(o>=33088&&o<=40956?u=o-33088:o>=57408&&o<=60351&&(u=o-49472),u===-1)throw new Me("Invalid byte sequence");const d=(u>>8)*192+(u&255);t.appendBits(d,13)}}static appendECI(e,t){t.appendBits(ne.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}ke.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ke.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class rn{write(e,t,n,r=null){if(e.length===0)throw new S("Found empty contents");if(t<0||n<0)throw new S("Requested dimensions are too small: "+t+"x"+n);let i=De.L,s=rn.QUIET_ZONE_SIZE;r!==null&&(r.get(Ze.ERROR_CORRECTION)!==void 0&&(i=De.fromString(r.get(Ze.ERROR_CORRECTION).toString())),r.get(Ze.MARGIN)!==void 0&&(s=Number.parseInt(r.get(Ze.MARGIN).toString(),10)));const a=ke.encode(e,i,r);return this.renderResult(a,t,n,s)}writeToDom(e,t,n,r,i=null){typeof e=="string"&&(e=document.querySelector(e));const s=this.write(t,n,r,i);e&&e.appendChild(s)}renderResult(e,t,n,r){const i=e.getMatrix();if(i===null)throw new _t;const s=i.getWidth(),a=i.getHeight(),o=s+r*2,u=a+r*2,d=Math.max(t,o),w=Math.max(n,u),m=Math.min(Math.floor(d/o),Math.floor(w/u)),y=Math.floor((d-s*m)/2),_=Math.floor((w-a*m)/2),T=this.createSVGElement(d,w);for(let M=0,D=_;M<a;M++,D+=m)for(let z=0,Z=y;z<s;z++,Z+=m)if(i.get(z,M)===1){const H=this.createSvgRectElement(Z,D,m,m);T.appendChild(H)}return T}createSVGElement(e,t){const n=document.createElementNS(rn.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,r){const i=document.createElementNS(rn.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",n.toString()),i.setAttributeNS(null,"width",r.toString()),i.setAttributeNS(null,"fill","#000000"),i}}rn.QUIET_ZONE_SIZE=4,rn.SVG_NS="http://www.w3.org/2000/svg";class wn{encode(e,t,n,r,i){if(e.length===0)throw new S("Found empty contents");if(t!==re.QR_CODE)throw new S("Can only encode QR_CODE, but got "+t);if(n<0||r<0)throw new S(`Requested dimensions are too small: ${n}x${r}`);let s=De.L,a=wn.QUIET_ZONE_SIZE;i!==null&&(i.get(Ze.ERROR_CORRECTION)!==void 0&&(s=De.fromString(i.get(Ze.ERROR_CORRECTION).toString())),i.get(Ze.MARGIN)!==void 0&&(a=Number.parseInt(i.get(Ze.MARGIN).toString(),10)));const o=ke.encode(e,s,i);return wn.renderResult(o,n,r,a)}static renderResult(e,t,n,r){const i=e.getMatrix();if(i===null)throw new _t;const s=i.getWidth(),a=i.getHeight(),o=s+r*2,u=a+r*2,d=Math.max(t,o),w=Math.max(n,u),m=Math.min(Math.floor(d/o),Math.floor(w/u)),y=Math.floor((d-s*m)/2),_=Math.floor((w-a*m)/2),T=new Ke(d,w);for(let M=0,D=_;M<a;M++,D+=m)for(let z=0,Z=y;z<s;z++,Z+=m)i.get(z,M)===1&&T.setRegion(Z,D,m,m);return T}}wn.QUIET_ZONE_SIZE=4;class Xa{encode(e,t,n,r,i){let s;switch(t){case re.QR_CODE:s=new wn;break;default:throw new S("No encoder available for format "+t)}return s.encode(e,t,n,r,i)}}class Mt extends _n{constructor(e,t,n,r,i,s,a,o){if(super(s,a),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=i,r+s>t||i+a>n)throw new S("Crop rectangle does not fit within image data.");o&&this.reverseHorizontal(s,a)}getRow(e,t){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return X.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,r=new Uint8ClampedArray(n);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return X.arraycopy(this.yuvData,i,r,0,n),r;for(let s=0;s<t;s++){const a=s*e;X.arraycopy(this.yuvData,i,r,a,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new Mt(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){const e=this.getWidth()/Mt.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Mt.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let s=0;s<t;s++){const a=s*e;for(let o=0;o<e;o++){const u=r[i+o*Mt.THUMBNAIL_SCALE_FACTOR]&255;n[a+o]=4278190080|u*65793}i+=this.dataWidth*Mt.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/Mt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let r=0,i=this.top*this.dataWidth+this.left;r<t;r++,i+=this.dataWidth){const s=i+e/2;for(let a=i,o=i+e-1;a<s;a++,o--){const u=n[a];n[a]=n[o],n[o]=u}}}invert(){return new Ut(this)}}Mt.THUMBNAIL_SCALE_FACTOR=2;class Ur extends _n{constructor(e,t,n,r,i,s,a){if(super(t,n),this.dataWidth=r,this.dataHeight=i,this.left=s,this.top=a,e.BYTES_PER_ELEMENT===4){const o=t*n,u=new Uint8ClampedArray(o);for(let d=0;d<o;d++){const w=e[d],m=w>>16&255,y=w>>7&510,_=w&255;u[d]=(m+y+_)/4&255}this.luminances=u}else this.luminances=e;if(r===void 0&&(this.dataWidth=t),i===void 0&&(this.dataHeight=n),s===void 0&&(this.left=0),a===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new S("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return X.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,r=new Uint8ClampedArray(n);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return X.arraycopy(this.luminances,i,r,0,n),r;for(let s=0;s<t;s++){const a=s*e;X.arraycopy(this.luminances,i,r,a,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new Ur(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Ut(this)}}class Pi extends V{static forName(e){return this.getCharacterSetECIByName(e)}}class Vr{}Vr.ISO_8859_1=V.ISO8859_1;class Li{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Fi{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class za{constructor(e){this.previous=e}getPrevious(){return this.previous}}class mn extends za{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new mn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new mn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+U.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class jr extends mn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new jr(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ya(p,e,t){return new jr(p,e,t)}function Ln(p,e,t){return new mn(p,e,t)}const Za=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yt=0,ar=1,At=2,Ui=3,Rt=4,Ka=new mn(null,0,0),Hr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function qa(p){for(let e of p)j.fill(e,-1);return p[Yt][Rt]=0,p[ar][Rt]=0,p[ar][Yt]=28,p[Ui][Rt]=0,p[At][Rt]=0,p[At][Yt]=15,p}const Vi=qa(j.createInt32Array(6,6));class Ot{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let s=Hr[this.mode][e];r=Ln(r,s&65535,s>>16),n+=s>>16}let i=e===At?4:5;return r=Ln(r,t,i),new Ot(r,e,0,n+i)}shiftAndAppend(e,t){let n=this.token,r=this.mode===At?4:5;return n=Ln(n,Vi[this.mode][e],r),n=Ln(n,t,5),new Ot(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===Rt||this.mode===At){let a=Hr[n][Yt];t=Ln(t,a&65535,a>>16),r+=a>>16,n=Yt}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new Ot(t,n,this.binaryShiftByteCount+1,r+i);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=Ya(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ot(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Hr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Ot.calculateBinaryShiftCost(e)-Ot.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;r!==null;r=r.getPrevious())t.unshift(r);let n=new Y;for(const r of t)r.appendTo(n,e);return n}toString(){return oe.format("%s bits=%d bytes=%d",Za[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Ot.INITIAL_STATE=new Ot(Ka,Yt,0,0);function Qa(p){const e=oe.getCharCode(" "),t=oe.getCharCode("."),n=oe.getCharCode(",");p[Yt][e]=1;const r=oe.getCharCode("Z"),i=oe.getCharCode("A");for(let m=i;m<=r;m++)p[Yt][m]=m-i+2;p[ar][e]=1;const s=oe.getCharCode("z"),a=oe.getCharCode("a");for(let m=a;m<=s;m++)p[ar][m]=m-a+2;p[At][e]=1;const o=oe.getCharCode("9"),u=oe.getCharCode("0");for(let m=u;m<=o;m++)p[At][m]=m-u+2;p[At][n]=12,p[At][t]=13;const d=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let m=0;m<d.length;m++)p[Ui][oe.getCharCode(d[m])]=m;const w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let m=0;m<w.length;m++)oe.getCharCode(w[m])>0&&(p[Rt][oe.getCharCode(w[m])]=m);return p}const Gr=Qa(j.createInt32Array(5,256));class Fn{constructor(e){this.text=e}encode(){const e=oe.getCharCode(" "),t=oe.getCharCode(`
`);let n=Fi.singletonList(Ot.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let s,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case oe.getCharCode("\r"):s=a===t?2:0;break;case oe.getCharCode("."):s=a===e?3:0;break;case oe.getCharCode(","):s=a===e?4:0;break;case oe.getCharCode(":"):s=a===e?5:0;break;default:s=0}s>0?(n=Fn.updateStateListForPair(n,i,s),i++):n=this.updateStateListForChar(n,i)}return Fi.min(n,(i,s)=>i.getBitCount()-s.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let r of e)this.updateStateForChar(r,t,n);return Fn.simplifyStates(n)}updateStateForChar(e,t,n){let r=this.text[t]&255,i=Gr[e.getMode()][r]>0,s=null;for(let a=0;a<=Rt;a++){let o=Gr[a][r];if(o>0){if(s==null&&(s=e.endBinaryShift(t)),!i||a===e.getMode()||a===At){const u=s.latchAndAppend(a,o);n.push(u)}if(!i&&Vi[e.getMode()][a]>=0){const u=s.shiftAndAppend(a,o);n.push(u)}}}if(e.getBinaryShiftByteCount()>0||Gr[e.getMode()][r]===0){let a=e.addBinaryShiftChar(t);n.push(a)}}static updateStateListForPair(e,t,n){const r=[];for(let i of e)this.updateStateForPair(i,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let i=e.endBinaryShift(t);if(r.push(i.latchAndAppend(Rt,n)),e.getMode()!==Rt&&r.push(i.shiftAndAppend(Rt,n)),n===3||n===4){let s=i.latchAndAppend(At,16-n).latchAndAppend(At,1);r.push(s)}if(e.getBinaryShiftByteCount()>0){let s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(s)}}static simplifyStates(e){let t=[];for(const n of e){let r=!0;for(const i of t){if(i.isBetterThanOrEqualTo(n)){r=!1;break}n.isBetterThanOrEqualTo(i)&&(t=t.filter(s=>s!==i))}r&&t.push(n)}return t}}class Ce{constructor(){}static encodeBytes(e){return Ce.encode(e,Ce.DEFAULT_EC_PERCENT,Ce.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r=new Fn(e).encode(),i=U.truncDivision(r.getSize()*t,100)+11,s=r.getSize()+i,a,o,u,d,w;if(n!==Ce.DEFAULT_AZTEC_LAYERS){if(a=n<0,o=Math.abs(n),o>(a?Ce.MAX_NB_BITS_COMPACT:Ce.MAX_NB_BITS))throw new S(oe.format("Illegal value %s for layers",n));u=Ce.totalBitsInLayer(o,a),d=Ce.WORD_SIZE[o];let H=u-u%d;if(w=Ce.stuffBits(r,d),w.getSize()+i>H)throw new S("Data to large for user specified layer");if(a&&w.getSize()>d*64)throw new S("Data to large for user specified layer")}else{d=0,w=null;for(let H=0;;H++){if(H>Ce.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(a=H<=3,o=a?H+1:H,u=Ce.totalBitsInLayer(o,a),s>u)continue;(w==null||d!==Ce.WORD_SIZE[o])&&(d=Ce.WORD_SIZE[o],w=Ce.stuffBits(r,d));let xe=u-u%d;if(!(a&&w.getSize()>d*64)&&w.getSize()+i<=xe)break}}let m=Ce.generateCheckWords(w,u,d),y=w.getSize()/d,_=Ce.generateModeMessage(a,o,y),T=(a?11:14)+o*4,M=new Int32Array(T),D;if(a){D=T;for(let H=0;H<M.length;H++)M[H]=H}else{D=T+1+2*U.truncDivision(U.truncDivision(T,2)-1,15);let H=U.truncDivision(T,2),xe=U.truncDivision(D,2);for(let ce=0;ce<H;ce++){let gt=ce+U.truncDivision(ce,15);M[H-ce-1]=xe-gt-1,M[H+ce]=xe+gt+1}}let z=new Ke(D);for(let H=0,xe=0;H<o;H++){let ce=(o-H)*4+(a?9:12);for(let gt=0;gt<ce;gt++){let bt=gt*2;for(let xt=0;xt<2;xt++)m.get(xe+bt+xt)&&z.set(M[H*2+xt],M[H*2+gt]),m.get(xe+ce*2+bt+xt)&&z.set(M[H*2+gt],M[T-1-H*2-xt]),m.get(xe+ce*4+bt+xt)&&z.set(M[T-1-H*2-xt],M[T-1-H*2-gt]),m.get(xe+ce*6+bt+xt)&&z.set(M[T-1-H*2-gt],M[H*2+xt])}xe+=ce*8}if(Ce.drawModeMessage(z,a,D,_),a)Ce.drawBullsEye(z,U.truncDivision(D,2),5);else{Ce.drawBullsEye(z,U.truncDivision(D,2),7);for(let H=0,xe=0;H<U.truncDivision(T,2)-1;H+=15,xe+=16)for(let ce=U.truncDivision(D,2)&1;ce<D;ce+=2)z.set(U.truncDivision(D,2)-xe,ce),z.set(U.truncDivision(D,2)+xe,ce),z.set(ce,U.truncDivision(D,2)-xe),z.set(ce,U.truncDivision(D,2)+xe)}let Z=new Li;return Z.setCompact(a),Z.setSize(D),Z.setLayers(o),Z.setCodeWords(y),Z.setMatrix(z),Z}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let i=t-r;i<=t+r;i++)e.set(i,t-r),e.set(i,t+r),e.set(t-r,i),e.set(t+r,i);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new Y;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=Ce.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=Ce.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let i=U.truncDivision(n,2);if(t)for(let s=0;s<7;s++){let a=i-3+s;r.get(s)&&e.set(a,i-5),r.get(s+7)&&e.set(i+5,a),r.get(20-s)&&e.set(a,i+5),r.get(27-s)&&e.set(i-5,a)}else for(let s=0;s<10;s++){let a=i-5+s+U.truncDivision(s,5);r.get(s)&&e.set(a,i-7),r.get(s+10)&&e.set(i+7,a),r.get(29-s)&&e.set(a,i+7),r.get(39-s)&&e.set(i-7,a)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,i=new Fr(Ce.getGF(n)),s=U.truncDivision(t,n),a=Ce.bitsToWords(e,n,s);i.encode(a,s-r);let o=t%n,u=new Y;u.appendBits(0,o);for(const d of Array.from(a))u.appendBits(d,n);return u}static bitsToWords(e,t,n){let r=new Int32Array(n),i,s;for(i=0,s=e.getSize()/t;i<s;i++){let a=0;for(let o=0;o<t;o++)a|=e.get(i*t+o)?1<<t-o-1:0;r[i]=a}return r}static getGF(e){switch(e){case 4:return Ae.AZTEC_PARAM;case 6:return Ae.AZTEC_DATA_6;case 8:return Ae.AZTEC_DATA_8;case 10:return Ae.AZTEC_DATA_10;case 12:return Ae.AZTEC_DATA_12;default:throw new S("Unsupported word size "+e)}}static stuffBits(e,t){let n=new Y,r=e.getSize(),i=(1<<t)-2;for(let s=0;s<r;s+=t){let a=0;for(let o=0;o<t;o++)(s+o>=r||e.get(s+o))&&(a|=1<<t-1-o);(a&i)===i?(n.appendBits(a&i,t),s--):(a&i)===0?(n.appendBits(a|1,t),s--):n.appendBits(a,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ce.DEFAULT_EC_PERCENT=33,Ce.DEFAULT_AZTEC_LAYERS=0,Ce.MAX_NB_BITS=32,Ce.MAX_NB_BITS_COMPACT=4,Ce.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class or{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,i){let s=Vr.ISO_8859_1,a=Ce.DEFAULT_EC_PERCENT,o=Ce.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(Ze.CHARACTER_SET)&&(s=Pi.forName(i.get(Ze.CHARACTER_SET).toString())),i.has(Ze.ERROR_CORRECTION)&&(a=U.parseInt(i.get(Ze.ERROR_CORRECTION).toString())),i.has(Ze.AZTEC_LAYERS)&&(o=U.parseInt(i.get(Ze.AZTEC_LAYERS).toString()))),or.encodeLayers(e,t,n,r,s,a,o)}static encodeLayers(e,t,n,r,i,s,a){if(t!==re.AZTEC)throw new S("Can only encode AZTEC, but got "+t);let o=Ce.encode(oe.getBytes(e,i),s,a);return or.renderResult(o,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(r==null)throw new _t;let i=r.getWidth(),s=r.getHeight(),a=Math.max(t,i),o=Math.max(n,s),u=Math.min(a/i,o/s),d=(a-i*u)/2,w=(o-s*u)/2,m=new Ke(a,o);for(let y=0,_=w;y<s;y++,_+=u)for(let T=0,M=d;T<i;T++,M+=u)r.get(T,y)&&m.setRegion(M,_,u,u);return m}}h.AbstractExpandedDecoder=Tr,h.ArgumentException=N,h.ArithmeticException=Kn,h.AztecCode=Li,h.AztecCodeReader=Jn,h.AztecCodeWriter=or,h.AztecDecoder=Oe,h.AztecDetector=Ii,h.AztecDetectorResult=Ai,h.AztecEncoder=Ce,h.AztecHighLevelEncoder=Fn,h.AztecPoint=lt,h.BarcodeFormat=re,h.Binarizer=q,h.BinaryBitmap=B,h.BitArray=Y,h.BitMatrix=Ke,h.BitSource=Or,h.BrowserAztecCodeReader=Ia,h.BrowserBarcodeReader=Ta,h.BrowserCodeReader=Qt,h.BrowserDatamatrixCodeReader=Ma,h.BrowserMultiFormatReader=ja,h.BrowserPDF417Reader=Ha,h.BrowserQRCodeReader=Ga,h.BrowserQRCodeSvgWriter=rn,h.CharacterSetECI=V,h.ChecksumException=W,h.Code128Reader=K,h.Code39Reader=ze,h.DataMatrixDecodedBitStreamParser=Gt,h.DataMatrixReader=Wt,h.DecodeHintType=pe,h.DecoderResult=Sn,h.DefaultGridSampler=yi,h.DetectorResult=Qn,h.EAN13Reader=Jt,h.EncodeHintType=Ze,h.Exception=C,h.FormatException=G,h.GenericGF=Ae,h.GenericGFPoly=ht,h.GlobalHistogramBinarizer=qe,h.GridSampler=br,h.GridSamplerInstance=jt,h.HTMLCanvasElementLuminanceSource=Vt,h.HybridBinarizer=ue,h.ITFReader=Ne,h.IllegalArgumentException=S,h.IllegalStateException=_t,h.InvertedLuminanceSource=Ut,h.LuminanceSource=_n,h.MathUtils=me,h.MultiFormatOneDReader=xn,h.MultiFormatReader=Bi,h.MultiFormatWriter=Xa,h.NotFoundException=P,h.OneDReader=Xe,h.PDF417DecodedBitStreamParser=O,h.PDF417DecoderErrorCorrection=Ni,h.PDF417Reader=nt,h.PDF417ResultMetadata=Ri,h.PerspectiveTransform=yt,h.PlanarYUVLuminanceSource=Mt,h.QRCodeByteMatrix=sr,h.QRCodeDataMask=Ct,h.QRCodeDecodedBitStreamParser=Le,h.QRCodeDecoderErrorCorrectionLevel=De,h.QRCodeDecoderFormatInformation=st,h.QRCodeEncoder=ke,h.QRCodeEncoderQRCode=nn,h.QRCodeMaskUtil=Ve,h.QRCodeMatrixUtil=ie,h.QRCodeMode=ne,h.QRCodeReader=Xt,h.QRCodeVersion=te,h.QRCodeWriter=wn,h.RGBLuminanceSource=Ur,h.RSS14Reader=Ue,h.RSSExpandedReader=F,h.ReaderException=ir,h.ReedSolomonDecoder=Nn,h.ReedSolomonEncoder=Fr,h.ReedSolomonException=un,h.Result=ot,h.ResultMetadataType=Qe,h.ResultPoint=ee,h.StringUtils=oe,h.UnsupportedOperationException=We,h.VideoInputDevice=Ei,h.WhiteRectangleDetector=Pt,h.WriterException=Me,h.ZXingArrays=j,h.ZXingCharset=Pi,h.ZXingInteger=U,h.ZXingStandardCharsets=Vr,h.ZXingStringBuilder=Se,h.ZXingStringEncoding=_e,h.ZXingSystem=X,h.createAbstractExpandedDecoder=Si,Object.defineProperty(h,"__esModule",{value:!0})}))})(jn,jn.exports)),jn.exports}var Be=wu();const mu=_o(Be),Cu=Wo({__proto__:null,default:mu},[Be]);var Rs=(function(){function l(c,h,f){if(this.formatMap=new Map([[$.QR_CODE,Be.BarcodeFormat.QR_CODE],[$.AZTEC,Be.BarcodeFormat.AZTEC],[$.CODABAR,Be.BarcodeFormat.CODABAR],[$.CODE_39,Be.BarcodeFormat.CODE_39],[$.CODE_93,Be.BarcodeFormat.CODE_93],[$.CODE_128,Be.BarcodeFormat.CODE_128],[$.DATA_MATRIX,Be.BarcodeFormat.DATA_MATRIX],[$.MAXICODE,Be.BarcodeFormat.MAXICODE],[$.ITF,Be.BarcodeFormat.ITF],[$.EAN_13,Be.BarcodeFormat.EAN_13],[$.EAN_8,Be.BarcodeFormat.EAN_8],[$.PDF_417,Be.BarcodeFormat.PDF_417],[$.RSS_14,Be.BarcodeFormat.RSS_14],[$.RSS_EXPANDED,Be.BarcodeFormat.RSS_EXPANDED],[$.UPC_A,Be.BarcodeFormat.UPC_A],[$.UPC_E,Be.BarcodeFormat.UPC_E],[$.UPC_EAN_EXTENSION,Be.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Cu)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=h,this.logger=f;var x=this.createZXingFormats(c),g=new Map;g.set(Be.DecodeHintType.POSSIBLE_FORMATS,x),g.set(Be.DecodeHintType.TRY_HARDER,!1),this.hints=g}return l.prototype.decodeAsync=function(c){var h=this;return new Promise(function(f,x){try{f(h.decode(c))}catch(g){x(g)}})},l.prototype.decode=function(c){var h=new Be.MultiFormatReader(this.verbose,this.hints),f=new Be.HTMLCanvasElementLuminanceSource(c),x=new Be.BinaryBitmap(new Be.HybridBinarizer(f)),g=h.decode(x);return{text:g.text,format:Ca.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},l.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(h,f,x){c.set(h,f)}),c},l.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},l.prototype.createZXingFormats=function(c){for(var h=[],f=0,x=c;f<x.length;f++){var g=x[f];this.formatMap.has(g)?h.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return h},l.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},l})(),Eu=function(l,c,h,f){function x(g){return g instanceof h?g:new h(function(E){E(g)})}return new(h||(h=Promise))(function(g,E){function v(N){try{C(f.next(N))}catch(S){E(S)}}function b(N){try{C(f.throw(N))}catch(S){E(S)}}function C(N){N.done?g(N.value):x(N.value).then(v,b)}C((f=f.apply(l,c||[])).next())})},Au=function(l,c){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,E;return E={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function v(C){return function(N){return b([C,N])}}function b(C){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(h=0)),h;)try{if(f=1,x&&(g=C[0]&2?x.return:C[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,C[1])).done)return g;switch(x=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,x=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){h.label=C[1];break}if(C[0]===6&&h.label<g[1]){h.label=g[1],g=C;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(C);break}g[2]&&h.ops.pop(),h.trys.pop();continue}C=c.call(l,h)}catch(N){C=[6,N],x=0}finally{f=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Os=(function(){function l(c,h,f){if(this.formatMap=new Map([[$.QR_CODE,"qr_code"],[$.AZTEC,"aztec"],[$.CODABAR,"codabar"],[$.CODE_39,"code_39"],[$.CODE_93,"code_93"],[$.CODE_128,"code_128"],[$.DATA_MATRIX,"data_matrix"],[$.ITF,"itf"],[$.EAN_13,"ean_13"],[$.EAN_8,"ean_8"],[$.PDF_417,"pdf417"],[$.UPC_A,"upc_a"],[$.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!l.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=h,this.logger=f;var x=this.createBarcodeDetectorFormats(c);if(this.detector=new BarcodeDetector(x),!this.detector)throw"BarcodeDetector detector not supported"}return l.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var c=new BarcodeDetector({formats:["qr_code"]});return typeof c<"u"},l.prototype.decodeAsync=function(c){return Eu(this,void 0,void 0,function(){var h,f;return Au(this,function(x){switch(x.label){case 0:return[4,this.detector.detect(c)];case 1:if(h=x.sent(),!h||h.length===0)throw"No barcode or QR code detected.";return f=this.selectLargestBarcode(h),[2,{text:f.rawValue,format:Ca.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}]}})})},l.prototype.selectLargestBarcode=function(c){for(var h=null,f=0,x=0,g=c;x<g.length;x++){var E=g[x],v=E.boundingBox.width*E.boundingBox.height;v>f&&(f=v,h=E)}if(!h)throw"No largest barcode found";return h},l.prototype.createBarcodeDetectorFormats=function(c){for(var h=[],f=0,x=c;f<x.length;f++){var g=x[f];this.formatMap.has(g)?h.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:h}},l.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},l.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(h,f,x){c.set(h,f)}),c},l.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},l})(),Ds=function(l,c,h,f){function x(g){return g instanceof h?g:new h(function(E){E(g)})}return new(h||(h=Promise))(function(g,E){function v(N){try{C(f.next(N))}catch(S){E(S)}}function b(N){try{C(f.throw(N))}catch(S){E(S)}}function C(N){N.done?g(N.value):x(N.value).then(v,b)}C((f=f.apply(l,c||[])).next())})},ks=function(l,c){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,E;return E={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function v(C){return function(N){return b([C,N])}}function b(C){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(h=0)),h;)try{if(f=1,x&&(g=C[0]&2?x.return:C[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,C[1])).done)return g;switch(x=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,x=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){h.label=C[1];break}if(C[0]===6&&h.label<g[1]){h.label=g[1],g=C;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(C);break}g[2]&&h.ops.pop(),h.trys.pop();continue}C=c.call(l,h)}catch(N){C=[6,N],x=0}finally{f=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},yu=(function(){function l(c,h,f,x){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=f,h&&Os.isSupported()?(this.primaryDecoder=new Os(c,f,x),this.secondaryDecoder=new Rs(c,f,x)):this.primaryDecoder=new Rs(c,f,x)}return l.prototype.decodeAsync=function(c){return Ds(this,void 0,void 0,function(){var h;return ks(this,function(f){switch(f.label){case 0:h=performance.now(),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(c)];case 2:return[2,f.sent()];case 3:return this.possiblyLogPerformance(h),[7];case 4:return[2]}})})},l.prototype.decodeRobustlyAsync=function(c){return Ds(this,void 0,void 0,function(){var h,f;return ks(this,function(x){switch(x.label){case 0:h=performance.now(),x.label=1;case 1:return x.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(c)];case 2:return[2,x.sent()];case 3:if(f=x.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(c)];throw f;case 4:return this.possiblyLogPerformance(h),[7];case 5:return[2]}})})},l.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},l.prototype.possiblyLogPerformance=function(c){if(this.verbose){var h=performance.now()-c;this.executionResults.push(h),this.executions++,this.possiblyFlushPerformanceReport()}},l.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var c=0,h=0,f=this.executionResults;h<f.length;h++){var x=f[h];c+=x}var g=c/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},l})(),Ci=(function(){var l=function(c,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,x){f.__proto__=x}||function(f,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(f[g]=x[g])},l(c,h)};return function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}})(),mr=function(l,c,h,f){function x(g){return g instanceof h?g:new h(function(E){E(g)})}return new(h||(h=Promise))(function(g,E){function v(N){try{C(f.next(N))}catch(S){E(S)}}function b(N){try{C(f.throw(N))}catch(S){E(S)}}function C(N){N.done?g(N.value):x(N.value).then(v,b)}C((f=f.apply(l,c||[])).next())})},Cr=function(l,c){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,E;return E={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function v(C){return function(N){return b([C,N])}}function b(C){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(h=0)),h;)try{if(f=1,x&&(g=C[0]&2?x.return:C[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,C[1])).done)return g;switch(x=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,x=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){h.label=C[1];break}if(C[0]===6&&h.label<g[1]){h.label=g[1],g=C;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(C);break}g[2]&&h.ops.pop(),h.trys.pop();continue}C=c.call(l,h)}catch(N){C=[6,N],x=0}finally{f=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Aa=(function(){function l(c,h){this.name=c,this.track=h}return l.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},l.prototype.apply=function(c){var h={};h[this.name]=c;var f={advanced:[h]};return this.track.applyConstraints(f)},l.prototype.value=function(){var c=this.track.getSettings();if(this.name in c){var h=c[this.name];return h}return null},l})(),Iu=(function(l){Ci(c,l);function c(h,f){return l.call(this,h,f)||this}return c.prototype.min=function(){return this.getCapabilities().min},c.prototype.max=function(){return this.getCapabilities().max},c.prototype.step=function(){return this.getCapabilities().step},c.prototype.apply=function(h){var f={};f[this.name]=h;var x={advanced:[f]};return this.track.applyConstraints(x)},c.prototype.getCapabilities=function(){this.failIfNotSupported();var h=this.track.getCapabilities(),f=h[this.name];return{min:f.min,max:f.max,step:f.step}},c.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},c})(Aa),bu=(function(l){Ci(c,l);function c(h){return l.call(this,"zoom",h)||this}return c})(Iu),vu=(function(l){Ci(c,l);function c(h){return l.call(this,"torch",h)||this}return c})(Aa),_u=(function(){function l(c){this.track=c}return l.prototype.zoomFeature=function(){return new bu(this.track)},l.prototype.torchFeature=function(){return new vu(this.track)},l})(),Su=(function(){function l(c,h,f){this.isClosed=!1,this.parentElement=c,this.mediaStream=h,this.callbacks=f,this.surface=this.createVideoElement(this.parentElement.clientWidth),c.append(this.surface)}return l.prototype.createVideoElement=function(c){var h=document.createElement("video");return h.style.width="".concat(c,"px"),h.style.display="block",h.muted=!0,h.setAttribute("muted","true"),h.playsInline=!0,h},l.prototype.setupSurface=function(){var c=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var h=function(){var f=c.surface.clientWidth,x=c.surface.clientHeight;c.callbacks.onRenderSurfaceReady(f,x),c.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.srcObject=this.mediaStream,this.surface.play()},l.create=function(c,h,f,x){return mr(this,void 0,void 0,function(){var g,E;return Cr(this,function(v){switch(v.label){case 0:return g=new l(c,h,x),f.aspectRatio?(E={aspectRatio:f.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:v.sent(),v.label=2;case 2:return g.setupSurface(),[2,g]}})})},l.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},l.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},l.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},l.prototype.resume=function(c){this.failIfClosed();var h=this,f=function(){setTimeout(c,200),h.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.play()},l.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},l.prototype.getSurface=function(){return this.failIfClosed(),this.surface},l.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},l.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},l.prototype.applyVideoConstraints=function(c){return mr(this,void 0,void 0,function(){return Cr(this,function(h){if("aspectRatio"in c)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(c)]})})},l.prototype.close=function(){if(this.isClosed)return Promise.resolve();var c=this;return new Promise(function(h,f){var x=c.mediaStream.getVideoTracks(),g=x.length,E=0;c.mediaStream.getVideoTracks().forEach(function(v){c.mediaStream.removeTrack(v),v.stop(),++E,E>=g&&(c.isClosed=!0,c.parentElement.removeChild(c.surface),h())})})},l.prototype.getCapabilities=function(){return new _u(this.getFirstTrackOrFail())},l})(),Tu=(function(){function l(c){this.mediaStream=c}return l.prototype.render=function(c,h,f){return mr(this,void 0,void 0,function(){return Cr(this,function(x){return[2,Su.create(c,this.mediaStream,h,f)]})})},l.create=function(c){return mr(this,void 0,void 0,function(){var h,f;return Cr(this,function(x){switch(x.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return h={audio:!1,video:c},[4,navigator.mediaDevices.getUserMedia(h)];case 1:return f=x.sent(),[2,new l(f)]}})})},l})(),Bs=function(l,c,h,f){function x(g){return g instanceof h?g:new h(function(E){E(g)})}return new(h||(h=Promise))(function(g,E){function v(N){try{C(f.next(N))}catch(S){E(S)}}function b(N){try{C(f.throw(N))}catch(S){E(S)}}function C(N){N.done?g(N.value):x(N.value).then(v,b)}C((f=f.apply(l,c||[])).next())})},Ps=function(l,c){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,E;return E={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function v(C){return function(N){return b([C,N])}}function b(C){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(h=0)),h;)try{if(f=1,x&&(g=C[0]&2?x.return:C[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,C[1])).done)return g;switch(x=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,x=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){h.label=C[1];break}if(C[0]===6&&h.label<g[1]){h.label=g[1],g=C;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(C);break}g[2]&&h.ops.pop(),h.trys.pop();continue}C=c.call(l,h)}catch(N){C=[6,N],x=0}finally{f=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Nu=(function(){function l(){}return l.failIfNotSupported=function(){return Bs(this,void 0,void 0,function(){return Ps(this,function(c){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new l]})})},l.prototype.create=function(c){return Bs(this,void 0,void 0,function(){return Ps(this,function(h){return[2,Tu.create(c)]})})},l})(),Mu=function(l,c,h,f){function x(g){return g instanceof h?g:new h(function(E){E(g)})}return new(h||(h=Promise))(function(g,E){function v(N){try{C(f.next(N))}catch(S){E(S)}}function b(N){try{C(f.throw(N))}catch(S){E(S)}}function C(N){N.done?g(N.value):x(N.value).then(v,b)}C((f=f.apply(l,c||[])).next())})},Ru=function(l,c){var h={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,x,g,E;return E={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function v(C){return function(N){return b([C,N])}}function b(C){if(f)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(h=0)),h;)try{if(f=1,x&&(g=C[0]&2?x.return:C[0]?x.throw||((g=x.return)&&g.call(x),0):x.next)&&!(g=g.call(x,C[1])).done)return g;switch(x=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return h.label++,{value:C[1],done:!1};case 5:h.label++,x=C[1],C=[0];continue;case 7:C=h.ops.pop(),h.trys.pop();continue;default:if(g=h.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){h=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){h.label=C[1];break}if(C[0]===6&&h.label<g[1]){h.label=g[1],g=C;break}if(g&&h.label<g[2]){h.label=g[2],h.ops.push(C);break}g[2]&&h.ops.pop(),h.trys.pop();continue}C=c.call(l,h)}catch(N){C=[6,N],x=0}finally{f=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Ou=(function(){function l(){}return l.retrieve=function(){if(navigator.mediaDevices)return l.getCamerasFromMediaDevices();var c=MediaStreamTrack;return MediaStreamTrack&&c.getSources?l.getCamerasFromMediaStreamTrack():l.rejectWithError()},l.rejectWithError=function(){var c=yn.unableToQuerySupportedDevices();return l.isHttpsOrLocalhost()||(c=yn.insecureContextCameraQueryError()),Promise.reject(c)},l.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var c=location.host.split(":")[0];return c==="127.0.0.1"||c==="localhost"},l.getCamerasFromMediaDevices=function(){return Mu(this,void 0,void 0,function(){var c,h,f,x,g,E,v;return Ru(this,function(b){switch(b.label){case 0:return c=function(C){for(var N=C.getVideoTracks(),S=0,B=N;S<B.length;S++){var W=B[S];W.enabled=!1,W.stop(),C.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return h=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(f=b.sent(),x=[],g=0,E=f;g<E.length;g++)v=E[g],v.kind==="videoinput"&&x.push({id:v.deviceId,label:v.label});return c(h),[2,x]}})})},l.getCamerasFromMediaStreamTrack=function(){return new Promise(function(c,h){var f=function(g){for(var E=[],v=0,b=g;v<b.length;v++){var C=b[v];C.kind==="video"&&E.push({id:C.id,label:C.label})}c(E)},x=MediaStreamTrack;x.getSources(f)})},l})(),je;(function(l){l[l.UNKNOWN=0]="UNKNOWN",l[l.NOT_STARTED=1]="NOT_STARTED",l[l.SCANNING=2]="SCANNING",l[l.PAUSED=3]="PAUSED"})(je||(je={}));var Du=(function(){function l(){this.state=je.NOT_STARTED,this.onGoingTransactionNewState=je.UNKNOWN}return l.prototype.directTransition=function(c){this.failIfTransitionOngoing(),this.validateTransition(c),this.state=c},l.prototype.startTransition=function(c){return this.failIfTransitionOngoing(),this.validateTransition(c),this.onGoingTransactionNewState=c,this},l.prototype.execute=function(){if(this.onGoingTransactionNewState===je.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var c=this.onGoingTransactionNewState;this.onGoingTransactionNewState=je.UNKNOWN,this.directTransition(c)},l.prototype.cancel=function(){if(this.onGoingTransactionNewState===je.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=je.UNKNOWN},l.prototype.getState=function(){return this.state},l.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==je.UNKNOWN)throw"Cannot transition to a new state, already under transition"},l.prototype.validateTransition=function(c){switch(this.state){case je.UNKNOWN:throw"Transition from unknown is not allowed";case je.NOT_STARTED:this.failIfNewStateIs(c,[je.PAUSED]);break;case je.SCANNING:break;case je.PAUSED:break}},l.prototype.failIfNewStateIs=function(c,h){for(var f=0,x=h;f<x.length;f++){var g=x[f];if(c===g)throw"Cannot transition from ".concat(this.state," to ").concat(c)}},l})(),ku=(function(){function l(c){this.stateManager=c}return l.prototype.startTransition=function(c){return this.stateManager.startTransition(c)},l.prototype.directTransition=function(c){this.stateManager.directTransition(c)},l.prototype.getState=function(){return this.stateManager.getState()},l.prototype.canScanFile=function(){return this.stateManager.getState()===je.NOT_STARTED},l.prototype.isScanning=function(){return this.stateManager.getState()!==je.NOT_STARTED},l.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===je.SCANNING},l.prototype.isPaused=function(){return this.stateManager.getState()===je.PAUSED},l})(),Bu=(function(){function l(){}return l.create=function(){return new ku(new Du)},l})(),Pu=(function(){var l=function(c,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,x){f.__proto__=x}||function(f,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(f[g]=x[g])},l(c,h)};return function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");l(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}})(),wt=(function(l){Pu(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.DEFAULT_WIDTH=300,c.DEFAULT_WIDTH_OFFSET=2,c.FILE_SCAN_MIN_HEIGHT=300,c.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,c.MIN_QR_BOX_SIZE=50,c.SHADED_LEFT=1,c.SHADED_RIGHT=2,c.SHADED_TOP=3,c.SHADED_BOTTOM=4,c.SHADED_REGION_ELEMENT_ID="qr-shaded-region",c.VERBOSE=!1,c.BORDER_SHADER_DEFAULT_COLOR="#ffffff",c.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",c})(fu),Lu=(function(){function l(c,h){this.logger=h,this.fps=wt.SCAN_DEFAULT_FPS,c?(c.fps&&(this.fps=c.fps),this.disableFlip=c.disableFlip===!0,this.qrbox=c.qrbox,this.aspectRatio=c.aspectRatio,this.videoConstraints=c.videoConstraints):this.disableFlip=wt.DEFAULT_DISABLE_FLIP}return l.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ea.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},l.prototype.isShadedBoxEnabled=function(){return!Lt(this.qrbox)},l.create=function(c,h){return new l(c,h)},l})(),Ls=(function(){function l(c,h){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.elementId=c,this.verbose=!1;var f;typeof h=="boolean"?this.verbose=h===!0:h&&(f=h,this.verbose=f.verbose===!0,f.experimentalFeatures),this.logger=new xu(this.verbose),this.qrcode=new yu(this.getSupportedFormats(h),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Bu.create()}return l.prototype.start=function(c,h,f,x){var g=this;if(!c)throw"cameraIdOrConfig is required";if(!f||typeof f!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;x?E=x:E=this.verbose?this.logger.log:function(){};var v=Lu.create(h,this.logger);this.clearElement();var b=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=b,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:wt.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var S=this,B=this.stateManagerProxy.startTransition(je.SCANNING);return new Promise(function(W,q){var X=C?v.videoConstraints:S.createVideoConstraints(c);if(!X){B.cancel(),q("videoConstraints should be defined");return}var Q={};(!C||v.aspectRatio)&&(Q.aspectRatio=v.aspectRatio);var he={onRenderSurfaceReady:function(j,U){S.setupUi(j,U,v),S.isScanning=!0,S.foreverScan(v,f,E)}};Nu.failIfNotSupported().then(function(j){j.create(X).then(function(U){return U.render(g.element,Q,he).then(function(Y){S.renderedCamera=Y,B.execute(),W(null)}).catch(function(Y){B.cancel(),q(Y)})}).catch(function(U){B.cancel(),q(yn.errorGettingUserMedia(U))})}).catch(function(j){B.cancel(),q(yn.cameraStreamingNotSupported())})})},l.prototype.pause=function(c){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(je.PAUSED),this.showPausedState(),(Lt(c)||c!==!0)&&(c=!1),c&&this.renderedCamera&&this.renderedCamera.pause()},l.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var c=this,h=function(){c.stateManagerProxy.directTransition(je.SCANNING),c.hidePausedState()};if(!this.renderedCamera.isPaused()){h();return}this.renderedCamera.resume(function(){h()})},l.prototype.getState=function(){return this.stateManagerProxy.getState()},l.prototype.stop=function(){var c=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var h=this.stateManagerProxy.startTransition(je.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=function(){if(c.element){var g=document.getElementById(wt.SHADED_REGION_ELEMENT_ID);g&&c.element.removeChild(g)}},x=this;return this.renderedCamera.close().then(function(){return x.renderedCamera=null,x.element&&(x.element.removeChild(x.canvasElement),x.canvasElement=null),f(),x.qrRegion&&(x.qrRegion=null),x.context&&(x.context=null),h.execute(),x.hidePausedState(),x.isScanning=!1,Promise.resolve()})},l.prototype.scanFile=function(c,h){return this.scanFileV2(c,h).then(function(f){return f.decodedText})},l.prototype.scanFileV2=function(c,h){var f=this;if(!c||!(c instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Lt(h)&&(h=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(x,g){f.possiblyCloseLastScanImageFile(),f.clearElement(),f.lastScanImageFile=URL.createObjectURL(c);var E=new Image;E.onload=function(){var v=E.width,b=E.height,C=document.getElementById(f.elementId),N=C.clientWidth?C.clientWidth:wt.DEFAULT_WIDTH,S=Math.max(C.clientHeight?C.clientHeight:b,wt.FILE_SCAN_MIN_HEIGHT),B=f.computeCanvasDrawConfig(v,b,N,S);if(h){var W=f.createCanvasElement(N,S,"qr-canvas-visible");W.style.display="inline-block",C.appendChild(W);var q=W.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=N,q.canvas.height=S,q.drawImage(E,0,0,v,b,B.x,B.y,B.width,B.height)}var X=wt.FILE_SCAN_HIDDEN_CANVAS_PADDING,Q=Math.max(E.width,B.width),he=Math.max(E.height,B.height),j=Q+2*X,U=he+2*X,Y=f.createCanvasElement(j,U);C.appendChild(Y);var Ee=Y.getContext("2d");if(!Ee)throw"Unable to get 2d context from canvas";Ee.canvas.width=j,Ee.canvas.height=U,Ee.drawImage(E,0,0,v,b,X,X,Q,he);try{f.qrcode.decodeRobustlyAsync(Y).then(function(pe){x(Ns.createFromQrcodeResult(pe))}).catch(g)}catch(pe){g("QR code parse error, error = ".concat(pe))}},E.onerror=g,E.onabort=g,E.onstalled=g,E.onsuspend=g,E.src=URL.createObjectURL(c)})},l.prototype.clear=function(){this.clearElement()},l.getCameras=function(){return Ou.retrieve()},l.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},l.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},l.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},l.prototype.applyVideoConstraints=function(c){if(c){if(!Ea.isMediaStreamConstraintsValid(c,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(c)},l.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},l.prototype.getSupportedFormats=function(c){var h=[$.QR_CODE,$.AZTEC,$.CODABAR,$.CODE_39,$.CODE_93,$.CODE_128,$.DATA_MATRIX,$.MAXICODE,$.ITF,$.EAN_13,$.EAN_8,$.PDF_417,$.RSS_14,$.RSS_EXPANDED,$.UPC_A,$.UPC_E,$.UPC_EAN_EXTENSION];if(!c||typeof c=="boolean"||!c.formatsToSupport)return h;if(!Array.isArray(c.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(c.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var f=[],x=0,g=c.formatsToSupport;x<g.length;x++){var E=g[x];du(E)?f.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(f.length===0)throw"None of formatsToSupport match supported values.";return f},l.prototype.getUseBarCodeDetectorIfSupported=function(c){if(Lt(c))return!0;if(!Lt(c.useBarCodeDetectorIfSupported))return c.useBarCodeDetectorIfSupported!==!1;if(Lt(c.experimentalFeatures))return!0;var h=c.experimentalFeatures;return Lt(h.useBarCodeDetectorIfSupported)?!0:h.useBarCodeDetectorIfSupported!==!1},l.prototype.validateQrboxSize=function(c,h,f){var x=this,g=f.qrbox;this.validateQrboxConfig(g);var E=this.toQrdimensions(c,h,g),v=function(C){if(C<wt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wt.MIN_QR_BOX_SIZE,"px.")},b=function(C){return C>c&&(x.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=c),C};v(E.width),v(E.height),E.width=b(E.width)},l.prototype.validateQrboxConfig=function(c){if(typeof c!="number"&&typeof c!="function"&&(c.width===void 0||c.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},l.prototype.toQrdimensions=function(c,h,f){if(typeof f=="number")return{width:f,height:f};if(typeof f=="function")try{return f(c,h)}catch(x){throw new Error("qrbox config was passed as a function but it failed with unknown error"+x)}return f},l.prototype.setupUi=function(c,h,f){f.isShadedBoxEnabled()&&this.validateQrboxSize(c,h,f);var x=Lt(f.qrbox)?{width:c,height:h}:f.qrbox;this.validateQrboxConfig(x);var g=this.toQrdimensions(c,h,x);g.height>h&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=f.isShadedBoxEnabled()&&g.height<=h,v={x:0,y:0,width:c,height:h},b=E?this.getShadedRegionBounds(c,h,g):v,C=this.createCanvasElement(b.width,b.height),N={willReadFrequently:!0},S=C.getContext("2d",N);S.canvas.width=b.width,S.canvas.height=b.height,this.element.append(C),E&&this.possiblyInsertShadingElement(this.element,c,h,g),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=S,this.canvasElement=C},l.prototype.createScannerPausedUiElement=function(c){var h=document.createElement("div");h.innerText=yn.scannerPaused(),h.style.display="none",h.style.position="absolute",h.style.top="0px",h.style.zIndex="1",h.style.background="rgba(9, 9, 9, 0.46)",h.style.color="#FFECEC",h.style.textAlign="center",h.style.width="100%",c.appendChild(h),this.scannerPausedUiElement=h},l.prototype.scanContext=function(c,h){var f=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(x){return c(x.text,Ns.createFromQrcodeResult(x)),f.possiblyUpdateShaders(!0),!0}).catch(function(x){f.possiblyUpdateShaders(!1);var g=yn.codeParseError(x);return h(g,gu.createFrom(g)),!1})},l.prototype.foreverScan=function(c,h,f){var x=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),E=g.videoWidth/g.clientWidth,v=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*E,C=this.qrRegion.height*v,N=this.qrRegion.x*E,S=this.qrRegion.y*v;this.context.drawImage(g,N,S,b,C,0,0,this.qrRegion.width,this.qrRegion.height);var B=function(){x.foreverScanTimeout=setTimeout(function(){x.foreverScan(c,h,f)},x.getTimeoutFps(c.fps))};this.scanContext(h,f).then(function(W){!W&&c.disableFlip!==!0?(x.context.translate(x.context.canvas.width,0),x.context.scale(-1,1),x.scanContext(h,f).finally(function(){B()})):B()}).catch(function(W){x.logger.logError("Error happend while scanning context",W),B()})}},l.prototype.createVideoConstraints=function(c){if(typeof c=="string")return{deviceId:{exact:c}};if(typeof c=="object"){var h="facingMode",f="deviceId",x={user:!0,environment:!0},g="exact",E=function(q){if(q in x)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(q,"'")},v=Object.keys(c);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var b=Object.keys(c)[0];if(b!==h&&b!==f)throw"Only '".concat(h,"' and '").concat(f,"' ")+" are supported for 'cameraIdOrConfig'";if(b===h){var C=c.facingMode;if(typeof C=="string"){if(E(C))return{facingMode:C}}else if(typeof C=="object")if(g in C){if(E(C["".concat(g)]))return{facingMode:{exact:C["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var N=typeof C;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var S=c.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(g in S)return{deviceId:{exact:S["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var B=typeof S;throw"Invalid type of 'deviceId' = ".concat(B)}}}var W=typeof c;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},l.prototype.computeCanvasDrawConfig=function(c,h,f,x){if(c<=f&&h<=x){var g=(f-c)/2,E=(x-h)/2;return{x:g,y:E,width:c,height:h}}else{var v=c,b=h;return c>f&&(h=f/c*h,c=f),h>x&&(c=x/h*c,h=x),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(b)+" to ".concat(c,"X").concat(h,".")),this.computeCanvasDrawConfig(c,h,f,x)}},l.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var c=document.getElementById(this.elementId);c&&(c.innerHTML="")},l.prototype.possiblyUpdateShaders=function(c){this.qrMatch!==c&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(h){h.style.backgroundColor=c?wt.BORDER_SHADER_MATCH_COLOR:wt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=c)},l.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},l.prototype.createCanvasElement=function(c,h,f){var x=c,g=h,E=document.createElement("canvas");return E.style.width="".concat(x,"px"),E.style.height="".concat(g,"px"),E.style.display="none",E.id=Lt(f)?"qr-canvas":f,E},l.prototype.getShadedRegionBounds=function(c,h,f){if(f.width>c||f.height>h)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(c-f.width)/2,y:(h-f.height)/2,width:f.width,height:f.height}},l.prototype.possiblyInsertShadingElement=function(c,h,f,x){if(!(h-x.width<1||f-x.height<1)){var g=document.createElement("div");g.style.position="absolute";var E=(h-x.width)/2,v=(f-x.height)/2;if(g.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(wt.SHADED_REGION_ELEMENT_ID),h-x.width<11||f-x.height<11)this.hasBorderShaders=!1;else{var b=5,C=40;this.insertShaderBorders(g,C,b,-b,null,0,!0),this.insertShaderBorders(g,C,b,-b,null,0,!1),this.insertShaderBorders(g,C,b,null,-b,0,!0),this.insertShaderBorders(g,C,b,null,-b,0,!1),this.insertShaderBorders(g,b,C+b,-b,null,-b,!0),this.insertShaderBorders(g,b,C+b,null,-b,-b,!0),this.insertShaderBorders(g,b,C+b,-b,null,-b,!1),this.insertShaderBorders(g,b,C+b,null,-b,-b,!1),this.hasBorderShaders=!0}c.append(g)}},l.prototype.insertShaderBorders=function(c,h,f,x,g,E,v){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=wt.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(h,"px"),b.style.height="".concat(f,"px"),x!==null&&(b.style.top="".concat(x,"px")),g!==null&&(b.style.bottom="".concat(g,"px")),v?b.style.left="".concat(E,"px"):b.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),c.appendChild(b)},l.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},l.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},l.prototype.getTimeoutFps=function(c){return 1e3/c},l})(),Fs;(function(l){l[l.STATUS_DEFAULT=0]="STATUS_DEFAULT",l[l.STATUS_SUCCESS=1]="STATUS_SUCCESS",l[l.STATUS_WARNING=2]="STATUS_WARNING",l[l.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Fs||(Fs={}));function Fu({children:l,flex:c}){return I.jsx("div",{style:{flexGrow:c??1},children:l})}function Uu({onScan:l}){const[c,h]=k.useState(null),[f,x]=qs({key:"camId",defaultValue:null}),[g,E]=k.useState([]),[v,b]=k.useState(null),[C,N]=k.useState(!1),[S,B]=k.useState(!1),W=qo();let q="";k.useEffect(()=>{h(new Ls("reader")),Ls.getCameras().then(Y=>{Y?.length&&E(Y)})},[]),k.useEffect(()=>{f&&b(f.id)},[f]),k.useEffect(()=>{C&&W==="hidden"?(j(),B(!0)):S&&W==="visible"&&(he(),B(!1))},[W]);function X(Y){if(c?.pause(),Y===q){c?.resume();return}q=Y,l?.(Y),c?.resume()}function Q(Y){Y!="QR code parse error, error = NotFoundException: No MultiFormat Readers were able to detect the code."&&console.warn(`Code scan error = ${Y}`)}function he(){f&&c&&!C&&(c.start(f.id,{fps:10,qrbox:{width:250,height:250}},Y=>{X(Y)},Y=>{Q(Y)}).catch(Y=>{ri({title:be._({id:"bR26mb"}),message:Y,color:"red",icon:I.jsx(pr,{})})}),N(!0))}function j(){c&&C&&(c.stop().catch(Y=>{ri({title:be._({id:"fvJQqd"}),message:Y,color:"red",icon:I.jsx(pr,{})})}),N(!1))}k.useEffect(()=>{if(v===null||v===f?.id)return;const Y=g.find(Ee=>Ee.id===v);c&&C?c.stop().then(()=>{x(Y),c.start(Y.id,{fps:10,qrbox:{width:250,height:250}},Ee=>{X(Ee)},Ee=>{Q(Ee)})}):x(Y)},[v]);const U=be._({id:"/Snx90"});return I.jsxs(on,{gap:"xs",children:[I.jsxs(Dt,{gap:"xs",preventGrowOverflow:!0,children:[I.jsx(Fu,{children:I.jsx(So,{leftSection:I.jsx(ea,{}),value:v,onChange:b,data:g.map(Y=>({value:Y.id,label:Y.label}))})}),C?I.jsx(ni,{size:"lg",color:"red",onClick:j,title:be._({id:"yFRXH8"}),variant:"transparent",children:I.jsx(Yc,{})}):I.jsx(ni,{size:"lg",color:"green",onClick:he,title:be._({id:"m3BKG+"}),disabled:!f,variant:"transparent",children:I.jsx(Xc,{})})]}),C?I.jsx(Zi,{px:0,id:"reader",w:"100%",mih:"300px"}):I.jsx(Zi,{px:0,id:"reader",w:"100%",children:U})]})}const Us={KeyD:"",BracketRight:"",Digit6:""};function Vu({onScan:l,actionText:c=be._({id:"I+FvbD"})}){const[h,f]=k.useState(""),x=k.useCallback(g=>{g&&l(g),f("")},[l]);return I.jsx(I.Fragment,{children:I.jsxs(on,{gap:"sm",children:[I.jsx(To,{active:!0,children:I.jsx(No,{"data-autofocus":!0,"aria-label":"barcode-scan-keyboard-input",value:h,onChange:g=>{f(g.currentTarget?.value)},onKeyDown:g=>{let E=g.key;g.ctrlKey&&g.code in Us&&(g.preventDefault(),E=Us[g.code],f(v=>v+E)),(E==="Enter"||E==="")&&x(h)},placeholder:be._({id:"tEKWTi"}),leftSection:I.jsx(ta,{}),w:"100%"})}),I.jsx(bn,{fullWidth:!0,disabled:!h,onClick:()=>x(h),children:c})]})})}function ju({onScan:l,error:c,processing:h,label:f=be._({id:"ap+FLU"}),actionText:x=be._({id:"I+FvbD"})}){const g=Mo(),[E,v]=k.useState(""),[b,C]=qs({key:"barcodeInputType",defaultValue:"scanner"}),N=k.useMemo(()=>{const W=[];return g.isSet("BARCODE_WEBCAM_SUPPORT",!0)&&W.push({value:"camera",label:I.jsx(ti,{label:be._({id:"XlKBRl"}),children:I.jsx(ea,{size:20,"aria-label":"barcode-input-camera"})})}),W.push({value:"scanner",label:I.jsx(ti,{label:be._({id:"n89Qe0"}),children:I.jsx(Yl,{size:20,"aria-label":"barcode-input-scanner"})})}),W},[g]),S=k.useCallback(W=>{v(W),l(W)},[l]),B=k.useMemo(()=>{switch(b){case"camera":return I.jsx(Uu,{onScan:S});case"scanner":default:return I.jsx(Vu,{onScan:S})}},[b,l]);return I.jsx(sn,{children:I.jsxs(uu,{label:"BarcodeInput",children:[I.jsx(fi,{visible:h}),I.jsxs(on,{gap:"xs",children:[I.jsx(Ro,{"aria-label":"barcode-input-type",size:"xs",data:N,value:b||"scanner",onChange:C}),I.jsx(Ft,{}),I.jsxs(Ki,{p:"sm",withBorder:!0,children:[E?I.jsx(Wn,{color:"blue",title:be._({id:"Hl6ptb"}),p:"xs",children:E}):I.jsx(Wn,{color:"yellow",title:be._({id:"6bgCex"}),p:"xs",children:be._({id:"14K7ED"})}),c&&I.jsx(Wn,{color:"red",title:be._({id:"SlfejT"}),p:"xs",children:c})]}),I.jsx(Ki,{p:"sm",withBorder:!0,children:B})]})]})})}function Hu({title:l,opened:c,callback:h,modelType:f,onClose:x,onScanSuccess:g}){const E=xa();return I.jsxs(zs,{size:"lg",opened:c,onClose:x,title:I.jsx(si,{size:"xl",children:l??be._({id:"fNvDwV"})}),children:[I.jsx(Ft,{}),I.jsx(sn,{children:I.jsx(ya,{navigate:E,onClose:x,onScanSuccess:g,modelType:f,callback:h})})]})}function ya({callback:l,modelType:c,onClose:h,onScanSuccess:f,navigate:x}){const[g,E]=k.useState(""),[v,b]=k.useState(!1),C=ci(),N=k.useCallback(B=>{let W=!1;for(const q of Object.keys(Oo))if(!(c&&q!==c)&&B[q]?.pk&&C.hasViewPermission(q)){const X=Do(q,B[q].pk);h(),f?f(B.barcode,B):x(X),W=!0;break}W||E(be._({id:"sikegI"}))},[x,h,C,c]),S=k.useCallback(B=>{!B||B.length===0||(b(!0),E(""),Xn.post(ui(di.barcode),{barcode:B}).then(W=>{const q=W.data??{};if(l&&q.success&&W.status===200){if(c&&!q[c]?.pk){E(be._({id:"Uugjb4"}));return}l(B,q).then(X=>{X.success?(ko("barcode-scan"),ri({id:"barcode-scan",title:be._({id:"zzDlyQ"}),message:X.success,color:"green"}),h()):E(X.error??be._({id:"o+bBhg"}))}).finally(()=>{b(!1)})}else N(q),b(!1)}).catch(W=>{const q=Bo({error:W,field:"error",defaultMessage:be._({id:"I3WmwV"})});E(q)}).finally(()=>{b(!1)}))},[l,N,c,h]);return I.jsx(ju,{onScan:S,error:g,processing:v})}function hd({title:l,callback:c,modelType:h}){const[f,x]=k.useState(!1);return{open:k.useCallback(()=>{x(!0)},[]),dialog:I.jsx(Hu,{title:l,opened:f,callback:c,modelType:h,onClose:()=>x(!1)})}}function Gu({context:l,id:c,innerProps:h}){function f(){l.closeModal(c)}return I.jsx(ya,{navigate:h.navigate,onClose:f})}const Vs=({children:l})=>{const[c]=ci(an(h=>[h.user]));return c?.is_staff?l:I.jsx(le,{id:"cUyJH1"})};function Wu({context:l,id:c}){const[h]=hi(an(f=>[f.server]));return I.jsxs(on,{children:[I.jsx(Ft,{}),I.jsx(ge,{striped:!0,children:I.jsxs(ge.Tbody,{children:[I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"CIEoqM"})}),I.jsx(ge.Td,{children:h.instance})]}),I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"vmmz7E"})}),I.jsx(ge.Td,{children:h.version})]}),I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"8XeFzA"})}),I.jsx(ge.Td,{children:h.apiVersion})]}),I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"JY5Oyv"})}),I.jsx(ge.Td,{children:I.jsx(Vs,{children:h.database})})]}),h.debug_mode&&I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"gri3Lv"})}),I.jsx(ge.Td,{children:I.jsxs(Dt,{justify:"space-between",children:[I.jsx(An,{color:"red",children:"INVE-W4"}),I.jsx(le,{id:"odYm26"})]})})]}),h.docker_mode&&I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"QS5AeO"})}),I.jsx(ge.Td,{children:I.jsx(le,{id:"ld9FQa"})})]}),I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"16gOdK"})}),I.jsx(ge.Td,{children:I.jsx(An,{color:h.plugins_enabled?"green":"red",children:h.plugins_enabled?I.jsx(le,{id:"GhZ9CI"}):I.jsx(le,{id:"VL9bCO"})})})]}),I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"/yfSe4"})}),I.jsx(ge.Td,{children:I.jsx(Vs,{children:I.jsx(An,{color:h.system_health?"green":"yellow",children:h.system_health?I.jsx(le,{id:"yGS9cI"}):I.jsx(le,{id:"IueqnF"})})})})]}),h?.worker_running==!1&&I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"/XqPnF"})}),I.jsx(ge.Td,{children:I.jsxs(Dt,{justify:"space-between",children:[I.jsx(An,{color:"red",children:"INVE-W5"}),I.jsx(le,{id:"oc6O52"})]})})]}),!h?.email_configured&&I.jsxs(ge.Tr,{children:[I.jsx(ge.Td,{children:I.jsx(le,{id:"G5zNMX"})}),I.jsx(ge.Td,{children:I.jsxs(Dt,{justify:"space-between",children:[I.jsx(An,{color:"red",children:"INVE-W7"}),I.jsx(le,{id:"gGrqca"})]})})]})]})}),I.jsx(Ft,{}),I.jsx(Dt,{justify:"right",children:I.jsx(bn,{onClick:()=>{l.closeModal(c)},children:I.jsx(le,{id:"yz7wBu"})})})]})}const Xu=(l,c,h)=>{const f=l[c];return f?typeof f=="function"?f():Promise.resolve(f):new Promise((x,g)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(g.bind(null,new Error("Unknown variable dynamic import: "+c+(c.split("/").length!==h?". Note that variables only represent file names one level deep.":""))))})},zu=25,Yu=Po()(Lo((l,c)=>({pageSize:zu,setPageSize:h=>{l(f=>({pageSize:h}))},tableSorting:{},getTableSorting:h=>c().tableSorting[h]||{},setTableSorting:h=>f=>{l({tableSorting:{...c().tableSorting,[h]:f}})},tableColumnNames:{},getTableColumnNames:h=>c().tableColumnNames[h]||null,setTableColumnNames:h=>f=>{l({tableColumnNames:{...c().tableColumnNames,[h]:f}})},clearTableColumnNames:()=>{l({tableColumnNames:{}})},hiddenColumns:{},getHiddenColumns:h=>c().hiddenColumns?.[h]??null,setHiddenColumns:h=>f=>{l({hiddenColumns:{...c().hiddenColumns,[h]:f}})}}),{name:"inventree-table-state"})),js="en",Zu=()=>({ar:"",bg:"",cs:"etina",da:"Dansk",de:"Deutsch",el:"",en:"English",es:"Espaol",es_MX:"Espaol (Mxico)",et:"Eesti",fa:"",fi:"Suomi",fr:"Franais",he:"",hi:"",hu:"Magyar",it:"Italiano",ja:"",ko:"",lt:"Lietuvi",lv:"Latvieu",nl:"Nederlands",no:"Norsk",pl:"Polski",pt:"Portugus",pt_BR:"Portugus (Brasil)",ro:"Romn",ru:"",sk:"Slovenina",sl:"Slovenina",sr:"",sv:"Svenska",th:"",tr:"Trke",uk:"",vi:"Ting Vit",zh_Hans:"",zh_Hant:""});function Ku({children:l}){const[c]=Ks(an(E=>[E.language])),[h]=hi(an(E=>[E.server]));k.useEffect(()=>{Hs(js)},[]);const[f,x]=k.useState("loading"),g=k.useRef(!0);return k.useEffect(()=>{g.current=!0;let E=c;return Object.keys(Zu()).includes(E)||(E=js),Hs(E).then(()=>{g.current&&x("loaded");const v=[];E!="pseudo-LOCALE"&&v.push(E),h.default_locale&&v.push(h.default_locale),v.indexOf("en-us")<0&&v.push("en-us");const b=v.map(C=>C?.replaceAll("_","-").toLowerCase()).join(", ");b!=Xn.defaults.headers.common["Accept-Language"]&&(Xn.defaults.headers.common["Accept-Language"]=b,Fo(),Yu.getState().clearTableColumnNames())}).catch(v=>{console.error("ERR: Failed loading translations",v),g.current&&x("error")}),()=>{g.current=!1}},[c]),f==="loading"?I.jsx(fi,{visible:!0}):f==="error"?I.jsx(kt,{children:"An error occurred while loading translations, see browser console for details."}):I.jsx(Uo,{i18n:be,children:l})}async function Hs(l){const{messages:c}=await Xu(Object.assign({}),`../locales/${l}/messages.ts`,4);be.load(l,c),be.activate(l)}function ud({children:l}){const[c]=Ks(an(f=>[f.userTheme])),h=Vo({primaryColor:c.primaryColor,white:c.whiteColor,black:c.blackColor,defaultRadius:c.radius,breakpoints:{xs:"30em",sm:"48em",md:"64em",lg:"74em",xl:"90em"}});return I.jsx(jo,{theme:h,colorSchemeManager:Ho,children:I.jsx(dh,{children:I.jsx(Ku,{children:I.jsxs(lh,{labels:{confirm:I.jsx(le,{id:"hQRttt"}),cancel:I.jsx(le,{id:"dEgA5A"})},modals:{info:Wu,about:wh,license:Ah,qr:Gu},children:[I.jsx(Go,{}),l]})})})})}export{il as $,es as A,uu as B,rd as C,Xh as D,id as E,Zr as F,Yr as G,ws as H,el as I,Ic as J,kc as K,hl as L,fr as M,cn as N,od as O,qs as P,Qu as Q,ld as R,si as S,ud as T,ic as U,nl as V,O0 as W,ds as X,us as Y,Pc as Z,M1 as _,xa as a,ac as a0,V1 as a1,gr as a2,c0 as a3,ps as a4,Z0 as a5,hd as a6,yl as a7,Sc as a8,ss as a9,ll as aA,b0 as aB,ta as aC,xs as aD,M0 as aE,O1 as aF,Hu as aG,h1 as aH,A1 as aI,o1 as aJ,Ju as aK,Ku as aL,Zu as aM,y0 as aN,Pl as aO,rs as aP,Yu as aQ,ed as aR,I1 as aS,Ml as aT,eh as aU,X0 as aa,ns as ab,s0 as ac,P1 as ad,o0 as ae,is as af,Kr as ag,F1 as ah,os as ai,T0 as aj,C0 as ak,hs as al,ms as am,fs as an,Fu as ao,As as ap,Tl as aq,gs as ar,Rc as as,$u as at,_0 as au,_l as av,Ec as aw,jl as ax,ju as ay,au as az,nd as b,td as c,Kh as d,aa as e,mi as f,cd as g,cu as h,He as i,ad as j,a1 as k,sd as l,ca as m,Ql as n,Nc as o,Ol as p,th as q,Un as r,ua as s,Es as t,Zn as u,$s as v,Kl as w,Gl as x,pr as y,qo as z};
//# sourceMappingURL=ThemeContext-CxdCkKtz.js.map
